{"ast":null,"code":"import { Grid, Resize, ContextMenu, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\nimport { select, KeyboardEvents, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, Touch, setValue, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Internationalization, closest, Draggable, initializeCSPTemplate, extend } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\nimport { removeBlur, openAction, getImageUrl, fileType, getSortedData, getLocaleText, updateLayout } from '../common/utility';\nimport { createEmptyElement } from '../common/utility';\nimport { read, Download, GetDetails, Delete } from '../common/operations';\nimport { cutFiles, addBlur, openSearchFolder, copyFiles, removeActive, pasteHandler, getPathObject, getName } from '../common/index';\nimport { hasReadAccess, hasEditAccess, hasDownloadAccess, doRename, getAccessClass, createDeniedDialog, rename } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule, getFullPath } from '../common/index';\nimport { getDirectoryPath, updateRenamingData, getItemName, doDeleteFiles, doDownloadFiles } from '../common/index';\n/**\n * DetailsView module\n */\nvar DetailsView = /** @class */function () {\n  /**\n   * Constructor for the GridView module\n   *\n   * @param {FileManager} parent - specifies the parent.\n   * @hidden\n   */\n  function DetailsView(parent) {\n    this.isInteracted = true;\n    this.interaction = true;\n    this.isPasteOperation = false;\n    this.isColumnRefresh = false;\n    this.dragObj = null;\n    this.startIndex = null;\n    this.firstItemIndex = null;\n    this.isSelectionUpdate = false;\n    this.currentSelectedItem = [];\n    this.count = 0;\n    this.isRendered = true;\n    this.isLoaded = false;\n    this.isNameWidth = false;\n    this.pasteOperation = false;\n    this.uploadOperation = false;\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    this.actionDivert = false;\n    Grid.Inject(Resize, ContextMenu, Sort, VirtualScroll);\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + CLS.GRID_ID, this.parent.element);\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      ctrlUp: 'ctrl+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      end: 'end',\n      home: 'home',\n      moveUp: 'uparrow',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftdel: 'shift+delete',\n      ctrlD: 'ctrl+d',\n      f2: 'f2',\n      ctrlA: 'ctrl+a',\n      enter: 'enter'\n    };\n  }\n  /* istanbul ignore next */\n  DetailsView.prototype.render = function (args) {\n    showSpinner(this.parent.element);\n    if (this.parent.view === 'Details') {\n      removeClass([this.parent.element], CLS.MULTI_SELECT);\n      // eslint-disable-next-line\n      var items = getSortedData(this.parent, args.files);\n      this.checkNameWidth();\n      var columns = this.getColumns();\n      var sortSettings = void 0;\n      if (this.parent.isMobile) {\n        sortSettings = [];\n      } else {\n        if (this.parent.sortOrder !== 'None') {\n          sortSettings = [{\n            direction: this.parent.sortOrder,\n            field: this.parent.sortBy\n          }];\n        }\n      }\n      this.gridObj = new Grid({\n        dataSource: items,\n        allowSorting: true,\n        rowSelecting: this.onSelection.bind(this, 'select'),\n        rowDeselecting: this.onSelection.bind(this, 'unselect'),\n        rowSelected: this.onSelected.bind(this),\n        rowDeselected: this.onDeSelection.bind(this),\n        allowResizing: this.parent.detailsViewSettings.columnResizing,\n        selectionSettings: {\n          type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n          checkboxMode: 'ResetOnRowClick',\n          persistSelection: this.parent.enableVirtualization ? true : false\n        },\n        enableRtl: this.parent.enableRtl,\n        pageSettings: {\n          pageSize: 20\n        },\n        enableVirtualization: this.parent.enableVirtualization,\n        enablePersistence: this.parent.enablePersistence,\n        enableVirtualMaskRow: true,\n        sortSettings: {\n          allowUnsort: false,\n          columns: sortSettings\n        },\n        columns: columns,\n        recordDoubleClick: this.DblClickEvents.bind(this),\n        beforeDataBound: this.onBeforeDataBound.bind(this),\n        dataBound: this.onDataBound.bind(this),\n        rowDataBound: this.onRowDataBound.bind(this),\n        actionBegin: this.onActionBegin.bind(this),\n        headerCellInfo: this.onHeaderCellInfo.bind(this),\n        width: '100%',\n        height: this.parent.enableVirtualization ? this.getGridHeight() : 'auto',\n        beforeCopy: function (args) {\n          args.cancel = true;\n        },\n        // eslint-disable-next-line\n        load: function (args) {\n          this.focusModule.destroy();\n        },\n        locale: this.parent.locale\n      });\n      if (this.parent.isReact) {\n        this.gridObj.isReact = true;\n        this.gridObj.portals = [];\n        this.gridObj.on('reactTemplateRender', this.reactTemplateRender, this);\n      }\n      this.gridObj.isStringTemplate = true;\n      this.gridObj.appendTo('#' + this.parent.element.id + CLS.GRID_ID);\n      this.wireEvents();\n      this.adjustHeight();\n      this.emptyArgs = args;\n    }\n  };\n  DetailsView.prototype.reactTemplateRender = function (args) {\n    this.parent[\"portals\"] = args;\n    if (this.parent.portals && this.parent.toolbarModule && this.parent.toolbarModule.toolbarObj && this.parent.toolbarModule.toolbarObj.portals) {\n      this.parent[\"portals\"] = this.parent[\"portals\"].concat(this.parent.toolbarModule.toolbarObj.portals);\n    }\n    this.parent.notify('renderReactTemplate', this.parent[\"portals\"]);\n    this.parent[\"renderReactTemplates\"]();\n  };\n  /**\n   * Gets the grid height.\n   *\n   * @returns The grid height.\n   * @private\n   */\n  DetailsView.prototype.getGridHeight = function () {\n    // Get the content pane and breadcrumb bar elements\n    var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n    var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n    // The maximum height of the header is 36\n    var headerMaxHeight = 36;\n    // Calculate and return the grid height\n    return pane.offsetHeight - bar.offsetHeight - headerMaxHeight;\n  };\n  DetailsView.prototype.checkNameWidth = function () {\n    var initialColumn = this.parent.detailsViewSettings.columns;\n    this.isNameWidth = false;\n    for (var i = 0; i < initialColumn.length; i++) {\n      if (initialColumn[i].field === 'name') {\n        this.isNameWidth = !isNOU(initialColumn[i].width);\n        return;\n      }\n    }\n  };\n  DetailsView.prototype.adjustWidth = function (columns, fieldName) {\n    if (this.isNameWidth && fieldName === 'name') {\n      return;\n    }\n    for (var i = 0; i < columns.length; i++) {\n      if (columns[i].field === fieldName) {\n        var nameWidth = void 0;\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n          nameWidth = this.element.clientWidth <= 500 ? '120px' : 'auto';\n        } else {\n          nameWidth = this.element.clientWidth <= 680 ? fieldName === 'name' ? '120px' : '180px' : 'auto';\n        }\n        columns[i].width = nameWidth;\n      }\n    }\n  };\n  DetailsView.prototype.getColumns = function () {\n    var columns;\n    if (this.parent.isMobile) {\n      columns = [{\n        field: 'name',\n        headerText: getLocaleText(this.parent, 'Name'),\n        width: 'auto',\n        minWidth: 120,\n        headerTextAlign: 'Left',\n        template: initializeCSPTemplate(function (data) {\n          return \"<div class=\\\"e-fe-text\\\">\" + data.name + \"</div><div class=\\\"e-fe-date\\\">\" + data._fm_modified + \"</div>' +\\n                        '<span class=\\\"e-fe-size\\\">\" + data.size + \"</span>\";\n        })\n      }];\n    } else {\n      columns = extend([], this.parent.detailsViewSettings.columns, null, true);\n      this.adjustWidth(columns, 'name');\n      for (var i = 0, len = columns.length; i < len; i++) {\n        columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n      }\n    }\n    var iWidth = this.parent.isMobile || this.parent.isBigger ? '54' : '46';\n    var icon = {\n      field: 'type',\n      width: iWidth,\n      minWidth: iWidth,\n      template: initializeCSPTemplate(function (data) {\n        return \"<span class=\\\"e-fe-icon \" + data._fm_iconClass + \"\\\"></span>\";\n      }),\n      allowResizing: false,\n      allowSorting: true,\n      customAttributes: {\n        class: 'e-fe-grid-icon'\n      },\n      headerTemplate: initializeCSPTemplate(function () {\n        return \"<span class=\\\"e-fe-icon e-fe-folder\\\"></span>\";\n      })\n    };\n    columns.unshift(icon);\n    if (this.parent.showItemCheckBoxes) {\n      var cWidth = this.parent.isBigger ? '36' : '26';\n      var cBox = {\n        type: 'checkbox',\n        width: cWidth,\n        minWidth: cWidth,\n        customAttributes: {\n          class: 'e-fe-checkbox'\n        },\n        allowResizing: false,\n        allowSorting: false\n      };\n      if (this.parent.isMobile) {\n        columns.push(cBox);\n      } else {\n        columns.unshift(cBox);\n      }\n    }\n    for (var i = 0, len = columns.length; i < len; i++) {\n      columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n    }\n    return columns;\n  };\n  DetailsView.prototype.adjustHeight = function () {\n    if (!this.gridObj) {\n      return;\n    }\n    var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n    var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n    var gridHeader = select('.' + CLS.GRID_HEADER, this.parent.element);\n    var height = pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight;\n    this.gridObj.height = height;\n    this.gridObj.dataBind();\n  };\n  DetailsView.prototype.renderCheckBox = function () {\n    this.gridObj.columns = this.getColumns();\n    this.isColumnRefresh = true;\n    this.gridObj.refreshColumns();\n  };\n  DetailsView.prototype.onRowDataBound = function (args) {\n    var td = select('.e-fe-grid-name', args.row);\n    if (!td) {\n      var columns = this.parent.detailsViewSettings.columns;\n      for (var i = 0; i < columns.length; i++) {\n        if (columns[i].field === 'name') {\n          td = args.row.children[this.parent.allowMultiSelection ? i + 2 : i + 1];\n          break;\n        }\n      }\n    }\n    if (td) {\n      td.setAttribute('title', getValue('name', args.data));\n    }\n    if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n      if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n        addBlur(args.row);\n      }\n    }\n    if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n      var textEle = args.row.querySelector('.e-fe-text');\n      if (textEle) {\n        var name_1 = getValue('name', args.data);\n        var type = getValue('type', args.data);\n        textEle.innerHTML = name_1.substr(0, name_1.length - type.length);\n      }\n    }\n    if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n      var sizeEle = args.row.querySelector('.e-fe-size');\n      var modifiedSize = void 0;\n      if (!getValue('isFile', args.data)) {\n        modifiedSize = '';\n      } else {\n        var sizeValue = getValue('size', args.data);\n        var intl = new Internationalization(this.parent.locale);\n        var sizeFormat = void 0;\n        var columns = this.parent.detailsViewSettings.columns;\n        for (var i = 0; i < columns.length; i++) {\n          if (columns[i].field === 'size') {\n            sizeFormat = !isNullOrUndefined(columns[i].format) ? columns[i].format.toString() : 'n';\n            break;\n          }\n        }\n        var value = intl.formatNumber(sizeValue / 1024, {\n          format: sizeFormat\n        });\n        modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n      }\n      sizeEle.innerHTML = modifiedSize;\n    }\n    if (this.parent.isMobile) {\n      if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n        var dateEle = args.row.querySelector('.e-fe-date');\n        var intl = new Internationalization(this.parent.locale);\n        var columns = this.parent.detailsViewSettings.columns;\n        // eslint-disable-next-line\n        var format = void 0;\n        for (var i = 0; i < columns.length; i++) {\n          if (columns[i].field === 'dateModified') {\n            format = columns[i].format;\n            break;\n          }\n        }\n        var formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n        dateEle.innerHTML = formattedString;\n      }\n    }\n    var checkWrap = args.row.querySelector('.' + CLS.CB_WRAP);\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n    if (!hasEditAccess(args.data)) {\n      args.row.className += ' ' + getAccessClass(args.data);\n    }\n    var eventArgs = {\n      element: args.row,\n      fileDetails: args.data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  };\n  DetailsView.prototype.onActionBegin = function (args) {\n    if (args.requestType === 'sorting') {\n      this.parent.setProperties({\n        sortOrder: args.direction\n      }, true);\n      this.parent.setProperties({\n        sortBy: args.columnName\n      }, true);\n      if (this.parent.selectedItems.length !== 0) {\n        this.sortItem = true;\n        var rows = this.gridObj.getSelectedRowIndexes();\n        var len = rows.length;\n        this.sortSelectedNodes = [];\n        while (len > 0) {\n          // eslint-disable-next-line\n          var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n          this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n          len--;\n        }\n      }\n      this.parent.notify(events.sortByChange, {});\n    }\n  };\n  DetailsView.prototype.onHeaderCellInfo = function (args) {\n    var checkWrap = args.node.querySelector('.' + CLS.CB_WRAP);\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n  };\n  DetailsView.prototype.onBeforeDataBound = function (args) {\n    showSpinner(this.parent.element);\n    // eslint-disable-next-line\n    var items = getSortedData(this.parent, this.parent.enableVirtualization ? args.result : this.gridObj.dataSource);\n    args.result = items;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onDataBound = function () {\n    this.createDragObj();\n    if (this.parent.selectedItems.length !== 0 && !this.parent.enableVirtualization || this.parent.selectedItems.length !== 0 && this.parent.enableVirtualization && this.element.querySelector('.e-content').scrollTop == 0) {\n      this.selectRecords(this.parent.selectedItems);\n    }\n    if (this.isPasteOperation === true) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n    if (this.parent.createdItem) {\n      this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n      this.parent.createdItem = null;\n    }\n    if (this.parent.layoutSelectedItems.length) {\n      this.selectRecords(this.parent.layoutSelectedItems);\n    }\n    if (this.parent.renamedItem) {\n      this.addSelection(this.parent.renamedItem);\n      this.parent.renamedItem = null;\n    }\n    if (this.sortItem === true) {\n      this.selectRecords(this.sortSelectedNodes);\n      this.sortItem = false;\n    }\n    if (this.isSelectionUpdate) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.currentSelectedItem);\n        this.isSelectionUpdate = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n    if (this.uploadOperation === true) {\n      this.count++;\n      this.selectRecords(this.parent.uploadItem);\n      if (this.count === this.parent.uploadItem.length) {\n        this.uploadOperation = false;\n        this.parent.uploadItem = [];\n      }\n    }\n    if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n      var hdTable = this.gridObj.getHeaderContent();\n      hdTable.style.paddingRight = '';\n      hdTable.style.paddingLeft = '';\n      var hdContent = select('.e-headercontent', hdTable);\n      hdContent.style.borderRightWidth = '0';\n      var cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.style.overflowY = '';\n      cnTable.classList.add('e-scrollShow');\n    } else {\n      var hdTable = this.gridObj.getHeaderContent();\n      if (!this.parent.enableRtl) {\n        hdTable.style.paddingRight = '16px';\n      } else {\n        hdTable.style.paddingLeft = '16px';\n      }\n      var cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.classList.remove('e-scrollShow');\n    }\n    this.isRendered = true;\n    this.parent.isLayoutChange = false;\n    hideSpinner(this.parent.element);\n    this.checkEmptyDiv(this.emptyArgs);\n    this.isInteracted = this.isLoaded ? true : this.isInteracted;\n    this.isLoaded = false;\n  };\n  DetailsView.prototype.selectRecords = function (nodes) {\n    // eslint-disable-next-line\n    var gridRecords = this.gridObj.getCurrentViewRecords();\n    var sRecords = [];\n    for (var i = 0, len = gridRecords.length; i < len; i++) {\n      var node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n      if (nodes.indexOf(node) !== -1) {\n        sRecords.push(i);\n      } else if (!this.parent.showFileExtension && node.includes('.')) {\n        var Str2 = node.split('.').slice(0, -1).join('.');\n        if (nodes.indexOf(Str2) !== -1) {\n          sRecords.push(i);\n        }\n      }\n    }\n    if (sRecords.length !== 0) {\n      this.gridObj.selectRows(sRecords);\n      this.addFocus(this.gridObj.selectedRowIndex);\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.addSelection = function (data) {\n    // eslint-disable-next-line\n    var items = this.gridObj.getCurrentViewRecords();\n    // eslint-disable-next-line\n    var rData = [];\n    if (this.parent.hasId) {\n      rData = new DataManager(items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      var nData = new DataManager(items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n      if (nData.length > 0) {\n        rData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n    if (rData.length > 0) {\n      var index = items.indexOf(rData[0]);\n      this.gridObj.selectRows([index]);\n    }\n  };\n  DetailsView.prototype.onSortColumn = function () {\n    if (this.parent.sortOrder !== 'None') {\n      this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n    } else {\n      // eslint-disable-next-line\n      this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n    }\n    if (this.element.querySelector('.e-content').scrollTop !== 0) {\n      this.gridObj.freezeRefresh();\n    }\n  };\n  DetailsView.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n        case 'height':\n          this.adjustHeight();\n          break;\n        case 'detailsViewSettings':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.checkNameWidth();\n            var columns = this.getColumns();\n            this.gridObj.columns = columns;\n            this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n            this.gridObj.dataBind();\n            this.gridObj.refreshColumns();\n          }\n          break;\n        case 'selectedItems':\n          this.interaction = false;\n          if (this.parent.selectedItems.length !== 0) {\n            if (!this.parent.allowMultiSelection) {\n              var slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n              this.parent.setProperties({\n                selectedItems: slItems\n              }, true);\n            }\n            this.selectRecords(this.parent.selectedItems);\n            this.parent.setProperties({\n              selectedItems: this.parent.selectedItems\n            }, true);\n          } else if (!isNOU(this.gridObj)) {\n            this.gridObj.clearSelection();\n            this.interaction = true;\n          }\n          break;\n        case 'showFileExtension':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'showHiddenItems':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'allowMultiSelection':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.currentSelectedItem = this.parent.selectedItems;\n            this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n            this.isSelectionUpdate = true;\n            this.renderCheckBox();\n          }\n          break;\n        case 'view':\n          updateLayout(this.parent, 'Details');\n          break;\n        case 'width':\n          this.onDetailsResize();\n      }\n    }\n  };\n  DetailsView.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false;\n    if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n      this.parent.searchedItems = [];\n      if (!this.parent.isFiltered) {\n        this.removePathColumn(false);\n      } else {\n        this.updatePathColumn();\n      }\n    }\n    removeBlur(this.parent);\n    if (this.parent.view === 'Details') {\n      /* istanbul ignore next */\n      this.isInteracted = false;\n      showSpinner(this.parent.element);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n      this.gridObj.freezeRefresh();\n      if (this.parent.isReact) {\n        this.gridObj.on('reactTemplateRender', this.reactTemplateRender, this);\n      }\n    }\n    this.emptyArgs = args;\n  };\n  DetailsView.prototype.updatePathColumn = function () {\n    var len = this.gridObj.columns.length;\n    var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n    if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n      var pathColumn = {\n        field: 'filterPath',\n        headerText: getLocaleText(this.parent, 'Path'),\n        minWidth: 180,\n        width: 'auto'\n      };\n      this.gridObj.columns.push(pathColumn);\n      this.adjustWidth(this.gridObj.columns, 'filterPath');\n      this.adjustWidth(this.gridObj.columns, 'name');\n      this.isColumnRefresh = true;\n      this.gridObj.refreshColumns();\n    }\n  };\n  DetailsView.prototype.checkEmptyDiv = function (args) {\n    // eslint-disable-next-line\n    var items = getSortedData(this.parent, args.files);\n    if (items.length === 0 && !isNOU(this.element.querySelector('.' + CLS.GRID_VIEW))) {\n      createEmptyElement(this.parent, this.element, args);\n    } else if (items.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n      if (this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY)) {\n        var emptyDiv = this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY);\n        this.element.querySelector('.' + CLS.GRID_VIEW).removeChild(emptyDiv);\n      } else {\n        this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n      }\n    }\n  };\n  DetailsView.prototype.onOpenInit = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      // eslint-disable-next-line\n      var data = this.gridObj.getSelectedRecords()[0];\n      this.openContent(data);\n    }\n  };\n  DetailsView.prototype.DblClickEvents = function (args) {\n    this.gridObj.selectRows([args.rowIndex]);\n    // eslint-disable-next-line\n    var data;\n    if (args.rowData) {\n      data = JSON.parse(JSON.stringify(args.rowData));\n      this.openContent(data);\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.openContent = function (data) {\n    var _this = this;\n    if (!hasReadAccess(data)) {\n      createDeniedDialog(this.parent, data, events.permissionRead);\n      return;\n    }\n    var eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n      if (!fileOpenArgs.cancel) {\n        var name_2 = getValue('name', data);\n        if (getValue('isFile', data)) {\n          var icon = fileType(data);\n          if (icon === CLS.ICON_IMAGE) {\n            var imgUrl = getImageUrl(_this.parent, data);\n            createImageDialog(_this.parent, name_2, imgUrl);\n          }\n        } else {\n          var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n          if (val === '' && !_this.parent.isFiltered) {\n            var id = getValue('id', data);\n            _this.parent.oldPath = _this.parent.path;\n            var newPath = _this.parent.path + (isNOU(id) ? name_2 : id) + '/';\n            _this.parent.setProperties({\n              path: newPath\n            }, true);\n            _this.parent.pathNames.push(name_2);\n            _this.parent.pathId.push(getValue('_fm_id', data));\n            _this.parent.itemData = [data];\n            openAction(_this.parent);\n          } else {\n            openSearchFolder(_this.parent, data);\n          }\n          _this.parent.isFiltered = false;\n        }\n        _this.element.focus();\n        if (_this.parent.enableVirtualization) {\n          _this.parent.element.querySelector('#' + _this.parent.element.id + CLS.IMG_DIALOG_ID).focus();\n        }\n      }\n    });\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onLayoutChange = function (args) {\n    if (this.parent.view === 'Details') {\n      if (this.parent.enableVirtualization) {\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n      }\n      if (!this.gridObj) {\n        this.render(args);\n      } else {\n        this.isLoaded = true;\n      }\n      if (this.parent.isFiltered) {\n        this.updatePathColumn();\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n      }\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n      this.parent.notify(events.hideLayout, {});\n      this.gridObj.element.classList.remove(CLS.DISPLAY_NONE);\n      this.isInteracted = false;\n      this.gridObj.clearSelection();\n      if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n        this.onSearchFiles(args);\n      }\n      this.adjustHeight();\n      if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n      }\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSearchFiles = function (args) {\n    if (this.parent.view === 'Details') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(events.selectionChanged, {});\n      if (!this.parent.isLayoutChange) {\n        this.parent.layoutSelectedItems = [];\n      }\n      this.updatePathColumn();\n      this.parent.searchedItems = args.files;\n      this.onPathChanged(args);\n    }\n  };\n  DetailsView.prototype.removePathColumn = function (isRefresh) {\n    var len = this.gridObj.columns.length;\n    var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n    if (columnData[len - 1].field && columnData[len - 1].field === 'filterPath') {\n      /* istanbul ignore next */\n      if (!isNullOrUndefined(this.gridObj.sortSettings.columns[0]) && this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn('name', this.parent.sortOrder);\n        } else {\n          // eslint-disable-next-line\n          this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n        this.parent.notify(events.sortByChange, {});\n      }\n      this.gridObj.columns.pop();\n      if (!isRefresh) {\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n      }\n    }\n  };\n  DetailsView.prototype.onFinalizeEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    if (!this.gridObj) {\n      this.render(args);\n    } else {\n      this.onPathChanged(args);\n    }\n  };\n  DetailsView.prototype.onCreateEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.onPathChanged(args);\n  };\n  DetailsView.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  };\n  DetailsView.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n    }\n  };\n  DetailsView.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onDeleteEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.onPathChanged(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n  };\n  DetailsView.prototype.onRefreshEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.isInteracted = false;\n    this.removePathColumn(false);\n    this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    this.emptyArgs = args;\n  };\n  DetailsView.prototype.onHideLayout = function () {\n    if (this.parent.view !== 'Details' && this.gridObj) {\n      this.gridObj.element.classList.add(CLS.DISPLAY_NONE);\n    }\n  };\n  DetailsView.prototype.onSelectAllInit = function () {\n    if (this.parent.view === 'Details') {\n      this.isInteracted = false;\n      if (this.parent.allowMultiSelection) {\n        this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n      } else {\n        this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n      }\n      this.isInteracted = true;\n      this.interaction = true;\n    }\n  };\n  DetailsView.prototype.onClearAllInit = function () {\n    if (this.parent.view === 'Details') {\n      this.removeSelection();\n      this.interaction = true;\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSelectionChanged = function () {\n    removeClass([this.element], CLS.HEADER_CHECK);\n    if (this.parent.selectedItems.length > 0) {\n      addClass([this.element], CLS.HEADER_CHECK);\n    }\n  };\n  DetailsView.prototype.onLayoutRefresh = function () {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.adjustHeight();\n  };\n  DetailsView.prototype.onBeforeRequest = function () {\n    this.isRendered = false;\n  };\n  DetailsView.prototype.onAfterRequest = function () {\n    this.isRendered = true;\n  };\n  DetailsView.prototype.onUpdateSelectionData = function () {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.parent.itemData = this.gridObj.getSelectedRecords();\n  };\n  DetailsView.prototype.addEventListener = function () {\n    this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.layoutChange, this.onLayoutChange, this);\n    this.parent.on(events.pathChanged, this.onPathChanged, this);\n    this.parent.on(events.createEnd, this.onCreateEnd, this);\n    this.parent.on(events.dropInit, this.onDropInit, this);\n    this.parent.on(events.detailsInit, this.onDetailsInit, this);\n    this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(events.search, this.onSearchFiles, this);\n    this.parent.on(events.methodCall, this.onMethodCall, this);\n    this.parent.on(events.actionFailure, this.onActionFailure, this);\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.deleteInit, this.onDeleteInit, this);\n    this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(events.selectedData, this.onSelectedData, this);\n    this.parent.on(events.renameInit, this.onRenameInit, this);\n    this.parent.on(events.renameEnd, this.onPathChanged, this);\n    this.parent.on(events.openInit, this.onOpenInit, this);\n    this.parent.on(events.sortColumn, this.onSortColumn, this);\n    this.parent.on(events.openEnd, this.onPathChanged, this);\n    this.parent.on(events.filterEnd, this.onPathChanged, this);\n    this.parent.on(events.pasteInit, this.onPasteInit, this);\n    this.parent.on(events.hideLayout, this.onHideLayout, this);\n    this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n    this.parent.on(events.pathColumn, this.onPathColumn, this);\n    this.parent.on(events.selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(events.afterRequest, this.onAfterRequest, this);\n    this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n    this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(events.menuItemData, this.onMenuItemData, this);\n    this.parent.on(events.resizeEnd, this.onDetailsResizeHandler, this);\n    this.parent.on(events.splitterResize, this.onDetailsResize, this);\n    this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(events.dropPath, this.onDropPath, this);\n    this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n  };\n  DetailsView.prototype.removeEventListener = function () {\n    this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.layoutChange, this.onLayoutChange);\n    this.parent.off(events.pathChanged, this.onPathChanged);\n    this.parent.off(events.pasteInit, this.onPasteInit);\n    this.parent.off(events.createEnd, this.onCreateEnd);\n    this.parent.off(events.refreshEnd, this.onRefreshEnd);\n    this.parent.off(events.search, this.onSearchFiles);\n    this.parent.off(events.methodCall, this.onMethodCall);\n    this.parent.off(events.actionFailure, this.onActionFailure);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.parent.off(events.renameInit, this.onRenameInit);\n    this.parent.off(events.renameEnd, this.onPathChanged);\n    this.parent.off(events.filterEnd, this.onPathChanged);\n    this.parent.off(events.openInit, this.onOpenInit);\n    this.parent.off(events.sortColumn, this.onSortColumn);\n    this.parent.off(events.openEnd, this.onPathChanged);\n    this.parent.off(events.hideLayout, this.onHideLayout);\n    this.parent.off(events.selectAllInit, this.onSelectAllInit);\n    this.parent.off(events.clearAllInit, this.onClearAllInit);\n    this.parent.off(events.deleteInit, this.onDeleteInit);\n    this.parent.off(events.deleteEnd, this.onDeleteEnd);\n    this.parent.off(events.pathColumn, this.onPathColumn);\n    this.parent.off(events.selectionChanged, this.onSelectionChanged);\n    this.parent.off(events.beforeRequest, this.onBeforeRequest);\n    this.parent.off(events.afterRequest, this.onAfterRequest);\n    this.parent.off(events.pasteEnd, this.onpasteEnd);\n    this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n    this.parent.off(events.dropInit, this.onDropInit);\n    this.parent.off(events.selectedData, this.onSelectedData);\n    this.parent.off(events.detailsInit, this.onDetailsInit);\n    this.parent.off(events.menuItemData, this.onMenuItemData);\n    this.parent.off(events.resizeEnd, this.onDetailsResizeHandler);\n    this.parent.off(events.splitterResize, this.onDetailsResize);\n    this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(events.dropPath, this.onDropPath);\n    this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n  };\n  DetailsView.prototype.onActionFailure = function () {\n    this.interaction = true;\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n    }\n  };\n  DetailsView.prototype.onPasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath !== '' ? this.gridObj.getSelectedRecords() : [getPathObject(this.parent)];\n    }\n  };\n  DetailsView.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  };\n  DetailsView.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n    var dragLi = dragTarget.closest('tr.e-row');\n    if (!dragLi) {\n      return null;\n    }\n    var name;\n    if (dragLi.getElementsByClassName('e-fe-text')[0]) {\n      name = this.parent.hasId ? this.gridObj.getRowInfo(dragLi).rowData.id : dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n    } else if (dragLi.getElementsByClassName('e-rowcell e-templatecell')[0].nextElementSibling) {\n      name = this.parent.hasId ? this.gridObj.getRowInfo(dragLi).rowData.id : dragLi.getElementsByClassName('e-rowcell e-templatecell')[0].nextElementSibling.innerText;\n    }\n    if (dragLi && !dragLi.querySelector('.e-active')) {\n      this.selectRecords([name]);\n    }\n    getModule(this.parent, dragLi);\n    this.parent.activeElements = [];\n    this.parent.dragData = [];\n    // eslint-disable-next-line\n    this.parent.dragData = this.gridObj.getSelectedRecords();\n    var dragRow;\n    if (this.parent.dragData.length === 0 && dragLi) {\n      dragRow = this.gridObj.getRowInfo(dragLi);\n    }\n    if (dragRow) {\n      this.parent.dragData.push(dragRow.rowData);\n    }\n    this.parent.dragPath = this.parent.path;\n    this.parent.activeElements = this.gridObj.getSelectedRows();\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onDetailsResize = function () {\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n      var gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n      var gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n      var gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n      var gridHeaderColNames = this.gridObj.getColumns();\n      for (var i = 0; i < gridHeaderColNames.length; i++) {\n        if (!this.isNameWidth && gridHeaderColNames[i].field === 'name' || gridHeaderColNames[i].field === 'filterPath') {\n          if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            if (this.element.clientWidth <= 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n              gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n            } else if (this.element.clientWidth > 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          } else {\n            if (this.element.clientWidth <= 680) {\n              if (gridHeaderColNames[i].field === 'name') {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n              } else {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n              }\n            } else if (this.element.clientWidth > 680) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          }\n        }\n      }\n    }\n  };\n  DetailsView.prototype.onDetailsResizeHandler = function () {\n    this.onDetailsResize();\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n      this.adjustHeight();\n    }\n  };\n  DetailsView.prototype.createDragObj = function () {\n    var _this = this;\n    if (this.gridObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n        this.dragObj = new Draggable(this.gridObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          distance: 5,\n          enableTailMode: true,\n          dragArea: this.parent.element,\n          dragTarget: '.' + CLS.ROW,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableAutoScroll: false,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n      }\n    }\n  };\n  DetailsView.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      /* istanbul ignore next */\n      // eslint-disable-next-line\n      var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n      if (!args.target.closest('tr')) {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      } else {\n        // eslint-disable-next-line\n        var info = null;\n        // eslint-disable-next-line\n        info = this.gridObj.getRowInfo(args.target).rowData;\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      }\n    }\n  };\n  DetailsView.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.gridObj.getSelectedRecords();\n      this.parent.activeElements = this.gridObj.getSelectedRows();\n    }\n  };\n  DetailsView.prototype.onpasteEnd = function (args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  };\n  DetailsView.prototype.onDropPath = function (args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns modules name.\n   * @private\n   */\n  DetailsView.prototype.getModuleName = function () {\n    return 'detailsview';\n  };\n  DetailsView.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.removeEventListener();\n    if (this.gridObj) {\n      if (this.parent.isReact) {\n        this.gridObj.off('reactTemplateRender', this.reactTemplateRender);\n      }\n      this.unWireEvents();\n      this.gridObj.destroy();\n    }\n  };\n  DetailsView.prototype.updateType = function (item) {\n    var folder = select('.' + CLS.FOLDER, item);\n    this.parent.isFile = isNOU(folder) ? true : false;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSelection = function (action, args) {\n    var eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction,\n      cancel: false,\n      target: args.target\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    args.cancel = eventArgs.cancel;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSelected = function (args) {\n    this.parent.activeModule = 'detailsview';\n    if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n      this.selectedRecords();\n    }\n    this.parent.notify(events.selectionChanged, {});\n    if (this.gridObj.getSelectedRowIndexes().length === 1) {\n      this.firstItemIndex = this.gridObj.selectedRowIndex;\n    }\n    this.gridObj.element.setAttribute('tabindex', '-1');\n    this.triggerSelect('select', args);\n    var item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n    this.updateType(item);\n    if (!isNOU(item) && !isNOU(item.querySelector('.e-checkselect'))) {\n      if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n        var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n        var lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n        lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n      }\n      item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n    }\n    if (!isNOU(this.gridObj) && !isNOU(this.gridObj.element.querySelector('.e-checkselectall'))) {\n      this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n    }\n    var rows = this.gridObj.getSelectedRowIndexes();\n    if (!this.parent.allowMultiSelection) {\n      for (var i = 0; i < rows.length; i++) {\n        if (rows[i] === this.gridObj.selectedRowIndex) {\n          this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n        } else {\n          this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n        }\n      }\n    }\n    var len = rows.length;\n    if (this.parent.enableVirtualization) {\n      this.parent.currentItemText = getValue('name', args.data);\n    } else if (len > 0) {\n      // eslint-disable-next-line\n      var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n      this.parent.currentItemText = getValue('name', data);\n    }\n    var indexes = getValue('rowIndexes', args);\n    var multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n    if (this.parent.isDevice && isNOU(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n      this.parent.isFile = getValue('isFile', args.data);\n      if (!this.parent.isFile) {\n        this.openContent(args.data);\n      }\n    }\n    this.parent.visitedItem = args.row;\n    if (!this.parent.enableVirtualization || !args.isHeaderCheckboxClicked) {\n      this.addFocus(this.gridObj.selectedRowIndex);\n    }\n    if (!this.parent.isLayoutChange) {\n      this.isInteracted = true;\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onPathColumn = function () {\n    if (this.parent.view === 'Details' && !isNOU(this.gridObj)) {\n      if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n        this.removePathColumn(false);\n      }\n    }\n  };\n  DetailsView.prototype.selectedRecords = function () {\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    // eslint-disable-next-line\n    var selectedRecords = this.gridSelectNodes();\n    var selectSize = 0;\n    while (selectSize < selectedRecords.length) {\n      var record = selectedRecords[selectSize];\n      var name_3 = getItemName(this.parent, record);\n      this.parent.selectedItems.push(name_3);\n      selectSize++;\n    }\n    this.parent.setProperties({\n      selectedItems: this.parent.selectedItems\n    }, true);\n  };\n  DetailsView.prototype.onDeSelection = function (args) {\n    /* istanbul ignore next */\n    if (!this.parent.allowMultiSelection && isNOU(args.data)) {\n      this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n    } else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n      var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n      this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n    }\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.gridObj.element.setAttribute('tabindex', '0');\n    }\n    if (!this.isInteracted) {\n      this.isInteracted = true;\n      return;\n    }\n    this.selectedRecords();\n    if (this.parent.selectedItems.length === 0) {\n      setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n      removeClass([this.parent.element], CLS.MULTI_SELECT);\n    }\n    this.parent.notify(events.selectionChanged, {});\n    this.triggerSelect('unselect', args);\n    this.parent.visitedItem = null;\n  };\n  DetailsView.prototype.triggerSelect = function (action, args) {\n    var eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.interaction = true;\n  };\n  DetailsView.prototype.wireEvents = function () {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n      keyAction: this.keyupHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n  };\n  DetailsView.prototype.unWireEvents = function () {\n    this.wireClickEvent(false);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n    EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n  };\n  DetailsView.prototype.wireClickEvent = function (toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      var proxy_1 = this;\n      var ele = this.gridObj.getContent();\n      this.clickObj = new Touch(ele, {\n        tap: function (eve) {\n          if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n            proxy_1.onClearAllInit();\n          }\n        },\n        tapHold: function (e) {\n          if (proxy_1.parent.isDevice) {\n            e.originalEvent.preventDefault();\n            if (proxy_1.parent.allowMultiSelection) {\n              setValue('enableSelectMultiTouch', proxy_1.parent.allowMultiSelection, proxy_1.gridObj.selectionModule);\n              addClass([proxy_1.parent.element], CLS.MULTI_SELECT);\n            }\n            var target = e.originalEvent.target;\n            if (target) {\n              var row = closest(target, '.' + CLS.ROW);\n              var index = proxy_1.gridObj.getRows().indexOf(row);\n              proxy_1.gridObj.selectRow(index);\n            }\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.removeSelection = function () {\n    removeClass([this.parent.element], CLS.MULTI_SELECT);\n    this.gridObj.clearSelection();\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.parent.notify(events.selectionChanged, {});\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.startIndex = null;\n    }\n    this.isInteracted = true;\n  };\n  DetailsView.prototype.removeFocus = function () {\n    this.addFocus(null);\n  };\n  DetailsView.prototype.getFocusedItemIndex = function () {\n    return !isNOU(this.getFocusedItem()) ? parseInt(this.getFocusedItem().getAttribute('data-rowindex'), 10) : null;\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n  DetailsView.prototype.keydownHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'moveDown':\n      case 'moveUp':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n      default:\n        break;\n    }\n  };\n  DetailsView.prototype.keyupHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n    e.preventDefault();\n    var action = e.action;\n    // eslint-disable-next-line\n    var gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n    var gridLength = gridItems.length;\n    var focItem = this.getFocusedItem();\n    var focIndex = this.getFocusedItemIndex();\n    var selIndex = this.gridObj.selectedRowIndex;\n    var selRowIndeces = this.gridObj.getSelectedRowIndexes();\n    // eslint-disable-next-line\n    var rowData;\n    var firstItem;\n    var lastItem;\n    switch (action) {\n      case 'altEnter':\n        this.parent.notify(events.detailsInit, {});\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n      case 'esc':\n        removeActive(this.parent);\n        break;\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n      case 'enter':\n        if (this.gridObj.selectedRowIndex === -1) {\n          break;\n        }\n        rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n        if (rowData) {\n          // eslint-disable-next-line\n          var data = JSON.parse(JSON.stringify(rowData));\n          this.openContent(data);\n        }\n        break;\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n      case 'ctrlD':\n        this.doDownload();\n        break;\n      case 'f2':\n        this.performRename();\n        break;\n      case 'ctrlA':\n        if (!isNOU(gridItems[0]) && this.parent.allowMultiSelection) {\n          var cnTable = this.gridObj.getContent().querySelector('.e-content');\n          var crtSrlPos = cnTable.scrollTop;\n          var crtFocusIndex = this.gridObj.selectedRowIndex;\n          this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n          cnTable.scrollTop = crtSrlPos;\n          if (crtFocusIndex !== -1) {\n            this.addFocus(crtFocusIndex);\n          }\n        }\n        break;\n      case 'ctrlHome':\n      case 'tab':\n        if (!isNOU(gridItems[0])) {\n          if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n            this.gridObj.selectRow(0);\n          } else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n            return;\n          } else if (!this.actionDivert) {\n            this.addHeaderFocus();\n            this.actionDivert = true;\n          } else {\n            this.addFocus(0);\n            this.actionDivert = false;\n          }\n        }\n        break;\n      case 'ctrlEnd':\n        if (!isNOU(gridItems[0])) {\n          if (!this.parent.allowMultiSelection) {\n            this.gridObj.selectRow(gridLength - 1);\n          } else {\n            this.addFocus(gridLength - 1);\n          }\n        }\n        break;\n      case 'shiftHome':\n      case 'shiftEnd':\n      case 'csHome':\n      case 'csEnd':\n        if (!this.parent.allowMultiSelection) {\n          this.gridObj.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : gridItems.length - 1);\n        } else {\n          if (!isNOU(gridItems[0])) {\n            if (!isNOU(selIndex) && selIndex !== -1) {\n              this.checkRowsKey(gridItems, selIndex, null, e);\n            } else {\n              if (e.action === 'csHome' || e.action === 'shiftHome') {\n                this.gridObj.selectRow(0);\n              } else {\n                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n              }\n            }\n          }\n        }\n        break;\n      case 'space':\n      case 'csSpace':\n      case 'shiftSpace':\n      case 'ctrlSpace':\n        this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n        break;\n      case 'csUp':\n      case 'csDown':\n      case 'shiftUp':\n      case 'shiftDown':\n        this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n        break;\n      case 'ctrlUp':\n      case 'ctrlDown':\n        if (!this.parent.allowMultiSelection) {\n          this.moveFunction(gridItems, e, selIndex);\n        } else {\n          this.ctrlMoveFunction(gridItems, e, selIndex);\n        }\n        break;\n      case 'home':\n        firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n        this.parent.setProperties({\n          selectedItems: firstItem\n        }, true);\n        this.selectRecords(firstItem);\n        break;\n      case 'moveUp':\n      case 'moveDown':\n        this.moveFunction(gridItems, e, selIndex);\n        break;\n      case 'end':\n        lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n        this.parent.setProperties({\n          selectedItems: lastItem\n        }, true);\n        this.selectRecords(lastItem);\n        break;\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.gridSelectNodes = function () {\n    return this.gridObj.getSelectedRecords();\n  };\n  DetailsView.prototype.doDownload = function () {\n    if (this.parent.selectedItems.length !== 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n      // eslint-disable-next-line\n      var items = this.parent.itemData;\n      for (var i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], events.permissionDownload);\n          return;\n        }\n      }\n      Download(this.parent, this.parent.path, this.parent.selectedItems);\n    }\n  };\n  DetailsView.prototype.performDelete = function () {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n      // eslint-disable-next-line\n      var items = this.parent.itemData;\n      for (var i = 0; i < items.length; i++) {\n        if (!hasEditAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], events.permissionEdit);\n          return;\n        }\n      }\n      createDialog(this.parent, 'Delete');\n    }\n  };\n  DetailsView.prototype.performRename = function () {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  };\n  DetailsView.prototype.updateRenameData = function () {\n    // eslint-disable-next-line\n    var data = this.gridSelectNodes()[0];\n    updateRenamingData(this.parent, data);\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.shiftMoveMethod = function (gridItems, selIndex, focIndex, selRowIndeces, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.moveFunction(gridItems, e, selIndex);\n    } else {\n      if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n        this.ctrlMoveFunction(gridItems, e, selIndex);\n      } else if (selIndex !== -1 && focIndex !== selIndex && !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n        this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n      } else {\n        this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n      }\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.moveFunction = function (selectedItems, e, rowIndex) {\n    if (!isNOU(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n      if (e.action === 'moveDown') {\n        this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n      } else {\n        this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n      }\n    } else if (!isNOU(rowIndex) && rowIndex !== -1) {\n      if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectRow(rowIndex + (rowIndex !== selectedItems.length - 1 ? 1 : 0));\n      } else {\n        this.gridObj.selectRow(rowIndex - (rowIndex !== 0 ? 1 : 0));\n      }\n    } else {\n      if (!isNOU(selectedItems[0])) {\n        this.gridObj.selectRow(0);\n      }\n    }\n  };\n  DetailsView.prototype.spaceSelection = function (selRowIndeces, focIndex, selIndex, e) {\n    if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n      if (focIndex < selIndex) {\n        this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n      }\n    } else if (!isNOU(this.getFocusedItem()) && focIndex !== selIndex) {\n      selRowIndeces.push(this.getFocusedItemIndex());\n      this.gridObj.selectRows(selRowIndeces);\n    } else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n      var lItem = selIndex;\n      selRowIndeces.pop();\n      this.gridObj.selectRows(selRowIndeces);\n      this.addFocus(lItem);\n    } else if (e.action === 'shiftSpace') {\n      this.gridObj.selectRow(selIndex);\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.ctrlMoveFunction = function (items, e, rowIndex) {\n    var nextItem;\n    if (!isNOU(this.getFocusedItem())) {\n      var nextIndex = this.getFocusedItemIndex();\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? nextIndex + (nextIndex < items.length - 1 ? 1 : 0) : nextIndex - (nextIndex < 1 ? 0 : 1);\n    } else if (!isNOU(rowIndex) && rowIndex !== -1) {\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? rowIndex + (rowIndex < items.length ? 1 : 0) : rowIndex - (rowIndex < 1 ? 0 : 1);\n    } else {\n      if (!isNOU(items[0])) {\n        nextItem = 0;\n      }\n    }\n    this.addFocus(nextItem);\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.checkRowsKey = function (items, indexValue, focIndex, e) {\n    if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n      if (e.action !== 'csHome' && e.action !== 'csEnd') {\n        if (isNOU(this.startIndex) && this.firstItemIndex !== indexValue) {\n          this.firstItemIndex = indexValue;\n        }\n        if (e.action === 'shiftEnd') {\n          this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n        }\n        this.startIndex = indexValue;\n      } else {\n        if (e.action === 'csEnd') {\n          this.gridObj.selectRows(this.InnerItems(isNOU(indexValue) ? 0 : indexValue, isNOU(focIndex) ? items.length - 1 : focIndex, e));\n        } else {\n          if (isNOU(indexValue)) {\n            this.gridObj.selectRow(0);\n          } else {\n            this.gridObj.selectRows(this.InnerItems(isNOU(focIndex) ? 0 : focIndex, indexValue, e));\n          }\n        }\n      }\n    } else {\n      this.gridObj.selectionModule.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : items.length - 1);\n    }\n  };\n  DetailsView.prototype.InnerItems = function (fItem, lItem, e) {\n    var itemArr = this.gridObj.getSelectedRowIndexes();\n    if (e.action === 'csEnd') {\n      for (var i = fItem + 1; i <= lItem; i++) {\n        itemArr.push(i);\n      }\n    } else {\n      for (var i = lItem - 1; fItem <= i; i--) {\n        itemArr.push(i);\n      }\n    }\n    return itemArr;\n  };\n  DetailsView.prototype.shiftSelectFocusItem = function (selIndex, fIndex, selRowIndexes, e) {\n    var lItem = fIndex + (e.action === 'shiftDown' || e.action === 'csDown' ? 1 : -1);\n    var fItem = isNOU(this.startIndex) ? selIndex : selRowIndexes[0];\n    if (fItem === lItem) {\n      this.gridObj.selectRow(fItem);\n    } else {\n      if (fItem < lItem) {\n        if (e.action === 'shiftDown' || e.action === 'csDown') {\n          this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n        }\n      } else if (e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n      }\n    }\n    this.startIndex = this.gridObj.selectedRowIndex;\n  };\n  DetailsView.prototype.addFocus = function (item) {\n    var fItem = this.getFocusedItem();\n    var itemElement = this.gridObj.getRowByIndex(item);\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [CLS.FOCUS, CLS.FOCUSED]);\n    }\n    if (!isNOU(itemElement)) {\n      this.gridObj.element.setAttribute('tabindex', '-1');\n      itemElement.setAttribute('tabindex', '0');\n      itemElement.focus();\n      addClass([itemElement], [CLS.FOCUS, CLS.FOCUSED]);\n    }\n  };\n  DetailsView.prototype.addHeaderFocus = function () {\n    var treeFocus = select('.e-row', this.element);\n    this.gridObj.element.setAttribute('tabindex', '-1');\n    var nameFocus = select('th.e-fe-grid-name', this.element);\n    nameFocus.setAttribute('tabindex', '0');\n    nameFocus.focus();\n    addClass([nameFocus], [CLS.FOCUS, CLS.FOCUSED]);\n    treeFocus.setAttribute('tabindex', '0');\n    if (treeFocus.tabIndex === 0 && nameFocus.tabIndex === 0) {\n      removeClass([treeFocus], [CLS.FOCUS, CLS.FOCUSED]);\n    }\n  };\n  DetailsView.prototype.getFocusedItem = function () {\n    return select('.' + CLS.FOCUSED, this.element);\n  };\n  DetailsView.prototype.isSelected = function (selRowIndexes, focIndex) {\n    var check = false;\n    for (var i = 0; i <= selRowIndexes.length - 1; i++) {\n      if (selRowIndexes[i] === focIndex) {\n        check = true;\n        break;\n      }\n    }\n    return check;\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.shiftSelectedItem = function (selIndex, selRowIndexes, gridItems, e) {\n    if (selIndex === -1) {\n      this.gridObj.selectRow(0);\n    } else {\n      if (isNOU(this.startIndex) && e.shiftKey) {\n        this.startIndex = this.gridObj.selectedRowIndex;\n        this.gridObj.selectRows([selIndex, e.action === 'shiftDown' || e.action === 'csDown' ? selIndex + (selIndex !== gridItems.length - 1 ? 1 : 0) : selIndex - (selIndex !== 0 ? 1 : 0)]);\n      } else {\n        if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n          if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n            if (selIndex !== gridItems.length - 1) {\n              selRowIndexes.push(selIndex + 1);\n            }\n          } else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n            if (selIndex !== 0) {\n              selRowIndexes.push(selIndex - 1);\n            }\n          } else {\n            selRowIndexes.pop();\n          }\n          this.gridObj.selectRows(selRowIndexes);\n        } else {\n          if (e.action === 'csDown') {\n            if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n              selRowIndexes.push(this.getFocusedItemIndex() + 1);\n              this.gridObj.selectRows(selRowIndexes);\n            } else {\n              this.addFocus(this.getFocusedItemIndex() + 1);\n            }\n          } else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n            selRowIndexes.push(this.getFocusedItemIndex() - 1);\n            this.gridObj.selectRows(selRowIndexes);\n          } else {\n            this.addFocus(this.getFocusedItemIndex() - 1);\n          }\n        }\n      }\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.onMethodCall = function (e) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    var action = getValue('action', e);\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', e));\n        break;\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', e));\n        break;\n      case 'openFile':\n        this.openFile(getValue('id', e));\n        break;\n      case 'createFolder':\n        this.interaction = false;\n        break;\n      case 'renameFile':\n        this.interaction = false;\n        this.renameFile(getValue('id', e), getValue('newName', e));\n        break;\n      case 'selectAll':\n        this.interaction = false;\n        this.onSelectAllInit();\n        break;\n      case 'clearSelection':\n        this.interaction = false;\n        this.onClearAllInit();\n        break;\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.getRecords = function (nodes) {\n    // eslint-disable-next-line\n    var gridRecords = this.gridObj.getCurrentViewRecords();\n    // eslint-disable-next-line\n    var records = [];\n    var hasFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    var filter = this.parent.hasId ? 'id' : 'name';\n    if (this.parent.hasId || !hasFilter) {\n      for (var i = 0, len = gridRecords.length; i < len; i++) {\n        if (nodes.indexOf(getValue(filter, gridRecords[i])) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    } else {\n      for (var i = 0, len = gridRecords.length; i < len; i++) {\n        var name_4 = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n        if (nodes.indexOf(name_4) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    }\n    return records;\n  };\n  DetailsView.prototype.deleteFiles = function (ids) {\n    this.parent.activeModule = 'detailsview';\n    if (isNOU(ids)) {\n      this.performDelete();\n      return;\n    }\n    // eslint-disable-next-line\n    var records = this.getRecords(ids);\n    if (records.length === 0) {\n      return;\n    }\n    // eslint-disable-next-line\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < records.length; i++) {\n      data[i] = records[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDeleteFiles(this.parent, data, newIds);\n  };\n  DetailsView.prototype.downloadFiles = function (ids) {\n    if (isNOU(ids)) {\n      this.doDownload();\n      return;\n    }\n    // eslint-disable-next-line\n    var dRecords = this.getRecords(ids);\n    if (dRecords.length === 0) {\n      return;\n    }\n    // eslint-disable-next-line\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < dRecords.length; i++) {\n      data[i] = dRecords[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDownloadFiles(this.parent, data, newIds);\n  };\n  DetailsView.prototype.openFile = function (id) {\n    if (isNOU(id)) {\n      return;\n    }\n    // eslint-disable-next-line\n    var records = this.getRecords([id]);\n    if (records.length > 0) {\n      this.openContent(records[0]);\n    }\n  };\n  DetailsView.prototype.renameFile = function (id, name) {\n    this.parent.activeModule = 'detailsview';\n    if (isNOU(id)) {\n      this.performRename();\n      return;\n    }\n    // eslint-disable-next-line\n    var records = this.getRecords([id]);\n    if (records.length > 0) {\n      updateRenamingData(this.parent, records[0]);\n      if (!isNOU(name)) {\n        if (hasEditAccess(this.parent.itemData[0])) {\n          rename(this.parent, this.parent.path, name);\n        } else {\n          createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n        }\n      } else {\n        doRename(this.parent);\n      }\n    }\n  };\n  return DetailsView;\n}();\nexport { DetailsView };","map":{"version":3,"names":["Grid","Resize","ContextMenu","Sort","VirtualScroll","select","KeyboardEvents","EventHandler","getValue","isNullOrUndefined","isNOU","Touch","setValue","addClass","removeClass","Internationalization","closest","Draggable","initializeCSPTemplate","extend","DataManager","Query","hideSpinner","showSpinner","events","CLS","createDialog","createImageDialog","removeBlur","openAction","getImageUrl","fileType","getSortedData","getLocaleText","updateLayout","createEmptyElement","read","Download","GetDetails","Delete","cutFiles","addBlur","openSearchFolder","copyFiles","removeActive","pasteHandler","getPathObject","getName","hasReadAccess","hasEditAccess","hasDownloadAccess","doRename","getAccessClass","createDeniedDialog","rename","createVirtualDragElement","dragStopHandler","dragStartHandler","draggingHandler","getModule","getFullPath","getDirectoryPath","updateRenamingData","getItemName","doDeleteFiles","doDownloadFiles","DetailsView","parent","isInteracted","interaction","isPasteOperation","isColumnRefresh","dragObj","startIndex","firstItemIndex","isSelectionUpdate","currentSelectedItem","count","isRendered","isLoaded","isNameWidth","pasteOperation","uploadOperation","actionDivert","Inject","element","id","GRID_ID","addEventListener","keyConfigs","altEnter","esc","tab","moveDown","ctrlEnd","ctrlHome","ctrlDown","ctrlLeft","ctrlRight","shiftEnd","shiftHome","shiftDown","shiftUp","ctrlUp","csEnd","csHome","csDown","csUp","space","ctrlSpace","shiftSpace","csSpace","end","home","moveUp","del","ctrlX","isMac","ctrlC","ctrlV","ctrlShiftN","shiftdel","ctrlD","f2","ctrlA","enter","prototype","render","args","view","MULTI_SELECT","items","files","checkNameWidth","columns","getColumns","sortSettings","isMobile","sortOrder","direction","field","sortBy","gridObj","dataSource","allowSorting","rowSelecting","onSelection","bind","rowDeselecting","rowSelected","onSelected","rowDeselected","onDeSelection","allowResizing","detailsViewSettings","columnResizing","selectionSettings","type","allowMultiSelection","checkboxMode","persistSelection","enableVirtualization","enableRtl","pageSettings","pageSize","enablePersistence","enableVirtualMaskRow","allowUnsort","recordDoubleClick","DblClickEvents","beforeDataBound","onBeforeDataBound","dataBound","onDataBound","rowDataBound","onRowDataBound","actionBegin","onActionBegin","headerCellInfo","onHeaderCellInfo","width","height","getGridHeight","beforeCopy","cancel","load","focusModule","destroy","locale","isReact","portals","on","reactTemplateRender","isStringTemplate","appendTo","wireEvents","adjustHeight","emptyArgs","toolbarModule","toolbarObj","concat","notify","pane","CONTENT_ID","bar","BREADCRUMBBAR_ID","headerMaxHeight","offsetHeight","initialColumn","i","length","adjustWidth","fieldName","nameWidth","breadcrumbbarModule","searchObj","value","isFiltered","clientWidth","headerText","minWidth","headerTextAlign","template","data","name","_fm_modified","size","len","iWidth","isBigger","icon","_fm_iconClass","customAttributes","class","headerTemplate","unshift","showItemCheckBoxes","cWidth","cBox","push","disableHtmlEncode","enableHtmlSanitizer","gridHeader","GRID_HEADER","dataBind","renderCheckBox","refreshColumns","td","row","children","setAttribute","isLayoutChange","isCut","fileAction","selectedNodes","indexOf","showFileExtension","textEle","querySelector","name_1","innerHTML","substr","undefined","sizeEle","modifiedSize","sizeValue","intl","sizeFormat","format","toString","formatNumber","dateEle","formattedString","formatDate","Date","checkWrap","CB_WRAP","classList","add","className","eventArgs","fileDetails","module","trigger","requestType","setProperties","columnName","selectedItems","sortItem","rows","getSelectedRowIndexes","sortSelectedNodes","getRowsObject","hasId","sortByChange","node","result","createDragObj","scrollTop","selectRecords","pasteNodes","createdItem","layoutSelectedItems","renamedItem","addSelection","uploadItem","currentViewData","getRowHeight","hdTable","getHeaderContent","style","paddingRight","paddingLeft","hdContent","borderRightWidth","cnTable","getContent","overflowY","remove","checkEmptyDiv","nodes","gridRecords","getCurrentViewRecords","sRecords","includes","Str2","split","slice","join","selectRows","addFocus","selectedRowIndex","rData","executeLocal","where","renamedId","nData","filterPath","index","onSortColumn","sortModule","sortColumn","freezeRefresh","onPropertyChanged","e","getModuleName","_i","_a","Object","keys","newProp","prop","slItems","clearSelection","pathChanged","path","onDetailsResize","onPathChanged","trim","searchedItems","removePathColumn","updatePathColumn","columnData","JSON","parse","stringify","pathColumn","GRID_VIEW","EMPTY","emptyDiv","removeChild","onOpenInit","activeModule","getSelectedRecords","openContent","rowIndex","rowData","_this","permissionRead","fileOpenArgs","name_2","ICON_IMAGE","imgUrl","val","oldPath","newPath","pathNames","pathId","itemData","focus","IMG_DIALOG_ID","onLayoutChange","hideLayout","DISPLAY_NONE","onSearchFiles","selectionChanged","isRefresh","pop","onFinalizeEnd","onCreateEnd","onRenameInit","updateRenameData","onSelectedData","onDeleteInit","onDeleteEnd","onRefreshEnd","onHideLayout","onSelectAllInit","selectionModule","selectRowsByRange","getRows","selectRow","onClearAllInit","removeSelection","onSelectionChanged","HEADER_CHECK","onLayoutRefresh","onBeforeRequest","onAfterRequest","onUpdateSelectionData","finalizeEnd","layoutChange","createEnd","dropInit","onDropInit","detailsInit","onDetailsInit","refreshEnd","search","methodCall","onMethodCall","actionFailure","onActionFailure","modelChanged","deleteInit","deleteEnd","selectedData","renameInit","renameEnd","openInit","openEnd","filterEnd","pasteInit","onPasteInit","selectAllInit","clearAllInit","onPathColumn","beforeRequest","afterRequest","pasteEnd","onpasteEnd","cutCopyInit","oncutCopyInit","menuItemData","onMenuItemData","resizeEnd","onDetailsResizeHandler","splitterResize","layoutRefresh","dropPath","onDropPath","updateSelectionData","removeEventListener","off","getRowInfo","target","folderPath","feParent","dragHelper","dragTarget","sender","dragLi","getElementsByClassName","innerText","nextElementSibling","activeElements","dragData","dragRow","dragPath","getSelectedRows","virtualDragElement","gridHeaderColGroup","firstChild","childNodes","gridContentColGroup","gridHeaderColNames","allowDragAndDrop","cursorAt","dragCursorPosition","distance","enableTailMode","dragArea","ROW","drag","dragStart","dragStop","enableAutoScroll","helper","targetModule","cwdData","dropData","info","isFile","activeRecords","destinationPath","isDestroyed","unWireEvents","updateType","item","folder","FOLDER","action","selectedRecords","triggerSelect","getRowByIndex","lastItemIndex","lastItem","removeAttribute","currentItemText","indexes","multiSelect","isDevice","visitedItem","isHeaderCheckboxClicked","gridSelectNodes","selectSize","record","name_3","wireClickEvent","keyboardModule","keyAction","keyupHandler","eventName","keyboardDownModule","keydownHandler","removeFocus","toBind","proxy_1","ele","clickObj","tap","eve","tapCount","originalEvent","contains","tapHold","preventDefault","getFocusedItemIndex","getFocusedItem","parseInt","getAttribute","gridItems","gridLength","focItem","focIndex","selIndex","selRowIndeces","firstItem","performDelete","doDownload","performRename","crtSrlPos","crtFocusIndex","addHeaderFocus","checkRowsKey","spaceSelection","shiftMoveMethod","moveFunction","ctrlMoveFunction","permissionDownload","permissionEdit","isSelected","shiftSelectFocusItem","shiftSelectedItem","lItem","nextItem","nextIndex","indexValue","checkAllRows","InnerItems","fItem","itemArr","fIndex","selRowIndexes","itemElement","FOCUS","FOCUSED","treeFocus","nameFocus","tabIndex","check","shiftKey","deleteFiles","downloadFiles","openFile","renameFile","getRecords","records","hasFilter","filter","name_4","ids","newIds","dRecords"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/node_modules/@syncfusion/ej2-filemanager/src/file-manager/layout/details-view.js"],"sourcesContent":["import { Grid, Resize, ContextMenu, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\nimport { select, KeyboardEvents, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, Touch, setValue, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Internationalization, closest, Draggable, initializeCSPTemplate, extend } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\nimport { removeBlur, openAction, getImageUrl, fileType, getSortedData, getLocaleText, updateLayout } from '../common/utility';\nimport { createEmptyElement } from '../common/utility';\nimport { read, Download, GetDetails, Delete } from '../common/operations';\nimport { cutFiles, addBlur, openSearchFolder, copyFiles, removeActive, pasteHandler, getPathObject, getName } from '../common/index';\nimport { hasReadAccess, hasEditAccess, hasDownloadAccess, doRename, getAccessClass, createDeniedDialog, rename } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule, getFullPath } from '../common/index';\nimport { getDirectoryPath, updateRenamingData, getItemName, doDeleteFiles, doDownloadFiles } from '../common/index';\n/**\n * DetailsView module\n */\nvar DetailsView = /** @class */ (function () {\n    /**\n     * Constructor for the GridView module\n     *\n     * @param {FileManager} parent - specifies the parent.\n     * @hidden\n     */\n    function DetailsView(parent) {\n        this.isInteracted = true;\n        this.interaction = true;\n        this.isPasteOperation = false;\n        this.isColumnRefresh = false;\n        this.dragObj = null;\n        this.startIndex = null;\n        this.firstItemIndex = null;\n        this.isSelectionUpdate = false;\n        this.currentSelectedItem = [];\n        this.count = 0;\n        this.isRendered = true;\n        this.isLoaded = false;\n        this.isNameWidth = false;\n        this.pasteOperation = false;\n        this.uploadOperation = false;\n        /* istanbul ignore next */\n        // eslint:disable-next-line\n        this.actionDivert = false;\n        Grid.Inject(Resize, ContextMenu, Sort, VirtualScroll);\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + CLS.GRID_ID, this.parent.element);\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            ctrlUp: 'ctrl+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            end: 'end',\n            home: 'home',\n            moveUp: 'uparrow',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftdel: 'shift+delete',\n            ctrlD: 'ctrl+d',\n            f2: 'f2',\n            ctrlA: 'ctrl+a',\n            enter: 'enter'\n        };\n    }\n    /* istanbul ignore next */\n    DetailsView.prototype.render = function (args) {\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'Details') {\n            removeClass([this.parent.element], CLS.MULTI_SELECT);\n            // eslint-disable-next-line\n            var items = getSortedData(this.parent, args.files);\n            this.checkNameWidth();\n            var columns = this.getColumns();\n            var sortSettings = void 0;\n            if (this.parent.isMobile) {\n                sortSettings = [];\n            }\n            else {\n                if (this.parent.sortOrder !== 'None') {\n                    sortSettings = [{ direction: this.parent.sortOrder, field: this.parent.sortBy }];\n                }\n            }\n            this.gridObj = new Grid({\n                dataSource: items,\n                allowSorting: true,\n                rowSelecting: this.onSelection.bind(this, 'select'),\n                rowDeselecting: this.onSelection.bind(this, 'unselect'),\n                rowSelected: this.onSelected.bind(this),\n                rowDeselected: this.onDeSelection.bind(this),\n                allowResizing: this.parent.detailsViewSettings.columnResizing,\n                selectionSettings: {\n                    type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n                    checkboxMode: 'ResetOnRowClick',\n                    persistSelection: (this.parent.enableVirtualization) ? true : false\n                },\n                enableRtl: this.parent.enableRtl,\n                pageSettings: { pageSize: 20 },\n                enableVirtualization: this.parent.enableVirtualization,\n                enablePersistence: this.parent.enablePersistence,\n                enableVirtualMaskRow: true,\n                sortSettings: { allowUnsort: false, columns: sortSettings },\n                columns: columns,\n                recordDoubleClick: this.DblClickEvents.bind(this),\n                beforeDataBound: this.onBeforeDataBound.bind(this),\n                dataBound: this.onDataBound.bind(this),\n                rowDataBound: this.onRowDataBound.bind(this),\n                actionBegin: this.onActionBegin.bind(this),\n                headerCellInfo: this.onHeaderCellInfo.bind(this),\n                width: '100%',\n                height: (this.parent.enableVirtualization) ? this.getGridHeight() : 'auto',\n                beforeCopy: function (args) { args.cancel = true; },\n                // eslint-disable-next-line\n                load: function (args) {\n                    this.focusModule.destroy();\n                },\n                locale: this.parent.locale\n            });\n            if (this.parent.isReact) {\n                this.gridObj.isReact = true;\n                this.gridObj.portals = [];\n                this.gridObj.on('reactTemplateRender', this.reactTemplateRender, this);\n            }\n            this.gridObj.isStringTemplate = true;\n            this.gridObj.appendTo('#' + this.parent.element.id + CLS.GRID_ID);\n            this.wireEvents();\n            this.adjustHeight();\n            this.emptyArgs = args;\n        }\n    };\n    DetailsView.prototype.reactTemplateRender = function (args) {\n        this.parent[\"portals\"] = args;\n        if (this.parent.portals && this.parent.toolbarModule && this.parent.toolbarModule.toolbarObj &&\n            this.parent.toolbarModule.toolbarObj.portals) {\n            this.parent[\"portals\"] = this.parent[\"portals\"].concat(this.parent.toolbarModule.toolbarObj.portals);\n        }\n        this.parent.notify('renderReactTemplate', this.parent[\"portals\"]);\n        this.parent[\"renderReactTemplates\"]();\n    };\n    /**\n     * Gets the grid height.\n     *\n     * @returns The grid height.\n     * @private\n     */\n    DetailsView.prototype.getGridHeight = function () {\n        // Get the content pane and breadcrumb bar elements\n        var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n        var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n        // The maximum height of the header is 36\n        var headerMaxHeight = 36;\n        // Calculate and return the grid height\n        return (pane.offsetHeight - bar.offsetHeight - headerMaxHeight);\n    };\n    DetailsView.prototype.checkNameWidth = function () {\n        var initialColumn = this.parent.detailsViewSettings.columns;\n        this.isNameWidth = false;\n        for (var i = 0; i < initialColumn.length; i++) {\n            if (initialColumn[i].field === 'name') {\n                this.isNameWidth = !isNOU(initialColumn[i].width);\n                return;\n            }\n        }\n    };\n    DetailsView.prototype.adjustWidth = function (columns, fieldName) {\n        if (this.isNameWidth && (fieldName === 'name')) {\n            return;\n        }\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                var nameWidth = void 0;\n                if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                    nameWidth = (this.element.clientWidth <= 500) ? '120px' : 'auto';\n                }\n                else {\n                    nameWidth = (this.element.clientWidth <= 680) ? ((fieldName === 'name') ? '120px' : '180px') : 'auto';\n                }\n                columns[i].width = nameWidth;\n            }\n        }\n    };\n    DetailsView.prototype.getColumns = function () {\n        var columns;\n        if (this.parent.isMobile) {\n            columns = [\n                {\n                    field: 'name', headerText: getLocaleText(this.parent, 'Name'), width: 'auto', minWidth: 120, headerTextAlign: 'Left',\n                    template: initializeCSPTemplate(function (data) {\n                        return \"<div class=\\\"e-fe-text\\\">\" + data.name + \"</div><div class=\\\"e-fe-date\\\">\" + data._fm_modified + \"</div>' +\\n                        '<span class=\\\"e-fe-size\\\">\" + data.size + \"</span>\";\n                    })\n                }\n            ];\n        }\n        else {\n            columns = extend([], this.parent.detailsViewSettings.columns, null, true);\n            this.adjustWidth(columns, 'name');\n            for (var i = 0, len = columns.length; i < len; i++) {\n                columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n            }\n        }\n        var iWidth = ((this.parent.isMobile || this.parent.isBigger) ? '54' : '46');\n        var icon = {\n            field: 'type', width: iWidth, minWidth: iWidth,\n            template: initializeCSPTemplate(function (data) {\n                return \"<span class=\\\"e-fe-icon \" + data._fm_iconClass + \"\\\"></span>\";\n            }), allowResizing: false, allowSorting: true, customAttributes: { class: 'e-fe-grid-icon' },\n            headerTemplate: initializeCSPTemplate(function () {\n                return \"<span class=\\\"e-fe-icon e-fe-folder\\\"></span>\";\n            })\n        };\n        columns.unshift(icon);\n        if (this.parent.showItemCheckBoxes) {\n            var cWidth = (this.parent.isBigger ? '36' : '26');\n            var cBox = {\n                type: 'checkbox', width: cWidth, minWidth: cWidth, customAttributes: { class: 'e-fe-checkbox' },\n                allowResizing: false, allowSorting: false\n            };\n            if (this.parent.isMobile) {\n                columns.push(cBox);\n            }\n            else {\n                columns.unshift(cBox);\n            }\n        }\n        for (var i = 0, len = columns.length; i < len; i++) {\n            columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n        }\n        return columns;\n    };\n    DetailsView.prototype.adjustHeight = function () {\n        if (!this.gridObj) {\n            return;\n        }\n        var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n        var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n        var gridHeader = select('.' + CLS.GRID_HEADER, this.parent.element);\n        var height = (pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight);\n        this.gridObj.height = height;\n        this.gridObj.dataBind();\n    };\n    DetailsView.prototype.renderCheckBox = function () {\n        this.gridObj.columns = this.getColumns();\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n    };\n    DetailsView.prototype.onRowDataBound = function (args) {\n        var td = select('.e-fe-grid-name', args.row);\n        if (!td) {\n            var columns = this.parent.detailsViewSettings.columns;\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].field === 'name') {\n                    td = args.row.children[this.parent.allowMultiSelection ? (i + 2) : (i + 1)];\n                    break;\n                }\n            }\n        }\n        if (td) {\n            td.setAttribute('title', getValue('name', args.data));\n        }\n        if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' &&\n            this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n            if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n                addBlur(args.row);\n            }\n        }\n        if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n            var textEle = args.row.querySelector('.e-fe-text');\n            if (textEle) {\n                var name_1 = getValue('name', args.data);\n                var type = getValue('type', args.data);\n                textEle.innerHTML = name_1.substr(0, name_1.length - type.length);\n            }\n        }\n        if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n            var sizeEle = args.row.querySelector('.e-fe-size');\n            var modifiedSize = void 0;\n            if (!getValue('isFile', args.data)) {\n                modifiedSize = '';\n            }\n            else {\n                var sizeValue = getValue('size', args.data);\n                var intl = new Internationalization(this.parent.locale);\n                var sizeFormat = void 0;\n                var columns = this.parent.detailsViewSettings.columns;\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].field === 'size') {\n                        sizeFormat = !isNullOrUndefined(columns[i].format) ? columns[i].format.toString() : 'n';\n                        break;\n                    }\n                }\n                var value = intl.formatNumber((sizeValue / 1024), { format: sizeFormat });\n                modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n            }\n            sizeEle.innerHTML = modifiedSize;\n        }\n        if (this.parent.isMobile) {\n            if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n                var dateEle = args.row.querySelector('.e-fe-date');\n                var intl = new Internationalization(this.parent.locale);\n                var columns = this.parent.detailsViewSettings.columns;\n                // eslint-disable-next-line\n                var format = void 0;\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].field === 'dateModified') {\n                        format = columns[i].format;\n                        break;\n                    }\n                }\n                var formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n                dateEle.innerHTML = formattedString;\n            }\n        }\n        var checkWrap = args.row.querySelector('.' + CLS.CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n        if (!hasEditAccess(args.data)) {\n            args.row.className += ' ' + getAccessClass(args.data);\n        }\n        var eventArgs = {\n            element: args.row,\n            fileDetails: args.data,\n            module: 'DetailsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    DetailsView.prototype.onActionBegin = function (args) {\n        if (args.requestType === 'sorting') {\n            this.parent.setProperties({ sortOrder: args.direction }, true);\n            this.parent.setProperties({ sortBy: args.columnName }, true);\n            if (this.parent.selectedItems.length !== 0) {\n                this.sortItem = true;\n                var rows = this.gridObj.getSelectedRowIndexes();\n                var len = rows.length;\n                this.sortSelectedNodes = [];\n                while (len > 0) {\n                    // eslint-disable-next-line\n                    var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n                    this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n                    len--;\n                }\n            }\n            this.parent.notify(events.sortByChange, {});\n        }\n    };\n    DetailsView.prototype.onHeaderCellInfo = function (args) {\n        var checkWrap = args.node.querySelector('.' + CLS.CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n    };\n    DetailsView.prototype.onBeforeDataBound = function (args) {\n        showSpinner(this.parent.element);\n        // eslint-disable-next-line\n        var items = getSortedData(this.parent, (this.parent.enableVirtualization) ? args.result : this.gridObj.dataSource);\n        args.result = items;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDataBound = function () {\n        this.createDragObj();\n        if ((this.parent.selectedItems.length !== 0 && !this.parent.enableVirtualization) ||\n            ((this.parent.selectedItems.length !== 0 && this.parent.enableVirtualization &&\n                this.element.querySelector('.e-content').scrollTop == 0))) {\n            this.selectRecords(this.parent.selectedItems);\n        }\n        if (this.isPasteOperation === true) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.parent.createdItem) {\n            this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n            this.parent.createdItem = null;\n        }\n        if (this.parent.layoutSelectedItems.length) {\n            this.selectRecords(this.parent.layoutSelectedItems);\n        }\n        if (this.parent.renamedItem) {\n            this.addSelection(this.parent.renamedItem);\n            this.parent.renamedItem = null;\n        }\n        if (this.sortItem === true) {\n            this.selectRecords(this.sortSelectedNodes);\n            this.sortItem = false;\n        }\n        if (this.isSelectionUpdate) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.currentSelectedItem);\n                this.isSelectionUpdate = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.uploadOperation === true) {\n            this.count++;\n            this.selectRecords(this.parent.uploadItem);\n            if (this.count === this.parent.uploadItem.length) {\n                this.uploadOperation = false;\n                this.parent.uploadItem = [];\n            }\n        }\n        if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n            var hdTable = this.gridObj.getHeaderContent();\n            hdTable.style.paddingRight = '';\n            hdTable.style.paddingLeft = '';\n            var hdContent = select('.e-headercontent', hdTable);\n            hdContent.style.borderRightWidth = '0';\n            var cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.style.overflowY = '';\n            cnTable.classList.add('e-scrollShow');\n        }\n        else {\n            var hdTable = this.gridObj.getHeaderContent();\n            if (!this.parent.enableRtl) {\n                hdTable.style.paddingRight = '16px';\n            }\n            else {\n                hdTable.style.paddingLeft = '16px';\n            }\n            var cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.classList.remove('e-scrollShow');\n        }\n        this.isRendered = true;\n        this.parent.isLayoutChange = false;\n        hideSpinner(this.parent.element);\n        this.checkEmptyDiv(this.emptyArgs);\n        this.isInteracted = this.isLoaded ? true : this.isInteracted;\n        this.isLoaded = false;\n    };\n    DetailsView.prototype.selectRecords = function (nodes) {\n        // eslint-disable-next-line\n        var gridRecords = this.gridObj.getCurrentViewRecords();\n        var sRecords = [];\n        for (var i = 0, len = gridRecords.length; i < len; i++) {\n            var node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n            if (nodes.indexOf(node) !== -1) {\n                sRecords.push(i);\n            }\n            else if (!this.parent.showFileExtension && node.includes('.')) {\n                var Str2 = node.split('.').slice(0, -1).join('.');\n                if (nodes.indexOf(Str2) !== -1) {\n                    sRecords.push(i);\n                }\n            }\n        }\n        if (sRecords.length !== 0) {\n            this.gridObj.selectRows(sRecords);\n            this.addFocus(this.gridObj.selectedRowIndex);\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.addSelection = function (data) {\n        // eslint-disable-next-line\n        var items = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        var rData = [];\n        if (this.parent.hasId) {\n            rData = new DataManager(items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            var nData = new DataManager(items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (nData.length > 0) {\n                rData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (rData.length > 0) {\n            var index = items.indexOf(rData[0]);\n            this.gridObj.selectRows([index]);\n        }\n    };\n    DetailsView.prototype.onSortColumn = function () {\n        if (this.parent.sortOrder !== 'None') {\n            this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n        else {\n            // eslint-disable-next-line\n            this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n        if (this.element.querySelector('.e-content').scrollTop !== 0) {\n            this.gridObj.freezeRefresh();\n        }\n    };\n    DetailsView.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'detailsViewSettings':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.checkNameWidth();\n                        var columns = this.getColumns();\n                        this.gridObj.columns = columns;\n                        this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n                        this.gridObj.dataBind();\n                        this.gridObj.refreshColumns();\n                    }\n                    break;\n                case 'selectedItems':\n                    this.interaction = false;\n                    if (this.parent.selectedItems.length !== 0) {\n                        if (!this.parent.allowMultiSelection) {\n                            var slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n                            this.parent.setProperties({ selectedItems: slItems }, true);\n                        }\n                        this.selectRecords(this.parent.selectedItems);\n                        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    }\n                    else if (!isNOU(this.gridObj)) {\n                        this.gridObj.clearSelection();\n                        this.interaction = true;\n                    }\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.currentSelectedItem = this.parent.selectedItems;\n                        this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n                        this.isSelectionUpdate = true;\n                        this.renderCheckBox();\n                    }\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'Details');\n                    break;\n                case 'width':\n                    this.onDetailsResize();\n            }\n        }\n    };\n    DetailsView.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n            this.parent.searchedItems = [];\n            if (!this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n            else {\n                this.updatePathColumn();\n            }\n        }\n        removeBlur(this.parent);\n        if (this.parent.view === 'Details') {\n            /* istanbul ignore next */\n            this.isInteracted = false;\n            showSpinner(this.parent.element);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n            this.gridObj.freezeRefresh();\n            if (this.parent.isReact) {\n                this.gridObj.on('reactTemplateRender', this.reactTemplateRender, this);\n            }\n        }\n        this.emptyArgs = args;\n    };\n    DetailsView.prototype.updatePathColumn = function () {\n        var len = this.gridObj.columns.length;\n        var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n            var pathColumn = {\n                field: 'filterPath', headerText: getLocaleText(this.parent, 'Path'), minWidth: 180, width: 'auto'\n            };\n            this.gridObj.columns.push(pathColumn);\n            this.adjustWidth(this.gridObj.columns, 'filterPath');\n            this.adjustWidth(this.gridObj.columns, 'name');\n            this.isColumnRefresh = true;\n            this.gridObj.refreshColumns();\n        }\n    };\n    DetailsView.prototype.checkEmptyDiv = function (args) {\n        // eslint-disable-next-line\n        var items = getSortedData(this.parent, args.files);\n        if (items.length === 0 && !isNOU(this.element.querySelector('.' + CLS.GRID_VIEW))) {\n            createEmptyElement(this.parent, this.element, args);\n        }\n        else if (items.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n            if (this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY)) {\n                var emptyDiv = this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY);\n                this.element.querySelector('.' + CLS.GRID_VIEW).removeChild(emptyDiv);\n            }\n            else {\n                this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n            }\n        }\n    };\n    DetailsView.prototype.onOpenInit = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            // eslint-disable-next-line\n            var data = this.gridObj.getSelectedRecords()[0];\n            this.openContent(data);\n        }\n    };\n    DetailsView.prototype.DblClickEvents = function (args) {\n        this.gridObj.selectRows([args.rowIndex]);\n        // eslint-disable-next-line\n        var data;\n        if (args.rowData) {\n            data = JSON.parse(JSON.stringify(args.rowData));\n            this.openContent(data);\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.openContent = function (data) {\n        var _this = this;\n        if (!hasReadAccess(data)) {\n            createDeniedDialog(this.parent, data, events.permissionRead);\n            return;\n        }\n        var eventArgs = { cancel: false, fileDetails: data, module: 'DetailsView' };\n        this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n            if (!fileOpenArgs.cancel) {\n                var name_2 = getValue('name', data);\n                if (getValue('isFile', data)) {\n                    var icon = fileType(data);\n                    if (icon === CLS.ICON_IMAGE) {\n                        var imgUrl = getImageUrl(_this.parent, data);\n                        createImageDialog(_this.parent, name_2, imgUrl);\n                    }\n                }\n                else {\n                    var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n                    if (val === '' && !_this.parent.isFiltered) {\n                        var id = getValue('id', data);\n                        _this.parent.oldPath = _this.parent.path;\n                        var newPath = _this.parent.path + (isNOU(id) ? name_2 : id) + '/';\n                        _this.parent.setProperties({ path: newPath }, true);\n                        _this.parent.pathNames.push(name_2);\n                        _this.parent.pathId.push(getValue('_fm_id', data));\n                        _this.parent.itemData = [data];\n                        openAction(_this.parent);\n                    }\n                    else {\n                        openSearchFolder(_this.parent, data);\n                    }\n                    _this.parent.isFiltered = false;\n                }\n                _this.element.focus();\n                if (_this.parent.enableVirtualization) {\n                    _this.parent.element.querySelector('#' + _this.parent.element.id + CLS.IMG_DIALOG_ID).focus();\n                }\n            }\n        });\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onLayoutChange = function (args) {\n        if (this.parent.view === 'Details') {\n            if (this.parent.enableVirtualization) {\n                this.parent.setProperties({ selectedItems: [] }, true);\n            }\n            if (!this.gridObj) {\n                this.render(args);\n            }\n            else {\n                this.isLoaded = true;\n            }\n            if (this.parent.isFiltered) {\n                this.updatePathColumn();\n                this.parent.setProperties({ selectedItems: [] }, true);\n            }\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n            this.parent.notify(events.hideLayout, {});\n            this.gridObj.element.classList.remove(CLS.DISPLAY_NONE);\n            this.isInteracted = false;\n            this.gridObj.clearSelection();\n            if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n                this.onSearchFiles(args);\n            }\n            this.adjustHeight();\n            if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n                }\n            }\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSearchFiles = function (args) {\n        if (this.parent.view === 'Details') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(events.selectionChanged, {});\n            if (!this.parent.isLayoutChange) {\n                this.parent.layoutSelectedItems = [];\n            }\n            this.updatePathColumn();\n            this.parent.searchedItems = args.files;\n            this.onPathChanged(args);\n        }\n    };\n    DetailsView.prototype.removePathColumn = function (isRefresh) {\n        var len = this.gridObj.columns.length;\n        var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && (columnData[len - 1].field === 'filterPath')) {\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(this.gridObj.sortSettings.columns[0]) && this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn('name', this.parent.sortOrder);\n                }\n                else {\n                    // eslint-disable-next-line\n                    this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n                }\n                this.parent.notify(events.sortByChange, {});\n            }\n            this.gridObj.columns.pop();\n            if (!isRefresh) {\n                this.isColumnRefresh = true;\n                this.gridObj.refreshColumns();\n            }\n        }\n    };\n    DetailsView.prototype.onFinalizeEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        if (!this.gridObj) {\n            this.render(args);\n        }\n        else {\n            this.onPathChanged(args);\n        }\n    };\n    DetailsView.prototype.onCreateEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n    };\n    DetailsView.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    };\n    DetailsView.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n        }\n    };\n    DetailsView.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDeleteEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n    };\n    DetailsView.prototype.onRefreshEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.isInteracted = false;\n        this.removePathColumn(false);\n        this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        this.emptyArgs = args;\n    };\n    DetailsView.prototype.onHideLayout = function () {\n        if (this.parent.view !== 'Details' && this.gridObj) {\n            this.gridObj.element.classList.add(CLS.DISPLAY_NONE);\n        }\n    };\n    DetailsView.prototype.onSelectAllInit = function () {\n        if (this.parent.view === 'Details') {\n            this.isInteracted = false;\n            if (this.parent.allowMultiSelection) {\n                this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n            }\n            else {\n                this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n            }\n            this.isInteracted = true;\n            this.interaction = true;\n        }\n    };\n    DetailsView.prototype.onClearAllInit = function () {\n        if (this.parent.view === 'Details') {\n            this.removeSelection();\n            this.interaction = true;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelectionChanged = function () {\n        removeClass([this.element], CLS.HEADER_CHECK);\n        if (this.parent.selectedItems.length > 0) {\n            addClass([this.element], CLS.HEADER_CHECK);\n        }\n    };\n    DetailsView.prototype.onLayoutRefresh = function () {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.adjustHeight();\n    };\n    DetailsView.prototype.onBeforeRequest = function () {\n        this.isRendered = false;\n    };\n    DetailsView.prototype.onAfterRequest = function () {\n        this.isRendered = true;\n    };\n    DetailsView.prototype.onUpdateSelectionData = function () {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n    };\n    DetailsView.prototype.addEventListener = function () {\n        this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.layoutChange, this.onLayoutChange, this);\n        this.parent.on(events.pathChanged, this.onPathChanged, this);\n        this.parent.on(events.createEnd, this.onCreateEnd, this);\n        this.parent.on(events.dropInit, this.onDropInit, this);\n        this.parent.on(events.detailsInit, this.onDetailsInit, this);\n        this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(events.search, this.onSearchFiles, this);\n        this.parent.on(events.methodCall, this.onMethodCall, this);\n        this.parent.on(events.actionFailure, this.onActionFailure, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.deleteInit, this.onDeleteInit, this);\n        this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(events.selectedData, this.onSelectedData, this);\n        this.parent.on(events.renameInit, this.onRenameInit, this);\n        this.parent.on(events.renameEnd, this.onPathChanged, this);\n        this.parent.on(events.openInit, this.onOpenInit, this);\n        this.parent.on(events.sortColumn, this.onSortColumn, this);\n        this.parent.on(events.openEnd, this.onPathChanged, this);\n        this.parent.on(events.filterEnd, this.onPathChanged, this);\n        this.parent.on(events.pasteInit, this.onPasteInit, this);\n        this.parent.on(events.hideLayout, this.onHideLayout, this);\n        this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n        this.parent.on(events.pathColumn, this.onPathColumn, this);\n        this.parent.on(events.selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(events.afterRequest, this.onAfterRequest, this);\n        this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n        this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(events.menuItemData, this.onMenuItemData, this);\n        this.parent.on(events.resizeEnd, this.onDetailsResizeHandler, this);\n        this.parent.on(events.splitterResize, this.onDetailsResize, this);\n        this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(events.dropPath, this.onDropPath, this);\n        this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n    };\n    DetailsView.prototype.removeEventListener = function () {\n        this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.layoutChange, this.onLayoutChange);\n        this.parent.off(events.pathChanged, this.onPathChanged);\n        this.parent.off(events.pasteInit, this.onPasteInit);\n        this.parent.off(events.createEnd, this.onCreateEnd);\n        this.parent.off(events.refreshEnd, this.onRefreshEnd);\n        this.parent.off(events.search, this.onSearchFiles);\n        this.parent.off(events.methodCall, this.onMethodCall);\n        this.parent.off(events.actionFailure, this.onActionFailure);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.renameInit, this.onRenameInit);\n        this.parent.off(events.renameEnd, this.onPathChanged);\n        this.parent.off(events.filterEnd, this.onPathChanged);\n        this.parent.off(events.openInit, this.onOpenInit);\n        this.parent.off(events.sortColumn, this.onSortColumn);\n        this.parent.off(events.openEnd, this.onPathChanged);\n        this.parent.off(events.hideLayout, this.onHideLayout);\n        this.parent.off(events.selectAllInit, this.onSelectAllInit);\n        this.parent.off(events.clearAllInit, this.onClearAllInit);\n        this.parent.off(events.deleteInit, this.onDeleteInit);\n        this.parent.off(events.deleteEnd, this.onDeleteEnd);\n        this.parent.off(events.pathColumn, this.onPathColumn);\n        this.parent.off(events.selectionChanged, this.onSelectionChanged);\n        this.parent.off(events.beforeRequest, this.onBeforeRequest);\n        this.parent.off(events.afterRequest, this.onAfterRequest);\n        this.parent.off(events.pasteEnd, this.onpasteEnd);\n        this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n        this.parent.off(events.dropInit, this.onDropInit);\n        this.parent.off(events.selectedData, this.onSelectedData);\n        this.parent.off(events.detailsInit, this.onDetailsInit);\n        this.parent.off(events.menuItemData, this.onMenuItemData);\n        this.parent.off(events.resizeEnd, this.onDetailsResizeHandler);\n        this.parent.off(events.splitterResize, this.onDetailsResize);\n        this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(events.dropPath, this.onDropPath);\n        this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n    };\n    DetailsView.prototype.onActionFailure = function () { this.interaction = true; };\n    // eslint-disable-next-line\n    DetailsView.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n        }\n    };\n    DetailsView.prototype.onPasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath !== '') ? this.gridObj.getSelectedRecords() :\n                [getPathObject(this.parent)];\n        }\n    };\n    DetailsView.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.parent.itemData = this.gridObj.getSelectedRecords();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    };\n    DetailsView.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        var dragLi = dragTarget.closest('tr.e-row');\n        if (!dragLi) {\n            return null;\n        }\n        var name;\n        if (dragLi.getElementsByClassName('e-fe-text')[0]) {\n            name = this.parent.hasId ? this.gridObj.getRowInfo(dragLi).rowData.id : dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n        }\n        else if (dragLi.getElementsByClassName('e-rowcell e-templatecell')[0].nextElementSibling) {\n            name = this.parent.hasId ? this.gridObj.getRowInfo(dragLi).rowData.id : dragLi.getElementsByClassName('e-rowcell e-templatecell')[0].nextElementSibling.innerText;\n        }\n        if (dragLi && !dragLi.querySelector('.e-active')) {\n            this.selectRecords([name]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        // eslint-disable-next-line\n        this.parent.dragData = this.gridObj.getSelectedRecords();\n        var dragRow;\n        if (this.parent.dragData.length === 0 && dragLi) {\n            dragRow = this.gridObj.getRowInfo(dragLi);\n        }\n        if (dragRow) {\n            this.parent.dragData.push(dragRow.rowData);\n        }\n        this.parent.dragPath = this.parent.path;\n        this.parent.activeElements = this.gridObj.getSelectedRows();\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDetailsResize = function () {\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n            var gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n            var gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n            var gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n            var gridHeaderColNames = this.gridObj.getColumns();\n            for (var i = 0; i < gridHeaderColNames.length; i++) {\n                if ((!this.isNameWidth && gridHeaderColNames[i].field === 'name') || gridHeaderColNames[i].field === 'filterPath') {\n                    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                        if (this.element.clientWidth <= 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                        }\n                        else if (this.element.clientWidth > 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                    else {\n                        if (this.element.clientWidth <= 680) {\n                            if (gridHeaderColNames[i].field === 'name') {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                            }\n                            else {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n                            }\n                        }\n                        else if (this.element.clientWidth > 680) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DetailsView.prototype.onDetailsResizeHandler = function () {\n        this.onDetailsResize();\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n            this.adjustHeight();\n        }\n    };\n    DetailsView.prototype.createDragObj = function () {\n        var _this = this;\n        if (this.gridObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.gridObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    distance: 5,\n                    enableTailMode: true,\n                    dragArea: this.parent.element,\n                    dragTarget: '.' + CLS.ROW,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableAutoScroll: false,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n            }\n        }\n    };\n    DetailsView.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            /* istanbul ignore next */\n            // eslint-disable-next-line\n            var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (!args.target.closest('tr')) {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n            else {\n                // eslint-disable-next-line\n                var info = null;\n                // eslint-disable-next-line\n                info = this.gridObj.getRowInfo(args.target).rowData;\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n        }\n    };\n    DetailsView.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.gridObj.getSelectedRecords();\n            this.parent.activeElements = this.gridObj.getSelectedRows();\n        }\n    };\n    DetailsView.prototype.onpasteEnd = function (args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    };\n    DetailsView.prototype.onDropPath = function (args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns modules name.\n     * @private\n     */\n    DetailsView.prototype.getModuleName = function () {\n        return 'detailsview';\n    };\n    DetailsView.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.gridObj) {\n            if (this.parent.isReact) {\n                this.gridObj.off('reactTemplateRender', this.reactTemplateRender);\n            }\n            this.unWireEvents();\n            this.gridObj.destroy();\n        }\n    };\n    DetailsView.prototype.updateType = function (item) {\n        var folder = select('.' + CLS.FOLDER, item);\n        this.parent.isFile = isNOU(folder) ? true : false;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelection = function (action, args) {\n        var eventArgs = {\n            action: action, fileDetails: args.data, isInteracted: this.interaction, cancel: false, target: args.target\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        args.cancel = eventArgs.cancel;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelected = function (args) {\n        this.parent.activeModule = 'detailsview';\n        if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n            this.selectedRecords();\n        }\n        this.parent.notify(events.selectionChanged, {});\n        if (this.gridObj.getSelectedRowIndexes().length === 1) {\n            this.firstItemIndex = this.gridObj.selectedRowIndex;\n        }\n        this.gridObj.element.setAttribute('tabindex', '-1');\n        this.triggerSelect('select', args);\n        var item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n        this.updateType(item);\n        if (!isNOU(item) && !isNOU(item.querySelector('.e-checkselect'))) {\n            if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n                var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n                var lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n                lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n            }\n            item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n        }\n        if (!isNOU(this.gridObj) && !isNOU(this.gridObj.element.querySelector('.e-checkselectall'))) {\n            this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n        }\n        var rows = this.gridObj.getSelectedRowIndexes();\n        if (!this.parent.allowMultiSelection) {\n            for (var i = 0; i < rows.length; i++) {\n                if (rows[i] === this.gridObj.selectedRowIndex) {\n                    this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n                }\n                else {\n                    this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n                }\n            }\n        }\n        var len = rows.length;\n        if (this.parent.enableVirtualization) {\n            this.parent.currentItemText = getValue('name', args.data);\n        }\n        else if (len > 0) {\n            // eslint-disable-next-line\n            var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n            this.parent.currentItemText = getValue('name', data);\n        }\n        var indexes = getValue('rowIndexes', args);\n        var multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n        if (this.parent.isDevice && isNOU(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n            this.parent.isFile = getValue('isFile', args.data);\n            if (!this.parent.isFile) {\n                this.openContent(args.data);\n            }\n        }\n        this.parent.visitedItem = args.row;\n        if ((!this.parent.enableVirtualization) || (!args.isHeaderCheckboxClicked)) {\n            this.addFocus(this.gridObj.selectedRowIndex);\n        }\n        if (!this.parent.isLayoutChange) {\n            this.isInteracted = true;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onPathColumn = function () {\n        if (this.parent.view === 'Details' && !isNOU(this.gridObj)) {\n            if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n        }\n    };\n    DetailsView.prototype.selectedRecords = function () {\n        this.parent.setProperties({ selectedItems: [] }, true);\n        // eslint-disable-next-line\n        var selectedRecords = this.gridSelectNodes();\n        var selectSize = 0;\n        while (selectSize < selectedRecords.length) {\n            var record = selectedRecords[selectSize];\n            var name_3 = getItemName(this.parent, record);\n            this.parent.selectedItems.push(name_3);\n            selectSize++;\n        }\n        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n    };\n    DetailsView.prototype.onDeSelection = function (args) {\n        /* istanbul ignore next */\n        if (!this.parent.allowMultiSelection && isNOU(args.data)) {\n            this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n        }\n        else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n            var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n            this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n        }\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.gridObj.element.setAttribute('tabindex', '0');\n        }\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            return;\n        }\n        this.selectedRecords();\n        if (this.parent.selectedItems.length === 0) {\n            setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n            removeClass([this.parent.element], CLS.MULTI_SELECT);\n        }\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect('unselect', args);\n        this.parent.visitedItem = null;\n    };\n    DetailsView.prototype.triggerSelect = function (action, args) {\n        var eventArgs = { action: action, fileDetails: args.data, isInteracted: this.interaction };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.interaction = true;\n    };\n    DetailsView.prototype.wireEvents = function () {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n            keyAction: this.keyupHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n    };\n    DetailsView.prototype.unWireEvents = function () {\n        this.wireClickEvent(false);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n        EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n    };\n    DetailsView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            var proxy_1 = this;\n            var ele = this.gridObj.getContent();\n            this.clickObj = new Touch(ele, {\n                tap: function (eve) {\n                    if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n                        proxy_1.onClearAllInit();\n                    }\n                },\n                tapHold: function (e) {\n                    if (proxy_1.parent.isDevice) {\n                        e.originalEvent.preventDefault();\n                        if (proxy_1.parent.allowMultiSelection) {\n                            setValue('enableSelectMultiTouch', proxy_1.parent.allowMultiSelection, proxy_1.gridObj.selectionModule);\n                            addClass([proxy_1.parent.element], CLS.MULTI_SELECT);\n                        }\n                        var target = e.originalEvent.target;\n                        if (target) {\n                            var row = closest(target, '.' + CLS.ROW);\n                            var index = proxy_1.gridObj.getRows().indexOf(row);\n                            proxy_1.gridObj.selectRow(index);\n                        }\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.removeSelection = function () {\n        removeClass([this.parent.element], CLS.MULTI_SELECT);\n        this.gridObj.clearSelection();\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.parent.notify(events.selectionChanged, {});\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.startIndex = null;\n        }\n        this.isInteracted = true;\n    };\n    DetailsView.prototype.removeFocus = function () {\n        this.addFocus(null);\n    };\n    DetailsView.prototype.getFocusedItemIndex = function () {\n        return (!isNOU(this.getFocusedItem())) ?\n            parseInt(this.getFocusedItem().getAttribute('data-rowindex'), 10) : null;\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    DetailsView.prototype.keydownHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'moveDown':\n            case 'moveUp':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n    DetailsView.prototype.keyupHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        e.preventDefault();\n        var action = e.action;\n        // eslint-disable-next-line\n        var gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n        var gridLength = gridItems.length;\n        var focItem = this.getFocusedItem();\n        var focIndex = this.getFocusedItemIndex();\n        var selIndex = this.gridObj.selectedRowIndex;\n        var selRowIndeces = this.gridObj.getSelectedRowIndexes();\n        // eslint-disable-next-line\n        var rowData;\n        var firstItem;\n        var lastItem;\n        switch (action) {\n            case 'altEnter':\n                this.parent.notify(events.detailsInit, {});\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'enter':\n                if (this.gridObj.selectedRowIndex === -1) {\n                    break;\n                }\n                rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n                if (rowData) {\n                    // eslint-disable-next-line\n                    var data = JSON.parse(JSON.stringify(rowData));\n                    this.openContent(data);\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlA':\n                if (!isNOU(gridItems[0]) && this.parent.allowMultiSelection) {\n                    var cnTable = this.gridObj.getContent().querySelector('.e-content');\n                    var crtSrlPos = cnTable.scrollTop;\n                    var crtFocusIndex = this.gridObj.selectedRowIndex;\n                    this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                    cnTable.scrollTop = crtSrlPos;\n                    if (crtFocusIndex !== -1) {\n                        this.addFocus(crtFocusIndex);\n                    }\n                }\n                break;\n            case 'ctrlHome':\n            case 'tab':\n                if (!isNOU(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n                        this.gridObj.selectRow(0);\n                    }\n                    else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n                        return;\n                    }\n                    else if (!this.actionDivert) {\n                        this.addHeaderFocus();\n                        this.actionDivert = true;\n                    }\n                    else {\n                        this.addFocus(0);\n                        this.actionDivert = false;\n                    }\n                }\n                break;\n            case 'ctrlEnd':\n                if (!isNOU(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection) {\n                        this.gridObj.selectRow(gridLength - 1);\n                    }\n                    else {\n                        this.addFocus(gridLength - 1);\n                    }\n                }\n                break;\n            case 'shiftHome':\n            case 'shiftEnd':\n            case 'csHome':\n            case 'csEnd':\n                if (!this.parent.allowMultiSelection) {\n                    this.gridObj.selectRow((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : gridItems.length - 1);\n                }\n                else {\n                    if (!isNOU(gridItems[0])) {\n                        if (!isNOU(selIndex) && selIndex !== -1) {\n                            this.checkRowsKey(gridItems, selIndex, null, e);\n                        }\n                        else {\n                            if (e.action === 'csHome' || e.action === 'shiftHome') {\n                                this.gridObj.selectRow(0);\n                            }\n                            else {\n                                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                            }\n                        }\n                    }\n                }\n                break;\n            case 'space':\n            case 'csSpace':\n            case 'shiftSpace':\n            case 'ctrlSpace':\n                this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n                break;\n            case 'csUp':\n            case 'csDown':\n            case 'shiftUp':\n            case 'shiftDown':\n                this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n                break;\n            case 'ctrlUp':\n            case 'ctrlDown':\n                if (!this.parent.allowMultiSelection) {\n                    this.moveFunction(gridItems, e, selIndex);\n                }\n                else {\n                    this.ctrlMoveFunction(gridItems, e, selIndex);\n                }\n                break;\n            case 'home':\n                firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n                this.parent.setProperties({ selectedItems: firstItem }, true);\n                this.selectRecords(firstItem);\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                this.moveFunction(gridItems, e, selIndex);\n                break;\n            case 'end':\n                lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n                this.parent.setProperties({ selectedItems: lastItem }, true);\n                this.selectRecords(lastItem);\n                break;\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.gridSelectNodes = function () {\n        return this.gridObj.getSelectedRecords();\n    };\n    DetailsView.prototype.doDownload = function () {\n        if (this.parent.selectedItems.length !== 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            var items = this.parent.itemData;\n            for (var i = 0; i < items.length; i++) {\n                if (!hasDownloadAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], events.permissionDownload);\n                    return;\n                }\n            }\n            Download(this.parent, this.parent.path, this.parent.selectedItems);\n        }\n    };\n    DetailsView.prototype.performDelete = function () {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            var items = this.parent.itemData;\n            for (var i = 0; i < items.length; i++) {\n                if (!hasEditAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], events.permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    };\n    DetailsView.prototype.performRename = function () {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    };\n    DetailsView.prototype.updateRenameData = function () {\n        // eslint-disable-next-line\n        var data = this.gridSelectNodes()[0];\n        updateRenamingData(this.parent, data);\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.shiftMoveMethod = function (gridItems, selIndex, focIndex, selRowIndeces, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.moveFunction(gridItems, e, selIndex);\n        }\n        else {\n            if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n                this.ctrlMoveFunction(gridItems, e, selIndex);\n            }\n            else if (selIndex !== -1 && focIndex !== selIndex &&\n                !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n                this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n            }\n            else {\n                this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n            }\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.moveFunction = function (selectedItems, e, rowIndex) {\n        if (!isNOU(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n            if (e.action === 'moveDown') {\n                this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n            }\n            else {\n                this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n            }\n        }\n        else if (!isNOU(rowIndex) && rowIndex !== -1) {\n            if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectRow(rowIndex + ((rowIndex !== selectedItems.length - 1) ? 1 : 0));\n            }\n            else {\n                this.gridObj.selectRow(rowIndex - ((rowIndex !== 0) ? 1 : 0));\n            }\n        }\n        else {\n            if (!isNOU(selectedItems[0])) {\n                this.gridObj.selectRow(0);\n            }\n        }\n    };\n    DetailsView.prototype.spaceSelection = function (selRowIndeces, focIndex, selIndex, e) {\n        if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n            if (focIndex < selIndex) {\n                this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n            }\n        }\n        else if (!isNOU(this.getFocusedItem()) && focIndex !== selIndex) {\n            selRowIndeces.push(this.getFocusedItemIndex());\n            this.gridObj.selectRows(selRowIndeces);\n        }\n        else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n            var lItem = selIndex;\n            selRowIndeces.pop();\n            this.gridObj.selectRows(selRowIndeces);\n            this.addFocus(lItem);\n        }\n        else if (e.action === 'shiftSpace') {\n            this.gridObj.selectRow(selIndex);\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.ctrlMoveFunction = function (items, e, rowIndex) {\n        var nextItem;\n        if (!isNOU(this.getFocusedItem())) {\n            var nextIndex = this.getFocusedItemIndex();\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                nextIndex + ((nextIndex < items.length - 1) ? 1 : 0) : nextIndex - ((nextIndex < 1) ? 0 : 1);\n        }\n        else if (!isNOU(rowIndex) && rowIndex !== -1) {\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                rowIndex + ((rowIndex < items.length) ? 1 : 0) : rowIndex - ((rowIndex < 1) ? 0 : 1);\n        }\n        else {\n            if (!isNOU(items[0])) {\n                nextItem = 0;\n            }\n        }\n        this.addFocus(nextItem);\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.checkRowsKey = function (items, indexValue, focIndex, e) {\n        if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n            if (e.action !== 'csHome' && e.action !== 'csEnd') {\n                if (isNOU(this.startIndex) && this.firstItemIndex !== indexValue) {\n                    this.firstItemIndex = indexValue;\n                }\n                if (e.action === 'shiftEnd') {\n                    this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n                }\n                this.startIndex = indexValue;\n            }\n            else {\n                if (e.action === 'csEnd') {\n                    this.gridObj.\n                        selectRows(this.InnerItems(isNOU(indexValue) ? 0 : indexValue, isNOU(focIndex) ? items.length - 1 : focIndex, e));\n                }\n                else {\n                    if (isNOU(indexValue)) {\n                        this.gridObj.selectRow(0);\n                    }\n                    else {\n                        this.gridObj.selectRows(this.InnerItems(isNOU(focIndex) ? 0 : focIndex, indexValue, e));\n                    }\n                }\n            }\n        }\n        else {\n            this.gridObj.selectionModule.selectRow(((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : items.length - 1));\n        }\n    };\n    DetailsView.prototype.InnerItems = function (fItem, lItem, e) {\n        var itemArr = this.gridObj.getSelectedRowIndexes();\n        if (e.action === 'csEnd') {\n            for (var i = fItem + 1; i <= lItem; i++) {\n                itemArr.push(i);\n            }\n        }\n        else {\n            for (var i = lItem - 1; fItem <= i; i--) {\n                itemArr.push(i);\n            }\n        }\n        return itemArr;\n    };\n    DetailsView.prototype.shiftSelectFocusItem = function (selIndex, fIndex, selRowIndexes, e) {\n        var lItem = fIndex + ((e.action === 'shiftDown' || e.action === 'csDown') ? 1 : -1);\n        var fItem = isNOU(this.startIndex) ? selIndex : selRowIndexes[0];\n        if (fItem === lItem) {\n            this.gridObj.selectRow(fItem);\n        }\n        else {\n            if (fItem < lItem) {\n                if (e.action === 'shiftDown' || e.action === 'csDown') {\n                    this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n                }\n            }\n            else if (e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n            }\n        }\n        this.startIndex = this.gridObj.selectedRowIndex;\n    };\n    DetailsView.prototype.addFocus = function (item) {\n        var fItem = this.getFocusedItem();\n        var itemElement = this.gridObj.getRowByIndex(item);\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [CLS.FOCUS, CLS.FOCUSED]);\n        }\n        if (!isNOU(itemElement)) {\n            this.gridObj.element.setAttribute('tabindex', '-1');\n            itemElement.setAttribute('tabindex', '0');\n            itemElement.focus();\n            addClass([itemElement], [CLS.FOCUS, CLS.FOCUSED]);\n        }\n    };\n    DetailsView.prototype.addHeaderFocus = function () {\n        var treeFocus = select('.e-row', this.element);\n        this.gridObj.element.setAttribute('tabindex', '-1');\n        var nameFocus = select('th.e-fe-grid-name', this.element);\n        nameFocus.setAttribute('tabindex', '0');\n        nameFocus.focus();\n        addClass([nameFocus], [CLS.FOCUS, CLS.FOCUSED]);\n        treeFocus.setAttribute('tabindex', '0');\n        if (treeFocus.tabIndex === 0 && nameFocus.tabIndex === 0) {\n            removeClass([treeFocus], [CLS.FOCUS, CLS.FOCUSED]);\n        }\n    };\n    DetailsView.prototype.getFocusedItem = function () {\n        return select('.' + CLS.FOCUSED, this.element);\n    };\n    DetailsView.prototype.isSelected = function (selRowIndexes, focIndex) {\n        var check = false;\n        for (var i = 0; i <= selRowIndexes.length - 1; i++) {\n            if (selRowIndexes[i] === focIndex) {\n                check = true;\n                break;\n            }\n        }\n        return check;\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.shiftSelectedItem = function (selIndex, selRowIndexes, gridItems, e) {\n        if (selIndex === -1) {\n            this.gridObj.selectRow(0);\n        }\n        else {\n            if (isNOU(this.startIndex) && e.shiftKey) {\n                this.startIndex = this.gridObj.selectedRowIndex;\n                this.gridObj.selectRows([selIndex, (e.action === 'shiftDown' || e.action === 'csDown') ?\n                        (selIndex + ((selIndex !== gridItems.length - 1) ? 1 : 0)) : (selIndex - ((selIndex !== 0) ? 1 : 0))]);\n            }\n            else {\n                if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n                    if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n                        if (selIndex !== gridItems.length - 1) {\n                            selRowIndexes.push(selIndex + 1);\n                        }\n                    }\n                    else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n                        if (selIndex !== 0) {\n                            selRowIndexes.push(selIndex - 1);\n                        }\n                    }\n                    else {\n                        selRowIndexes.pop();\n                    }\n                    this.gridObj.selectRows(selRowIndexes);\n                }\n                else {\n                    if (e.action === 'csDown') {\n                        if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n                            selRowIndexes.push((this.getFocusedItemIndex() + 1));\n                            this.gridObj.selectRows(selRowIndexes);\n                        }\n                        else {\n                            this.addFocus(this.getFocusedItemIndex() + 1);\n                        }\n                    }\n                    else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n                        selRowIndexes.push((this.getFocusedItemIndex() - 1));\n                        this.gridObj.selectRows(selRowIndexes);\n                    }\n                    else {\n                        this.addFocus(this.getFocusedItemIndex() - 1);\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.onMethodCall = function (e) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        var action = getValue('action', e);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', e));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', e));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', e));\n                break;\n            case 'createFolder':\n                this.interaction = false;\n                break;\n            case 'renameFile':\n                this.interaction = false;\n                this.renameFile(getValue('id', e), getValue('newName', e));\n                break;\n            case 'selectAll':\n                this.interaction = false;\n                this.onSelectAllInit();\n                break;\n            case 'clearSelection':\n                this.interaction = false;\n                this.onClearAllInit();\n                break;\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.getRecords = function (nodes) {\n        // eslint-disable-next-line\n        var gridRecords = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        var records = [];\n        var hasFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        var filter = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !hasFilter) {\n            for (var i = 0, len = gridRecords.length; i < len; i++) {\n                if (nodes.indexOf(getValue(filter, gridRecords[i])) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        else {\n            for (var i = 0, len = gridRecords.length; i < len; i++) {\n                var name_4 = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n                if (nodes.indexOf(name_4) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        return records;\n    };\n    DetailsView.prototype.deleteFiles = function (ids) {\n        this.parent.activeModule = 'detailsview';\n        if (isNOU(ids)) {\n            this.performDelete();\n            return;\n        }\n        // eslint-disable-next-line\n        var records = this.getRecords(ids);\n        if (records.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < records.length; i++) {\n            data[i] = records[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    };\n    DetailsView.prototype.downloadFiles = function (ids) {\n        if (isNOU(ids)) {\n            this.doDownload();\n            return;\n        }\n        // eslint-disable-next-line\n        var dRecords = this.getRecords(ids);\n        if (dRecords.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < dRecords.length; i++) {\n            data[i] = dRecords[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    };\n    DetailsView.prototype.openFile = function (id) {\n        if (isNOU(id)) {\n            return;\n        }\n        // eslint-disable-next-line\n        var records = this.getRecords([id]);\n        if (records.length > 0) {\n            this.openContent(records[0]);\n        }\n    };\n    DetailsView.prototype.renameFile = function (id, name) {\n        this.parent.activeModule = 'detailsview';\n        if (isNOU(id)) {\n            this.performRename();\n            return;\n        }\n        // eslint-disable-next-line\n        var records = this.getRecords([id]);\n        if (records.length > 0) {\n            updateRenamingData(this.parent, records[0]);\n            if (!isNOU(name)) {\n                if (hasEditAccess(this.parent.itemData[0])) {\n                    rename(this.parent, this.parent.path, name);\n                }\n                else {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n                }\n            }\n            else {\n                doRename(this.parent);\n            }\n        }\n    };\n    return DetailsView;\n}());\nexport { DetailsView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}