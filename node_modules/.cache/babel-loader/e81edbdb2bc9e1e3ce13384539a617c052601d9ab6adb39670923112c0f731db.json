{"ast":null,"code":"import React,{useEffect,useLayoutEffect,useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import Header from\"../../global/header\";import CusFooter from\"../../global/cusFooter\";import headerData from\"../../../data/header.json\";import\"./sucess.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Success=()=>{const{header}=headerData;const[billDetails,setBillDetails]=useState(null);const[isLoading,setIsLoading]=useState(false);const[customerDetails,setCustomerDetails]=useState({name:'',email:'',orderId:''});const navigate=useNavigate();const handleLinkClick=link=>{navigate(link);};useEffect(()=>{const exampleBillDetails={items:[{id:1,name:'Book 1',price:1500,quantity:1},{id:2,name:'Book 2',price:2000,quantity:2}],totalAmount:5500,orderId:'ABC123',paymentStatus:'Paid'};setBillDetails(exampleBillDetails);},[]);useEffect(()=>{const currentUrl=window.location.href;const urlParams=new URLSearchParams(currentUrl);const sessionId=urlParams.get('sessionId');const name=urlParams.get('name');const email=urlParams.get('email');setCustomerDetails({name:name,email:email,orderId:sessionId});const payload={name:name,email:email,stripeDetails:sessionId};setIsLoading(true);axios.post(\"http://localhost:7000/customer/registerCustomer\",payload).then(response=>{console.log(response.data.accessToken);localStorage.setItem(\"tkn\",response.data.accessToken);localStorage.setItem(\"name\",response.data.data.name);}).catch(err=>{console.log(err);}).finally(()=>{setIsLoading(false);});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loader-div\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"unique-loader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"three-body__dot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"three-body__dot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"three-body__dot\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"please wait...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{header:header}),/*#__PURE__*/_jsx(\"div\",{className:\"success-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"success-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"success-wrapper-two\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"thank-you\",children:\"Congratulations!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"paragraph-styles\",children:\"You've just taken your first steps towards a journey of success and self-discovery. As you embark on this exciting path, remember that every page you turn and every chapter you delve into brings you a step closer to realizing your full potential. Your decision to start this journey is a testament to your commitment to growth and excellence. Your adventure is just beginning...\"}),/*#__PURE__*/_jsx(\"button\",{className:\"glightbox3 btn__secondary\",onClick:()=>handleLinkClick('/dashboard'),id:\"thankyou-btn\",children:\"Read Now\"})]})})}),/*#__PURE__*/_jsx(CusFooter,{})]})});};export default Success;","map":{"version":3,"names":["React","useEffect","useLayoutEffect","useState","axios","useNavigate","Header","CusFooter","headerData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Success","header","billDetails","setBillDetails","isLoading","setIsLoading","customerDetails","setCustomerDetails","name","email","orderId","navigate","handleLinkClick","link","exampleBillDetails","items","id","price","quantity","totalAmount","paymentStatus","currentUrl","window","location","href","urlParams","URLSearchParams","sessionId","get","payload","stripeDetails","post","then","response","console","log","data","accessToken","localStorage","setItem","catch","err","finally","children","className","onClick"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/src/components/pages/Stripe/Sucess.js"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport Header from \"../../global/header\";\nimport CusFooter from \"../../global/cusFooter\";\nimport headerData from \"../../../data/header.json\";\nimport \"./sucess.css\";\n\nconst Success = () => {\n  const { header } = headerData;\n  const [billDetails, setBillDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [customerDetails, setCustomerDetails] = useState({ name: '', email: '', orderId: '' });\n  const navigate = useNavigate();\n\n  const handleLinkClick = (link) => {\n    navigate(link);\n  };\n  useEffect(() => {\n    const exampleBillDetails = {\n      items: [\n        { id: 1, name: 'Book 1', price: 1500, quantity: 1 },\n        { id: 2, name: 'Book 2', price: 2000, quantity: 2 },\n      ],\n      totalAmount: 5500,\n      orderId: 'ABC123',\n      paymentStatus: 'Paid',\n    };\n    setBillDetails(exampleBillDetails);\n  }, []);\n\n  useEffect(() => {\n    const currentUrl = window.location.href;\n    const urlParams = new URLSearchParams(currentUrl);\n    const sessionId = urlParams.get('sessionId');\n    const name = urlParams.get('name');\n    const email = urlParams.get('email');\n    setCustomerDetails({ name: name, email: email, orderId: sessionId });\n    const payload = {\n      name: name,\n      email: email,\n      stripeDetails: sessionId,\n    };\n    setIsLoading(true)\n    axios.post(\"http://localhost:7000/customer/registerCustomer\", payload)\n      .then((response) => {\n        console.log(response.data.accessToken);\n        localStorage.setItem(\"tkn\", response.data.accessToken);\n        localStorage.setItem(\"name\", response.data.data.name)\n      })\n      .catch((err) => {\n        console.log(err);\n      }).finally(() => { setIsLoading(false) })\n  }, []);\n\n  return (\n    <>\n      {isLoading ?\n        <div className='loader-div'>\n          <div className=\"unique-loader\">\n            <div className=\"three-body__dot\"></div>\n            <div className=\"three-body__dot\"></div>\n            <div className=\"three-body__dot\"></div>\n          </div>\n          <p>please wait...</p>\n        </div>\n\n        :\n        <>\n          <Header header={header} />\n          <div className=\"success-content\">\n            <div className=\"success-wrapper\">\n              <div className=\"success-wrapper-two\">\n                <h6 className=\"thank-you\">\n                  Congratulations!\n                </h6>\n\n                <p className=\"paragraph-styles\">\n                  You've just taken your first steps towards a journey of success and self-discovery.\n                  As you embark on this exciting path, remember that every page you turn and every chapter you delve into brings you a step closer to realizing your full potential.\n                  Your decision to start this journey is a testament to your commitment to growth and excellence.\n                  Your adventure is just beginning...\n                </p>\n                <button className=\"glightbox3 btn__secondary\" onClick={() => handleLinkClick('/dashboard')} id=\"thankyou-btn\">\n                  Read Now\n                </button>\n              </div>\n\n            </div>\n\n\n          </div>\n          <CusFooter />\n        </>}\n    </>\n  );\n};\n\nexport default Success;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}