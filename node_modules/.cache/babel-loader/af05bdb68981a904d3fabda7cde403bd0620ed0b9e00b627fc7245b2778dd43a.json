{"ast":null,"code":"import { select, isNullOrUndefined, Browser, addClass, removeClass, EventHandler, closest, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport { pageYOffset, hasClass, isIDevice } from '../base/util';\nimport { BaseQuickToolbar } from './base-quick-toolbar';\nimport { PopupRenderer } from '../renderer/popup-renderer';\nimport { CLS_INLINE_POP, CLS_INLINE } from '../base/classes';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar QuickToolbar = /** @class */function () {\n  function QuickToolbar(parent, locator) {\n    this.parent = parent;\n    this.locator = locator;\n    this.renderFactory = this.locator.getService('rendererFactory');\n    this.renderFactory.addRenderer(RenderType.Popup, new PopupRenderer(this.parent));\n    this.addEventListener();\n  }\n  QuickToolbar.prototype.formatItems = function (items) {\n    var formattedItems = [];\n    items.forEach(function (item) {\n      if (typeof item === 'string') {\n        switch (item.toLocaleLowerCase()) {\n          case 'open':\n            formattedItems.push('openLink');\n            break;\n          case 'edit':\n            formattedItems.push('editLink');\n            break;\n          case 'unlink':\n            formattedItems.push('removeLink');\n            break;\n          default:\n            formattedItems.push(item);\n            break;\n        }\n      } else {\n        formattedItems.push(item);\n      }\n    });\n    return formattedItems;\n  };\n  QuickToolbar.prototype.getQTBarOptions = function (popType, mode, items, type) {\n    return {\n      popupType: popType,\n      toolbarItems: items,\n      mode: mode,\n      renderType: type,\n      cssClass: this.parent.getCssClass()\n    };\n  };\n  /**\n   * createQTBar method\n   *\n   * @param {string} popupType - specifies the string value\n   * @param {string} mode - specifies the string value.\n   * @param {string} items - specifies the string.\n   * @param {RenderType} type - specifies the render type.\n   * @returns {BaseQuickToolbar} - specifies the quick toolbar\n   * @hidden\n    */\n  QuickToolbar.prototype.createQTBar = function (popupType, mode, items, type) {\n    if (items.length < 1) {\n      return null;\n    }\n    var qTBar = new BaseQuickToolbar(this.parent, this.locator);\n    qTBar.render(this.getQTBarOptions(popupType, mode, this.formatItems(items), type));\n    return qTBar;\n  };\n  QuickToolbar.prototype.initializeQuickToolbars = function () {\n    this.parent.quickToolbarModule = this;\n    this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n    if (this.parent.inlineMode.enable && this.parent.inlineMode.onSelection && isIDevice()) {\n      EventHandler.add(this.contentRenderer.getDocument(), 'selectionchange', this.selectionChangeHandler, this);\n    }\n  };\n  // eslint-disable-next-line\n  QuickToolbar.prototype.onMouseDown = function (e) {\n    this.parent.isBlur = false;\n    this.parent.isRTE = true;\n  };\n  QuickToolbar.prototype.keyUpQT = function (e) {\n    if (e.which === 27) {\n      this.hideQuickToolbars();\n    }\n  };\n  QuickToolbar.prototype.renderQuickToolbars = function () {\n    if (this.linkQTBar || this.imageQTBar || this.audioQTBar || this.videoQTBar || this.textQTBar || this.tableQTBar) {\n      return;\n    }\n    this.linkQTBar = this.createQTBar('Link', 'Scrollable', this.parent.quickToolbarSettings.link, RenderType.LinkToolbar);\n    this.renderFactory.addRenderer(RenderType.LinkToolbar, this.linkQTBar);\n    if (!isNOU(this.parent.quickToolbarSettings.text) && !this.parent.inlineMode.enable) {\n      this.textQTBar = this.createQTBar('Text', 'MultiRow', this.parent.quickToolbarSettings.text, RenderType.TextToolbar);\n      this.renderFactory.addRenderer(RenderType.TextToolbar, this.textQTBar);\n    }\n    this.imageQTBar = this.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n    this.renderFactory.addRenderer(RenderType.ImageToolbar, this.imageQTBar);\n    this.audioQTBar = this.createQTBar('Audio', 'MultiRow', this.parent.quickToolbarSettings.audio, RenderType.AudioToolbar);\n    this.renderFactory.addRenderer(RenderType.AudioToolbar, this.audioQTBar);\n    this.videoQTBar = this.createQTBar('Video', 'MultiRow', this.parent.quickToolbarSettings.video, RenderType.VideoToolbar);\n    this.renderFactory.addRenderer(RenderType.VideoToolbar, this.videoQTBar);\n    this.tableQTBar = this.createQTBar('Table', 'MultiRow', this.parent.quickToolbarSettings.table, RenderType.TableToolbar);\n    this.renderFactory.addRenderer(RenderType.TableToolbar, this.tableQTBar);\n    if (this.linkQTBar) {\n      EventHandler.add(this.linkQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.linkQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n    if (this.imageQTBar) {\n      EventHandler.add(this.imageQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.imageQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n    if (this.audioQTBar) {\n      EventHandler.add(this.audioQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.audioQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n    if (this.videoQTBar) {\n      EventHandler.add(this.videoQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.videoQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n    if (this.textQTBar) {\n      EventHandler.add(this.textQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.textQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n    if (this.tableQTBar) {\n      EventHandler.add(this.tableQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.tableQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n  };\n  QuickToolbar.prototype.renderInlineQuickToolbar = function () {\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n      addClass([this.parent.element], [CLS_INLINE]);\n      this.inlineQTBar = this.createQTBar('Inline', 'MultiRow', this.parent.toolbarSettings.items, RenderType.InlineToolbar);\n      this.renderFactory.addRenderer(RenderType.InlineToolbar, this.inlineQTBar);\n      EventHandler.add(this.inlineQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.inlineQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n  };\n  /**\n   * Method for showing the inline quick toolbar\n   *\n   * @param {number} x -specifies the value of x.\n   * @param {number} y - specifies the y valu.\n   * @param {HTMLElement} target - specifies the target element.\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.showInlineQTBar = function (x, y, target) {\n    if (isNOU(this.parent) || this.parent.readonly || target.tagName.toLowerCase() === 'img') {\n      return;\n    }\n    this.inlineQTBar.showPopup(x, y, target);\n  };\n  /**\n   * Method for hidding the inline quick toolbar\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.hideInlineQTBar = function () {\n    if (this.inlineQTBar && !hasClass(this.inlineQTBar.element, 'e-popup-close')) {\n      this.inlineQTBar.hidePopup();\n    }\n  };\n  /**\n   * Method for hidding the quick toolbar\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.hideQuickToolbars = function () {\n    if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close') && document.body.contains(this.linkQTBar.element)) {\n      this.linkQTBar.hidePopup();\n    }\n    if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close') && document.body.contains(this.textQTBar.element)) {\n      this.textQTBar.hidePopup();\n    }\n    if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close') && document.body.contains(this.imageQTBar.element)) {\n      this.imageQTBar.hidePopup();\n    }\n    if (this.audioQTBar && !hasClass(this.audioQTBar.element, 'e-popup-close') && document.body.contains(this.audioQTBar.element)) {\n      this.audioQTBar.hidePopup();\n    }\n    if (this.videoQTBar && !hasClass(this.videoQTBar.element, 'e-popup-close') && document.body.contains(this.videoQTBar.element)) {\n      this.videoQTBar.hidePopup();\n    }\n    if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close') && document.body.contains(this.tableQTBar.element)) {\n      this.tableQTBar.hidePopup();\n    }\n    if (!isNOU(this.parent) && this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n      this.hideInlineQTBar();\n    }\n  };\n  QuickToolbar.prototype.deBounce = function (x, y, target) {\n    var _this = this;\n    clearTimeout(this.deBouncer);\n    this.deBouncer = window.setTimeout(function () {\n      _this.showInlineQTBar(x, y, target);\n    }, 1000);\n  };\n  QuickToolbar.prototype.mouseUpHandler = function (e) {\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n      var args = e.args.touches ? e.args.changedTouches[0] : e.args;\n      var range = this.parent.getRange();\n      var target = e.args.target;\n      if (isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n        if (isIDevice() && e.touchData && e.touchData.prevClientX !== e.touchData.clientX && e.touchData.prevClientY !== e.touchData.clientY) {\n          return;\n        }\n        this.hideInlineQTBar();\n        var parentLeft = this.parent.element.getBoundingClientRect().left;\n        this.offsetX = this.parent.iframeSettings.enable ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n        this.offsetY = pageYOffset(args, this.parent.element, this.parent.iframeSettings.enable);\n        if (target.nodeName === 'TEXTAREA') {\n          this.showInlineQTBar(this.offsetX, this.offsetY, target);\n        } else {\n          var closestAnchor = closest(target, 'a');\n          target = closestAnchor ? closestAnchor : target;\n          var startNode = this.parent.getRange().startContainer.parentElement;\n          var endNode = this.parent.getRange().endContainer.parentElement;\n          if ((isNOU(closest(startNode, 'A')) || isNOU(closest(endNode, 'A'))) && (!closest(target, 'td,th') || !range.collapsed) && (target.tagName !== 'IMG' || this.parent.getRange().startOffset !== this.parent.getRange().endOffset)) {\n            if (this.parent.inlineMode.onSelection && range.collapsed) {\n              return;\n            }\n            this.target = target;\n            this.showInlineQTBar(this.offsetX, this.offsetY, target);\n          }\n        }\n      }\n    }\n    if (!isNOU(this.textQTBar) && !isNOU(this.parent.quickToolbarSettings.text) && !this.parent.inlineMode.enable) {\n      var args = e.args.touches ? e.args.changedTouches[0] : e.args;\n      var target = e.args.target;\n      this.hideQuickToolbars();\n      var parentLeft = this.parent.element.getBoundingClientRect().left;\n      this.offsetX = this.parent.iframeSettings.enable ? this.parent.element.ownerDocument.documentElement.scrollLeft + parentLeft + args.clientX : args.pageX;\n      this.offsetY = pageYOffset(args, this.parent.element, this.parent.iframeSettings.enable);\n      var range = this.parent.getRange();\n      if (range.endContainer.parentElement.tagName === range.startContainer.parentElement.tagName && range.startContainer.parentElement.tagName === 'A' && range.endContainer.parentElement.tagName === 'A' || target.tagName === 'IMG' || target.tagName === 'VIDEO' || target.tagName === 'AUDIO' || target.childNodes[0].nodeType === 1 && target.childNodes[0].classList.contains('e-rte-audio') || this.parent.getRange().startOffset === this.parent.getRange().endOffset) {\n        return;\n      }\n      this.target = target;\n      this.textQTBar.showPopup(this.offsetX, this.offsetY, target, 'text');\n    }\n  };\n  QuickToolbar.prototype.keyDownHandler = function () {\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()) && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n      this.hideInlineQTBar();\n    }\n    if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close')) {\n      this.textQTBar.hidePopup();\n    }\n  };\n  QuickToolbar.prototype.inlineQTBarMouseDownHandler = function () {\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()) && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n      this.hideInlineQTBar();\n    }\n    if (!isNOU(this.parent.quickToolbarSettings.text)) {\n      if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close') && document.body.contains(this.textQTBar.element)) {\n        this.textQTBar.hidePopup();\n      }\n    }\n  };\n  QuickToolbar.prototype.keyUpHandler = function (e) {\n    var args = e.args;\n    if (this.parent.inlineMode.enable && !Browser.isDevice) {\n      if (this.parent.inlineMode.onSelection) {\n        if (this.parent.getSelection().length > 0) {\n          if (args.ctrlKey && args.keyCode === 65 || args.shiftKey && (args.keyCode === 33 || args.keyCode === 34 || args.keyCode === 35 || args.keyCode === 36 || args.keyCode === 37 || args.keyCode === 38 || args.keyCode === 39 || args.keyCode === 40)) {\n            this.showInlineQTBar(this.offsetX, this.offsetY, args.target);\n          }\n        }\n        return;\n      }\n      this.deBounce(this.offsetX, this.offsetY, args.target);\n    }\n    if (this.parent.quickToolbarSettings.text && !Browser.isDevice) {\n      if (args.ctrlKey && args.keyCode === 65 || args.shiftKey && (args.keyCode === 33 || args.keyCode === 34 || args.keyCode === 35 || args.keyCode === 36 || args.keyCode === 37 || args.keyCode === 38 || args.keyCode === 39 || args.keyCode === 40)) {\n        this.textQTBar.showPopup(this.offsetX, this.offsetY, args.target, 'text');\n      }\n    }\n  };\n  QuickToolbar.prototype.selectionChangeHandler = function (e) {\n    var _this = this;\n    clearTimeout(this.deBouncer);\n    this.deBouncer = window.setTimeout(function () {\n      _this.onSelectionChange(e);\n    }, 1000);\n  };\n  QuickToolbar.prototype.onSelectionChange = function (e) {\n    if (!isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n      return;\n    }\n    var selection = this.contentRenderer.getDocument().getSelection();\n    if (!selection.isCollapsed) {\n      this.mouseUpHandler({\n        args: e\n      });\n    }\n  };\n  /**\n   * getInlineBaseToolbar method\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.getInlineBaseToolbar = function () {\n    return this.inlineQTBar && this.inlineQTBar.quickTBarObj;\n  };\n  /**\n   * Destroys the ToolBar.\n   *\n   * @function destroy\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.destroy = function () {\n    if (isNOU(this.parent)) {\n      return;\n    }\n    if (this.linkQTBar) {\n      EventHandler.remove(this.linkQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.linkQTBar.element, 'keyup', this.keyUpQT);\n      this.linkQTBar.destroy();\n    }\n    if (this.textQTBar) {\n      EventHandler.remove(this.textQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.textQTBar.element, 'keyup', this.keyUpQT);\n      this.textQTBar.destroy();\n    }\n    if (this.imageQTBar) {\n      EventHandler.remove(this.imageQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.imageQTBar.element, 'keyup', this.keyUpQT);\n      this.imageQTBar.destroy();\n    }\n    if (this.audioQTBar) {\n      EventHandler.remove(this.audioQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.audioQTBar.element, 'keyup', this.keyUpQT);\n      this.audioQTBar.destroy();\n    }\n    if (this.videoQTBar) {\n      EventHandler.remove(this.videoQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.videoQTBar.element, 'keyup', this.keyUpQT);\n      this.videoQTBar.destroy();\n    }\n    if (this.tableQTBar) {\n      EventHandler.remove(this.tableQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.tableQTBar.element, 'keyup', this.keyUpQT);\n      this.tableQTBar.destroy();\n    }\n    if (this.inlineQTBar) {\n      EventHandler.remove(this.inlineQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.inlineQTBar.element, 'keyup', this.keyUpQT);\n      if (isIDevice()) {\n        EventHandler.remove(document, 'selectionchange', this.selectionChangeHandler);\n      }\n      this.inlineQTBar.destroy();\n    }\n    this.removeEventListener();\n  };\n  QuickToolbar.prototype.moduleDestroy = function () {\n    this.parent = null;\n  };\n  QuickToolbar.prototype.wireInlineQTBarEvents = function () {\n    this.parent.on(events.mouseUp, this.mouseUpHandler, this);\n    this.parent.on(events.mouseDown, this.inlineQTBarMouseDownHandler, this);\n    this.parent.on(events.keyDown, this.keyDownHandler, this);\n    this.parent.on(events.keyUp, this.keyUpHandler, this);\n    this.parent.on(events.sourceCodeMouseDown, this.mouseUpHandler, this);\n    this.parent.on(events.renderInlineToolbar, this.renderInlineQuickToolbar, this);\n    this.parent.on(events.moduleDestroy, this.moduleDestroy, this);\n  };\n  QuickToolbar.prototype.unWireInlineQTBarEvents = function () {\n    this.parent.off(events.mouseUp, this.mouseUpHandler);\n    this.parent.off(events.mouseDown, this.inlineQTBarMouseDownHandler);\n    this.parent.off(events.keyDown, this.keyDownHandler);\n    this.parent.off(events.keyUp, this.keyUpHandler);\n    this.parent.off(events.sourceCodeMouseDown, this.mouseUpHandler);\n    this.parent.off(events.renderInlineToolbar, this.renderInlineQuickToolbar);\n    this.parent.off(events.moduleDestroy, this.moduleDestroy);\n  };\n  // eslint-disable-next-line\n  QuickToolbar.prototype.toolbarUpdated = function (args) {\n    if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close')) {\n      this.linkQTBar.hidePopup();\n    }\n    if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n      this.imageQTBar.hidePopup();\n    }\n    if (this.audioQTBar && !hasClass(this.audioQTBar.element, 'e-popup-close')) {\n      this.audioQTBar.hidePopup();\n    }\n    if (this.videoQTBar && !hasClass(this.videoQTBar.element, 'e-popup-close')) {\n      this.videoQTBar.hidePopup();\n    }\n    if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close')) {\n      this.tableQTBar.hidePopup();\n    }\n  };\n  /**\n   * addEventListener\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.initialEnd, this.initializeQuickToolbars, this);\n    this.parent.on(events.mouseDown, this.renderQuickToolbars, this);\n    this.parent.on(events.toolbarUpdated, this.toolbarUpdated, this);\n    this.parent.on(events.drop, this.renderQuickToolbars, this);\n    this.wireInlineQTBarEvents();\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n      this.parent.on(events.scroll, this.hideQuickToolbars, this);\n      this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n    }\n    this.parent.on(events.focusChange, this.hideQuickToolbars, this);\n    this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.keyDown, this.onKeyDown, this);\n    this.parent.on(events.rtlMode, this.setRtl, this);\n    this.parent.on(events.bindCssClass, this.setCssClass, this);\n    this.parent.on(events.hidePopup, this.hideQuickToolbars, this);\n  };\n  QuickToolbar.prototype.onKeyDown = function (e) {\n    var args = e.args;\n    if (args.which === 8 || args.which === 46) {\n      if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n        this.imageQTBar.hidePopup();\n      }\n      if (this.audioQTBar && !hasClass(this.audioQTBar.element, 'e-popup-close')) {\n        this.audioQTBar.hidePopup();\n      }\n      if (this.videoQTBar && !hasClass(this.videoQTBar.element, 'e-popup-close')) {\n        this.videoQTBar.hidePopup();\n      }\n      if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close')) {\n        this.tableQTBar.hidePopup();\n      }\n      if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close')) {\n        this.linkQTBar.hidePopup();\n      }\n      if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close')) {\n        this.textQTBar.hidePopup();\n      }\n    }\n  };\n  QuickToolbar.prototype.onIframeMouseDown = function () {\n    this.hideQuickToolbars();\n    this.hideInlineQTBar();\n  };\n  QuickToolbar.prototype.updateCss = function (baseQTObj, e) {\n    if (baseQTObj && e.cssClass) {\n      if (isNullOrUndefined(e.oldCssClass && baseQTObj.quickTBarObj.toolbarObj.cssClass !== e.cssClass)) {\n        baseQTObj.quickTBarObj.toolbarObj.setProperties({\n          cssClass: (baseQTObj.quickTBarObj.toolbarObj.cssClass + ' ' + e.cssClass).trim()\n        });\n      } else {\n        baseQTObj.quickTBarObj.toolbarObj.setProperties({\n          cssClass: (baseQTObj.quickTBarObj.toolbarObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim()\n        });\n      }\n    }\n  };\n  QuickToolbar.prototype.setCssClass = function (e) {\n    var baseQuickToolbarObj = [this.inlineQTBar, this.imageQTBar, this.linkQTBar, this.textQTBar, this.tableQTBar];\n    for (var i = 0; i < baseQuickToolbarObj.length; i++) {\n      this.updateCss(baseQuickToolbarObj[i], e);\n    }\n  };\n  QuickToolbar.prototype.setRtl = function (args) {\n    if (this.inlineQTBar) {\n      this.inlineQTBar.quickTBarObj.toolbarObj.setProperties({\n        enableRtl: args.enableRtl\n      });\n    }\n    if (this.imageQTBar) {\n      this.imageQTBar.quickTBarObj.toolbarObj.setProperties({\n        enableRtl: args.enableRtl\n      });\n    }\n    if (this.audioQTBar) {\n      this.audioQTBar.quickTBarObj.toolbarObj.setProperties({\n        enableRtl: args.enableRtl\n      });\n    }\n    if (this.videoQTBar) {\n      this.videoQTBar.quickTBarObj.toolbarObj.setProperties({\n        enableRtl: args.enableRtl\n      });\n    }\n    if (this.linkQTBar) {\n      this.linkQTBar.quickTBarObj.toolbarObj.setProperties({\n        enableRtl: args.enableRtl\n      });\n    }\n    if (this.textQTBar) {\n      this.textQTBar.quickTBarObj.toolbarObj.setProperties({\n        enableRtl: args.enableRtl\n      });\n    }\n  };\n  /**\n   * removeEventListener\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.removeEventListener = function () {\n    if (this.deBouncer) {\n      clearTimeout(this.deBouncer);\n    }\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.initialEnd, this.initializeQuickToolbars);\n    this.parent.off(events.mouseDown, this.renderQuickToolbars);\n    this.parent.off(events.toolbarUpdated, this.toolbarUpdated);\n    this.parent.off(events.drop, this.renderQuickToolbars);\n    this.unWireInlineQTBarEvents();\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n      this.parent.off(events.scroll, this.hideQuickToolbars);\n      this.parent.off(events.contentscroll, this.hideQuickToolbars);\n    }\n    this.parent.off(events.focusChange, this.hideQuickToolbars);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n    this.parent.off(events.keyDown, this.onKeyDown);\n    this.parent.off(events.rtlMode, this.setRtl);\n    this.parent.off(events.bindCssClass, this.setCssClass);\n    this.parent.off(events.hidePopup, this.hideQuickToolbars);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {RichTextEditorModel} e - specifies the element.\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.onPropertyChanged = function (e) {\n    if (!isNullOrUndefined(e.newProp.quickToolbarSettings)) {\n      for (var _i = 0, _a = Object.keys(e.newProp.quickToolbarSettings); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        switch (prop) {\n          case 'actionOnScroll':\n            if (e.newProp.quickToolbarSettings.actionOnScroll === 'none') {\n              this.parent.off(events.scroll, this.hideQuickToolbars);\n              this.parent.off(events.contentscroll, this.hideQuickToolbars);\n            } else {\n              this.parent.on(events.scroll, this.hideQuickToolbars, this);\n              this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n            }\n            break;\n        }\n      }\n    }\n    if (e.module !== this.getModuleName()) {\n      return;\n    }\n    if (this.inlineQTBar) {\n      removeClass([this.parent.element], [CLS_INLINE]);\n      this.unWireInlineQTBarEvents();\n      this.hideInlineQTBar();\n    }\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n      addClass([this.parent.element], [CLS_INLINE]);\n      this.wireInlineQTBarEvents();\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {void}\n   * @hidden\n   */\n  QuickToolbar.prototype.getModuleName = function () {\n    return 'quickToolbar';\n  };\n  return QuickToolbar;\n}();\nexport { QuickToolbar };","map":{"version":3,"names":["select","isNullOrUndefined","Browser","addClass","removeClass","EventHandler","closest","isNOU","RenderType","events","pageYOffset","hasClass","isIDevice","BaseQuickToolbar","PopupRenderer","CLS_INLINE_POP","CLS_INLINE","QuickToolbar","parent","locator","renderFactory","getService","addRenderer","Popup","addEventListener","prototype","formatItems","items","formattedItems","forEach","item","toLocaleLowerCase","push","getQTBarOptions","popType","mode","type","popupType","toolbarItems","renderType","cssClass","getCssClass","createQTBar","length","qTBar","render","initializeQuickToolbars","quickToolbarModule","contentRenderer","getRenderer","Content","inlineMode","enable","onSelection","add","getDocument","selectionChangeHandler","onMouseDown","e","isBlur","isRTE","keyUpQT","which","hideQuickToolbars","renderQuickToolbars","linkQTBar","imageQTBar","audioQTBar","videoQTBar","textQTBar","tableQTBar","quickToolbarSettings","link","LinkToolbar","text","TextToolbar","image","ImageToolbar","audio","AudioToolbar","video","VideoToolbar","table","TableToolbar","element","renderInlineQuickToolbar","isDevice","inlineQTBar","toolbarSettings","InlineToolbar","showInlineQTBar","x","y","target","readonly","tagName","toLowerCase","showPopup","hideInlineQTBar","hidePopup","document","body","contains","deBounce","_this","clearTimeout","deBouncer","window","setTimeout","mouseUpHandler","args","touches","changedTouches","range","getRange","touchData","prevClientX","clientX","prevClientY","clientY","parentLeft","getBoundingClientRect","left","offsetX","iframeSettings","pageXOffset","pageX","offsetY","nodeName","closestAnchor","startNode","startContainer","parentElement","endNode","endContainer","collapsed","startOffset","endOffset","ownerDocument","documentElement","scrollLeft","childNodes","nodeType","classList","keyDownHandler","inlineQTBarMouseDownHandler","keyUpHandler","getSelection","ctrlKey","keyCode","shiftKey","onSelectionChange","selection","isCollapsed","getInlineBaseToolbar","quickTBarObj","destroy","remove","removeEventListener","moduleDestroy","wireInlineQTBarEvents","on","mouseUp","mouseDown","keyDown","keyUp","sourceCodeMouseDown","renderInlineToolbar","unWireInlineQTBarEvents","off","toolbarUpdated","isDestroyed","initialEnd","drop","modelChanged","onPropertyChanged","actionOnScroll","scroll","contentscroll","focusChange","iframeMouseDown","onIframeMouseDown","onKeyDown","rtlMode","setRtl","bindCssClass","setCssClass","updateCss","baseQTObj","oldCssClass","toolbarObj","setProperties","trim","replace","baseQuickToolbarObj","i","enableRtl","newProp","_i","_a","Object","keys","prop","module","getModuleName"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/quick-toolbar.js"],"sourcesContent":["import { select, isNullOrUndefined, Browser, addClass, removeClass, EventHandler, closest, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport { pageYOffset, hasClass, isIDevice } from '../base/util';\nimport { BaseQuickToolbar } from './base-quick-toolbar';\nimport { PopupRenderer } from '../renderer/popup-renderer';\nimport { CLS_INLINE_POP, CLS_INLINE } from '../base/classes';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar QuickToolbar = /** @class */ (function () {\n    function QuickToolbar(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.renderFactory.addRenderer(RenderType.Popup, new PopupRenderer(this.parent));\n        this.addEventListener();\n    }\n    QuickToolbar.prototype.formatItems = function (items) {\n        var formattedItems = [];\n        items.forEach(function (item) {\n            if (typeof item === 'string') {\n                switch (item.toLocaleLowerCase()) {\n                    case 'open':\n                        formattedItems.push('openLink');\n                        break;\n                    case 'edit':\n                        formattedItems.push('editLink');\n                        break;\n                    case 'unlink':\n                        formattedItems.push('removeLink');\n                        break;\n                    default:\n                        formattedItems.push(item);\n                        break;\n                }\n            }\n            else {\n                formattedItems.push(item);\n            }\n        });\n        return formattedItems;\n    };\n    QuickToolbar.prototype.getQTBarOptions = function (popType, mode, items, type) {\n        return {\n            popupType: popType,\n            toolbarItems: items,\n            mode: mode,\n            renderType: type,\n            cssClass: this.parent.getCssClass()\n        };\n    };\n    /**\n     * createQTBar method\n     *\n     * @param {string} popupType - specifies the string value\n     * @param {string} mode - specifies the string value.\n     * @param {string} items - specifies the string.\n     * @param {RenderType} type - specifies the render type.\n     * @returns {BaseQuickToolbar} - specifies the quick toolbar\n     * @hidden\n\n     */\n    QuickToolbar.prototype.createQTBar = function (popupType, mode, items, type) {\n        if (items.length < 1) {\n            return null;\n        }\n        var qTBar = new BaseQuickToolbar(this.parent, this.locator);\n        qTBar.render(this.getQTBarOptions(popupType, mode, this.formatItems(items), type));\n        return qTBar;\n    };\n    QuickToolbar.prototype.initializeQuickToolbars = function () {\n        this.parent.quickToolbarModule = this;\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        if (this.parent.inlineMode.enable && this.parent.inlineMode.onSelection && isIDevice()) {\n            EventHandler.add(this.contentRenderer.getDocument(), 'selectionchange', this.selectionChangeHandler, this);\n        }\n    };\n    // eslint-disable-next-line\n    QuickToolbar.prototype.onMouseDown = function (e) {\n        this.parent.isBlur = false;\n        this.parent.isRTE = true;\n    };\n    QuickToolbar.prototype.keyUpQT = function (e) {\n        if (e.which === 27) {\n            this.hideQuickToolbars();\n        }\n    };\n    QuickToolbar.prototype.renderQuickToolbars = function () {\n        if (this.linkQTBar || this.imageQTBar || this.audioQTBar || this.videoQTBar || this.textQTBar || this.tableQTBar) {\n            return;\n        }\n        this.linkQTBar = this.createQTBar('Link', 'Scrollable', this.parent.quickToolbarSettings.link, RenderType.LinkToolbar);\n        this.renderFactory.addRenderer(RenderType.LinkToolbar, this.linkQTBar);\n        if (!isNOU(this.parent.quickToolbarSettings.text) && !this.parent.inlineMode.enable) {\n            this.textQTBar = this.createQTBar('Text', 'MultiRow', this.parent.quickToolbarSettings.text, RenderType.TextToolbar);\n            this.renderFactory.addRenderer(RenderType.TextToolbar, this.textQTBar);\n        }\n        this.imageQTBar = this.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n        this.renderFactory.addRenderer(RenderType.ImageToolbar, this.imageQTBar);\n        this.audioQTBar = this.createQTBar('Audio', 'MultiRow', this.parent.quickToolbarSettings.audio, RenderType.AudioToolbar);\n        this.renderFactory.addRenderer(RenderType.AudioToolbar, this.audioQTBar);\n        this.videoQTBar = this.createQTBar('Video', 'MultiRow', this.parent.quickToolbarSettings.video, RenderType.VideoToolbar);\n        this.renderFactory.addRenderer(RenderType.VideoToolbar, this.videoQTBar);\n        this.tableQTBar = this.createQTBar('Table', 'MultiRow', this.parent.quickToolbarSettings.table, RenderType.TableToolbar);\n        this.renderFactory.addRenderer(RenderType.TableToolbar, this.tableQTBar);\n        if (this.linkQTBar) {\n            EventHandler.add(this.linkQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.linkQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.imageQTBar) {\n            EventHandler.add(this.imageQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.imageQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.audioQTBar) {\n            EventHandler.add(this.audioQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.audioQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.videoQTBar) {\n            EventHandler.add(this.videoQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.videoQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.textQTBar) {\n            EventHandler.add(this.textQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.textQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.tableQTBar) {\n            EventHandler.add(this.tableQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.tableQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n    };\n    QuickToolbar.prototype.renderInlineQuickToolbar = function () {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.inlineQTBar = this.createQTBar('Inline', 'MultiRow', this.parent.toolbarSettings.items, RenderType.InlineToolbar);\n            this.renderFactory.addRenderer(RenderType.InlineToolbar, this.inlineQTBar);\n            EventHandler.add(this.inlineQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.inlineQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n    };\n    /**\n     * Method for showing the inline quick toolbar\n     *\n     * @param {number} x -specifies the value of x.\n     * @param {number} y - specifies the y valu.\n     * @param {HTMLElement} target - specifies the target element.\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.showInlineQTBar = function (x, y, target) {\n        if (isNOU(this.parent) || this.parent.readonly || target.tagName.toLowerCase() === 'img') {\n            return;\n        }\n        this.inlineQTBar.showPopup(x, y, target);\n    };\n    /**\n     * Method for hidding the inline quick toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideInlineQTBar = function () {\n        if (this.inlineQTBar && !hasClass(this.inlineQTBar.element, 'e-popup-close')) {\n            this.inlineQTBar.hidePopup();\n        }\n    };\n    /**\n     * Method for hidding the quick toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideQuickToolbars = function () {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close') && document.body.contains(this.linkQTBar.element)) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close') && document.body.contains(this.textQTBar.element)) {\n            this.textQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close') && document.body.contains(this.imageQTBar.element)) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.audioQTBar && !hasClass(this.audioQTBar.element, 'e-popup-close') && document.body.contains(this.audioQTBar.element)) {\n            this.audioQTBar.hidePopup();\n        }\n        if (this.videoQTBar && !hasClass(this.videoQTBar.element, 'e-popup-close') && document.body.contains(this.videoQTBar.element)) {\n            this.videoQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close') && document.body.contains(this.tableQTBar.element)) {\n            this.tableQTBar.hidePopup();\n        }\n        if (!isNOU(this.parent) && this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.deBounce = function (x, y, target) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () {\n            _this.showInlineQTBar(x, y, target);\n        }, 1000);\n    };\n    QuickToolbar.prototype.mouseUpHandler = function (e) {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            var args = e.args.touches ?\n                e.args.changedTouches[0] : e.args;\n            var range = this.parent.getRange();\n            var target = e.args.target;\n            if (isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n                if (isIDevice() && e.touchData && e.touchData.prevClientX !== e.touchData.clientX\n                    && e.touchData.prevClientY !== e.touchData.clientY) {\n                    return;\n                }\n                this.hideInlineQTBar();\n                var parentLeft = this.parent.element.getBoundingClientRect().left;\n                this.offsetX = this.parent.iframeSettings.enable ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n                this.offsetY = pageYOffset(args, this.parent.element, this.parent.iframeSettings.enable);\n                if (target.nodeName === 'TEXTAREA') {\n                    this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                }\n                else {\n                    var closestAnchor = closest(target, 'a');\n                    target = closestAnchor ? closestAnchor : target;\n                    var startNode = this.parent.getRange().startContainer.parentElement;\n                    var endNode = this.parent.getRange().endContainer.parentElement;\n                    if ((isNOU(closest(startNode, 'A')) || isNOU(closest(endNode, 'A'))) && (!closest(target, 'td,th') || !range.collapsed) &&\n                        (target.tagName !== 'IMG' || this.parent.getRange().startOffset !== this.parent.getRange().endOffset)) {\n                        if (this.parent.inlineMode.onSelection && range.collapsed) {\n                            return;\n                        }\n                        this.target = target;\n                        this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                    }\n                }\n            }\n        }\n        if (!isNOU(this.textQTBar) && !isNOU(this.parent.quickToolbarSettings.text) && !this.parent.inlineMode.enable) {\n            var args = e.args.touches ?\n                e.args.changedTouches[0] : e.args;\n            var target = e.args.target;\n            this.hideQuickToolbars();\n            var parentLeft = this.parent.element.getBoundingClientRect().left;\n            this.offsetX = this.parent.iframeSettings.enable ? this.parent.element.ownerDocument.documentElement.scrollLeft\n                + parentLeft + args.clientX : args.pageX;\n            this.offsetY = pageYOffset(args, this.parent.element, this.parent.iframeSettings.enable);\n            var range = this.parent.getRange();\n            if ((range.endContainer.parentElement.tagName === range.startContainer.parentElement.tagName && (range.startContainer.parentElement.tagName === 'A' && range.endContainer.parentElement.tagName === 'A')) ||\n                (target.tagName === 'IMG') || (target.tagName === 'VIDEO') || (target.tagName === 'AUDIO') || (target.childNodes[0].nodeType === 1 && target.childNodes[0].classList.contains('e-rte-audio')) ||\n                (this.parent.getRange().startOffset === this.parent.getRange().endOffset)) {\n                return;\n            }\n            this.target = target;\n            this.textQTBar.showPopup(this.offsetX, this.offsetY, target, 'text');\n        }\n    };\n    QuickToolbar.prototype.keyDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n        if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close')) {\n            this.textQTBar.hidePopup();\n        }\n    };\n    QuickToolbar.prototype.inlineQTBarMouseDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n        if (!isNOU(this.parent.quickToolbarSettings.text)) {\n            if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close') && document.body.contains(this.textQTBar.element)) {\n                this.textQTBar.hidePopup();\n            }\n        }\n    };\n    QuickToolbar.prototype.keyUpHandler = function (e) {\n        var args = e.args;\n        if (this.parent.inlineMode.enable && !Browser.isDevice) {\n            if (this.parent.inlineMode.onSelection) {\n                if (this.parent.getSelection().length > 0) {\n                    if ((args.ctrlKey && args.keyCode === 65) || (args.shiftKey && (args.keyCode === 33 || args.keyCode === 34 ||\n                        args.keyCode === 35 || args.keyCode === 36 || args.keyCode === 37 || args.keyCode === 38 ||\n                        args.keyCode === 39 || args.keyCode === 40))) {\n                        this.showInlineQTBar(this.offsetX, this.offsetY, args.target);\n                    }\n                }\n                return;\n            }\n            this.deBounce(this.offsetX, this.offsetY, args.target);\n        }\n        if (this.parent.quickToolbarSettings.text && !Browser.isDevice) {\n            if ((args.ctrlKey && args.keyCode === 65) || (args.shiftKey && (args.keyCode === 33 || args.keyCode === 34 ||\n                args.keyCode === 35 || args.keyCode === 36 || args.keyCode === 37 || args.keyCode === 38 ||\n                args.keyCode === 39 || args.keyCode === 40))) {\n                this.textQTBar.showPopup(this.offsetX, this.offsetY, args.target, 'text');\n            }\n        }\n    };\n    QuickToolbar.prototype.selectionChangeHandler = function (e) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () {\n            _this.onSelectionChange(e);\n        }, 1000);\n    };\n    QuickToolbar.prototype.onSelectionChange = function (e) {\n        if (!isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n            return;\n        }\n        var selection = this.contentRenderer.getDocument().getSelection();\n        if (!selection.isCollapsed) {\n            this.mouseUpHandler({ args: e });\n        }\n    };\n    /**\n     * getInlineBaseToolbar method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.getInlineBaseToolbar = function () {\n        return this.inlineQTBar && this.inlineQTBar.quickTBarObj;\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.destroy = function () {\n        if (isNOU(this.parent)) {\n            return;\n        }\n        if (this.linkQTBar) {\n            EventHandler.remove(this.linkQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.linkQTBar.element, 'keyup', this.keyUpQT);\n            this.linkQTBar.destroy();\n        }\n        if (this.textQTBar) {\n            EventHandler.remove(this.textQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.textQTBar.element, 'keyup', this.keyUpQT);\n            this.textQTBar.destroy();\n        }\n        if (this.imageQTBar) {\n            EventHandler.remove(this.imageQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.imageQTBar.element, 'keyup', this.keyUpQT);\n            this.imageQTBar.destroy();\n        }\n        if (this.audioQTBar) {\n            EventHandler.remove(this.audioQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.audioQTBar.element, 'keyup', this.keyUpQT);\n            this.audioQTBar.destroy();\n        }\n        if (this.videoQTBar) {\n            EventHandler.remove(this.videoQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.videoQTBar.element, 'keyup', this.keyUpQT);\n            this.videoQTBar.destroy();\n        }\n        if (this.tableQTBar) {\n            EventHandler.remove(this.tableQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.tableQTBar.element, 'keyup', this.keyUpQT);\n            this.tableQTBar.destroy();\n        }\n        if (this.inlineQTBar) {\n            EventHandler.remove(this.inlineQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.inlineQTBar.element, 'keyup', this.keyUpQT);\n            if (isIDevice()) {\n                EventHandler.remove(document, 'selectionchange', this.selectionChangeHandler);\n            }\n            this.inlineQTBar.destroy();\n        }\n        this.removeEventListener();\n    };\n    QuickToolbar.prototype.moduleDestroy = function () {\n        this.parent = null;\n    };\n    QuickToolbar.prototype.wireInlineQTBarEvents = function () {\n        this.parent.on(events.mouseUp, this.mouseUpHandler, this);\n        this.parent.on(events.mouseDown, this.inlineQTBarMouseDownHandler, this);\n        this.parent.on(events.keyDown, this.keyDownHandler, this);\n        this.parent.on(events.keyUp, this.keyUpHandler, this);\n        this.parent.on(events.sourceCodeMouseDown, this.mouseUpHandler, this);\n        this.parent.on(events.renderInlineToolbar, this.renderInlineQuickToolbar, this);\n        this.parent.on(events.moduleDestroy, this.moduleDestroy, this);\n    };\n    QuickToolbar.prototype.unWireInlineQTBarEvents = function () {\n        this.parent.off(events.mouseUp, this.mouseUpHandler);\n        this.parent.off(events.mouseDown, this.inlineQTBarMouseDownHandler);\n        this.parent.off(events.keyDown, this.keyDownHandler);\n        this.parent.off(events.keyUp, this.keyUpHandler);\n        this.parent.off(events.sourceCodeMouseDown, this.mouseUpHandler);\n        this.parent.off(events.renderInlineToolbar, this.renderInlineQuickToolbar);\n        this.parent.off(events.moduleDestroy, this.moduleDestroy);\n    };\n    // eslint-disable-next-line\n    QuickToolbar.prototype.toolbarUpdated = function (args) {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close')) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.audioQTBar && !hasClass(this.audioQTBar.element, 'e-popup-close')) {\n            this.audioQTBar.hidePopup();\n        }\n        if (this.videoQTBar && !hasClass(this.videoQTBar.element, 'e-popup-close')) {\n            this.videoQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close')) {\n            this.tableQTBar.hidePopup();\n        }\n    };\n    /**\n     * addEventListener\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialEnd, this.initializeQuickToolbars, this);\n        this.parent.on(events.mouseDown, this.renderQuickToolbars, this);\n        this.parent.on(events.toolbarUpdated, this.toolbarUpdated, this);\n        this.parent.on(events.drop, this.renderQuickToolbars, this);\n        this.wireInlineQTBarEvents();\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n        }\n        this.parent.on(events.focusChange, this.hideQuickToolbars, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.bindCssClass, this.setCssClass, this);\n        this.parent.on(events.hidePopup, this.hideQuickToolbars, this);\n    };\n    QuickToolbar.prototype.onKeyDown = function (e) {\n        var args = e.args;\n        if (args.which === 8 || args.which === 46) {\n            if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n                this.imageQTBar.hidePopup();\n            }\n            if (this.audioQTBar && !hasClass(this.audioQTBar.element, 'e-popup-close')) {\n                this.audioQTBar.hidePopup();\n            }\n            if (this.videoQTBar && !hasClass(this.videoQTBar.element, 'e-popup-close')) {\n                this.videoQTBar.hidePopup();\n            }\n            if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close')) {\n                this.tableQTBar.hidePopup();\n            }\n            if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close')) {\n                this.linkQTBar.hidePopup();\n            }\n            if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close')) {\n                this.textQTBar.hidePopup();\n            }\n        }\n    };\n    QuickToolbar.prototype.onIframeMouseDown = function () {\n        this.hideQuickToolbars();\n        this.hideInlineQTBar();\n    };\n    QuickToolbar.prototype.updateCss = function (baseQTObj, e) {\n        if (baseQTObj && e.cssClass) {\n            if (isNullOrUndefined(e.oldCssClass && baseQTObj.quickTBarObj.toolbarObj.cssClass !== e.cssClass)) {\n                baseQTObj.quickTBarObj.toolbarObj.setProperties({ cssClass: (baseQTObj.quickTBarObj.toolbarObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                baseQTObj.quickTBarObj.toolbarObj.setProperties({ cssClass: (baseQTObj.quickTBarObj.toolbarObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    QuickToolbar.prototype.setCssClass = function (e) {\n        var baseQuickToolbarObj = [\n            this.inlineQTBar, this.imageQTBar, this.linkQTBar, this.textQTBar, this.tableQTBar\n        ];\n        for (var i = 0; i < baseQuickToolbarObj.length; i++) {\n            this.updateCss(baseQuickToolbarObj[i], e);\n        }\n    };\n    QuickToolbar.prototype.setRtl = function (args) {\n        if (this.inlineQTBar) {\n            this.inlineQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.imageQTBar) {\n            this.imageQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.audioQTBar) {\n            this.audioQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.videoQTBar) {\n            this.videoQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.linkQTBar) {\n            this.linkQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.textQTBar) {\n            this.textQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    /**\n     * removeEventListener\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.removeEventListener = function () {\n        if (this.deBouncer) {\n            clearTimeout(this.deBouncer);\n        }\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.initializeQuickToolbars);\n        this.parent.off(events.mouseDown, this.renderQuickToolbars);\n        this.parent.off(events.toolbarUpdated, this.toolbarUpdated);\n        this.parent.off(events.drop, this.renderQuickToolbars);\n        this.unWireInlineQTBarEvents();\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.off(events.scroll, this.hideQuickToolbars);\n            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n        }\n        this.parent.off(events.focusChange, this.hideQuickToolbars);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.bindCssClass, this.setCssClass);\n        this.parent.off(events.hidePopup, this.hideQuickToolbars);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the element.\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.quickToolbarSettings)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.quickToolbarSettings); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'actionOnScroll':\n                        if (e.newProp.quickToolbarSettings.actionOnScroll === 'none') {\n                            this.parent.off(events.scroll, this.hideQuickToolbars);\n                            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n                        }\n                        else {\n                            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n                            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n                        }\n                        break;\n                }\n            }\n        }\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (this.inlineQTBar) {\n            removeClass([this.parent.element], [CLS_INLINE]);\n            this.unWireInlineQTBarEvents();\n            this.hideInlineQTBar();\n        }\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.wireInlineQTBarEvents();\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    QuickToolbar.prototype.getModuleName = function () {\n        return 'quickToolbar';\n    };\n    return QuickToolbar;\n}());\nexport { QuickToolbar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}