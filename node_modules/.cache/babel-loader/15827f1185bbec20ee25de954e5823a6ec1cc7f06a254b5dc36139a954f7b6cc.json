{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import CommunityCard from'../cardsComponent/communityCard';import websiteJCjpg from\"../websiteJCjpg.jpg\";import websiteJCpng from\"../websiteJCpng.png\";import websiteJCwebp from\"../websiteJCwebp.webp\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function JoinCommunity(_ref){let{customerDetails,setCustomerDetails}=_ref;const[cId,setCId]=useState(\"\");console.log(cId);const[message,setMessage]=useState(\"\");const[messageType,setMessageType]=useState(\"\");// Added state for message type (success or error)\nconst handleSendRequest=async()=>{try{const response=await axios.get(\"http://localhost:7000/customer/raiseCommunityRequest/\".concat(cId));setMessage(response.data.message);setCustomerDetails(response.data.data);setCId(\"\");setMessageType(\"success\");// Set message type to success\n}catch(error){console.log(error);setMessage(\"Problem sending request\");setMessageType(\"error\");// Set message type to error\n}};const handleCIdChange=e=>{const inputValue=e.target.value;if(/^[a-zA-Z0-9]{0,6}$/.test(inputValue)){setCId(inputValue);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"Jc-Tab\",style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CommunityCard,{label:\"pdf Book\",titleImg:websiteJCpng,characterImg:websiteJCwebp,coverImg:websiteJCjpg})}),/*#__PURE__*/_jsxs(\"div\",{className:\"jc-container-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"jcc\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"authorv3__content\",id:\"jc-auth-cnt\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"authorv3__content--badge join-community-badge\",children:\"Join the 'This Book' Community and Embrace Yourself!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"member-title\",children:\"Member\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"membership-info text-muted fs-5\",id:\"c-crnc\",children:[\"USD \",/*#__PURE__*/_jsx(\"span\",{className:\"cc-span membership-price\",children:\"$10 \"}),\"/month\"]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"discount-info\",children:[/*#__PURE__*/_jsx(\"sup\",{children:\"*\"}),\"Enjoy a \",/*#__PURE__*/_jsx(\"span\",{className:\"cc-spans discount-amount\",children:\"$66 Savings \"}),\" on Yearly Subscription and an \",/*#__PURE__*/_jsx(\"span\",{className:\"cc-spanss discount-15\",children:\"Exclusive 15% Off \"}),\"'Talk to the Author' Sessions\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cc-fotr\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"quote-cc\",children:\"\\\"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit...\\\"\"}),(customerDetails===null||customerDetails===void 0?void 0:customerDetails.joinCommunityStatus)===\"not raised\"?/*#__PURE__*/_jsxs(\"div\",{className:\"cc-inpt-div\",id:\"id-cc-inpt\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your reader id\",value:cId,onChange:handleCIdChange,id:\"jc-inpt-style\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mob-tooltip-text-dash\",children:\"Your reader Id is in your account details.\"}),cId.length>0&&cId.length<6&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontSize:'10px'},children:\"Reader ID must be 6 characters\"}),/*#__PURE__*/_jsx(\"button\",{className:\"glightbox3 btn__secondary\",id:\"jc-btn-id\",onClick:handleSendRequest,children:\"Request For WaitList\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"request-message \".concat(messageType==='success'?'success':'error'),children:message})]}):/*#__PURE__*/_jsx(\"div\",{className:\"status-message \".concat(messageType==='success'&&message.includes('Request has been raised')?'success':'success'),children:\"Request has been \".concat(customerDetails===null||customerDetails===void 0?void 0:customerDetails.joinCommunityStatus)})]})]})]});}","map":{"version":3,"names":["React","useState","axios","CommunityCard","websiteJCjpg","websiteJCpng","websiteJCwebp","jsx","_jsx","jsxs","_jsxs","JoinCommunity","_ref","customerDetails","setCustomerDetails","cId","setCId","console","log","message","setMessage","messageType","setMessageType","handleSendRequest","response","get","concat","data","error","handleCIdChange","e","inputValue","target","value","test","className","style","display","children","label","titleImg","characterImg","coverImg","id","joinCommunityStatus","type","placeholder","onChange","length","color","fontSize","onClick","includes"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/src/components/pages/dashboard/tabs/joinCommunity.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport CommunityCard from '../cardsComponent/communityCard';\r\nimport websiteJCjpg from \"../websiteJCjpg.jpg\";\r\nimport websiteJCpng from \"../websiteJCpng.png\";\r\nimport websiteJCwebp from \"../websiteJCwebp.webp\";\r\n\r\nexport default function JoinCommunity({ customerDetails, setCustomerDetails }) {\r\n  const [cId, setCId] = useState(\"\")\r\n  console.log(cId);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageType, setMessageType] = useState(\"\"); // Added state for message type (success or error)\r\n\r\n  const handleSendRequest = async () => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:7000/customer/raiseCommunityRequest/${cId}`);\r\n      setMessage(response.data.message);\r\n      setCustomerDetails(response.data.data);\r\n      setCId(\"\");\r\n      setMessageType(\"success\"); // Set message type to success\r\n    } catch (error) {\r\n      console.log(error);\r\n      setMessage(\"Problem sending request\");\r\n      setMessageType(\"error\"); // Set message type to error\r\n    }\r\n  };\r\n  const handleCIdChange = (e) => {\r\n    const inputValue = e.target.value;\r\n    if (/^[a-zA-Z0-9]{0,6}$/.test(inputValue)) {\r\n      setCId(inputValue);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"Jc-Tab\" style={{ display: 'flex' }}>\r\n      <div>\r\n        <CommunityCard\r\n          label={\"pdf Book\"}\r\n          titleImg={websiteJCpng}\r\n          characterImg={websiteJCwebp}\r\n          coverImg={websiteJCjpg}\r\n        />\r\n      </div>\r\n      <div className=\"jc-container-div\">\r\n        <div className=\"jcc\">\r\n          <div className=\"authorv3__content\" id=\"jc-auth-cnt\">\r\n            <div className=\"authorv3__content--badge join-community-badge\">\r\n              Join the 'This Book' Community and Embrace Yourself!\r\n            </div>\r\n            <p className=\"member-title\">Member</p>\r\n            <p className=\"membership-info text-muted fs-5\" id=\"c-crnc\">USD <span className=\"cc-span membership-price\">$10 </span>/month</p>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <p className=\"discount-info\"><sup>*</sup>Enjoy a <span className=\"cc-spans discount-amount\">$66 Savings </span> on Yearly Subscription and an <span className=\"cc-spanss discount-15\">Exclusive 15% Off </span>'Talk to the Author' Sessions\r\n          </p>\r\n        </div>\r\n        <div className='cc-fotr'>\r\n          <h3 className='quote-cc'>\"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit...\"</h3>\r\n          {customerDetails?.joinCommunityStatus === \"not raised\" ? (\r\n            <div className='cc-inpt-div' id=\"id-cc-inpt\">\r\n              <input\r\n                type='text'\r\n                placeholder='Enter your reader id'\r\n                value={cId}\r\n                onChange={handleCIdChange}\r\n                id=\"jc-inpt-style\"\r\n              />\r\n               <p className='mob-tooltip-text-dash'>Your reader Id is in your account details.</p>\r\n                {/* <span className=\"hover-text\">\r\n                  <img src={Info} style={{ width: '6.6%' }} />\r\n                  <span className=\"tooltip-text right\">Your reader Id is in your account details,if you purchased book.</span>\r\n                </span> */}\r\n              {cId.length > 0 && cId.length < 6 && <p style={{ color: 'red', fontSize: '10px' }}>Reader ID must be 6 characters</p>}\r\n              <button className=\"glightbox3 btn__secondary\" id=\"jc-btn-id\" onClick={handleSendRequest}>\r\n                Request For WaitList\r\n              </button>\r\n              {message && (\r\n                <p className={`request-message ${messageType === 'success' ? 'success' : 'error'}`}>\r\n                  {message}\r\n                </p>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className={`status-message ${messageType === 'success' && message.includes('Request has been raised') ? 'success' : 'success'}`}>\r\n              {`Request has been ${customerDetails?.joinCommunityStatus}`}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}