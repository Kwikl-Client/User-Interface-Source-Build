{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from\"axios\";import\"./sendMessages.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SendMessage(_ref){let{customerDetails,setCustomerDetails}=_ref;const[cId,setCId]=useState(\"\");const[message,setMessage]=useState(\"\");useEffect(()=>{console.log(customerDetails);if(customerDetails&&customerDetails.customId){setCId(customerDetails.customId);}},[customerDetails]);const handleReviewSubmit=async e=>{e.preventDefault();console.log(cId);console.log(\"in function\");try{const response=await axios.post(\"http://localhost:7000/customer/messageHelp/\".concat(cId),{message:message// Include the message in the request body\n});console.log(response);setMessage(response.data.message);setCustomerDetails({...response.data.data,helpMessage:message// Update the helpMessage in the customerDetails\n});setCId(\"\");}catch(error){console.log(error);setMessage(\"Problem sending request\");}};const handleReviewInput=e=>{setMessage(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{className:\"message-new\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleReviewSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{value:message,onChange:handleReviewInput,placeholder:\"Send your message\"}),/*#__PURE__*/_jsx(\"button\",{className:\"glightbox3 btn__secondary\",type:\"submit\",children:\"Send\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","SendMessage","_ref","customerDetails","setCustomerDetails","cId","setCId","message","setMessage","console","log","customId","handleReviewSubmit","e","preventDefault","response","post","concat","data","helpMessage","error","handleReviewInput","target","value","className","children","onSubmit","onChange","placeholder","type"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/src/components/pages/dashboard/tabs/sendMessage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport \"./sendMessages.css\";\r\n\r\nexport default function SendMessage({ customerDetails, setCustomerDetails }) {\r\n  const [cId, setCId] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(customerDetails);\r\n    if (customerDetails && customerDetails.customId) {\r\n      setCId(customerDetails.customId);\r\n    }\r\n  }, [customerDetails]);\r\n\r\n  const handleReviewSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(cId);\r\n    console.log(\"in function\");\r\n    try {\r\n      const response = await axios.post(`http://localhost:7000/customer/messageHelp/${cId}`, {\r\n        message: message // Include the message in the request body\r\n      });\r\n      console.log(response);\r\n      setMessage(response.data.message);\r\n      setCustomerDetails({\r\n        ...response.data.data,\r\n        helpMessage: message // Update the helpMessage in the customerDetails\r\n      });\r\n      setCId(\"\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      setMessage(\"Problem sending request\");\r\n    }\r\n  };\r\n  \r\n  const handleReviewInput = (e) => {\r\n    setMessage(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"message-new\">\r\n      <form onSubmit={handleReviewSubmit}>\r\n        <textarea\r\n          value={message}\r\n          onChange={handleReviewInput}\r\n          placeholder=\"Send your message\"\r\n        />\r\n        <button className=\"glightbox3 btn__secondary\" type=\"submit\">Send</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,cAAe,SAAS,CAAAC,WAAWA,CAAAC,IAAA,CAA0C,IAAzC,CAAEC,eAAe,CAAEC,kBAAmB,CAAC,CAAAF,IAAA,CACzE,KAAM,CAACG,GAAG,CAAEC,MAAM,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACdc,OAAO,CAACC,GAAG,CAACP,eAAe,CAAC,CAC5B,GAAIA,eAAe,EAAIA,eAAe,CAACQ,QAAQ,CAAE,CAC/CL,MAAM,CAACH,eAAe,CAACQ,QAAQ,CAAC,CAClC,CACF,CAAC,CAAE,CAACR,eAAe,CAAC,CAAC,CAErB,KAAM,CAAAS,kBAAkB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACtCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBL,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC,CAChBI,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,CAC1B,GAAI,CACF,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,IAAI,+CAAAC,MAAA,CAA+CZ,GAAG,EAAI,CACrFE,OAAO,CAAEA,OAAQ;AACnB,CAAC,CAAC,CACFE,OAAO,CAACC,GAAG,CAACK,QAAQ,CAAC,CACrBP,UAAU,CAACO,QAAQ,CAACG,IAAI,CAACX,OAAO,CAAC,CACjCH,kBAAkB,CAAC,CACjB,GAAGW,QAAQ,CAACG,IAAI,CAACA,IAAI,CACrBC,WAAW,CAAEZ,OAAQ;AACvB,CAAC,CAAC,CACFD,MAAM,CAAC,EAAE,CAAC,CACZ,CAAE,MAAOc,KAAK,CAAE,CACdX,OAAO,CAACC,GAAG,CAACU,KAAK,CAAC,CAClBZ,UAAU,CAAC,yBAAyB,CAAC,CACvC,CACF,CAAC,CAED,KAAM,CAAAa,iBAAiB,CAAIR,CAAC,EAAK,CAC/BL,UAAU,CAACK,CAAC,CAACS,MAAM,CAACC,KAAK,CAAC,CAC5B,CAAC,CAED,mBACEzB,IAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BzB,KAAA,SAAM0B,QAAQ,CAAEd,kBAAmB,CAAAa,QAAA,eACjC3B,IAAA,aACEyB,KAAK,CAAEhB,OAAQ,CACfoB,QAAQ,CAAEN,iBAAkB,CAC5BO,WAAW,CAAC,mBAAmB,CAChC,CAAC,cACF9B,IAAA,WAAQ0B,SAAS,CAAC,2BAA2B,CAACK,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,MAAI,CAAQ,CAAC,EACrE,CAAC,CACJ,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}