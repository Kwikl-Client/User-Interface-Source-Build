{"ast":null,"code":"import { classList, addClass, removeClass, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport { Query, DataManager } from '@syncfusion/ej2-data';\nimport { EventHandler, closest } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { Dialog, calculateRelativeBasedPosition } from '@syncfusion/ej2-popups';\nimport { createCboxWithWrap, toogleCheckbox, parentsUntil, removeAddCboxClasses, setChecked } from '../base/util';\nimport { ResponsiveDialogAction } from '../base/enum';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { SearchBox } from '../services/focus-strategy';\nimport * as literals from '../base/string-literals';\n/**\n * The `ColumnChooser` module is used to show or hide columns dynamically.\n */\nvar ColumnChooser = /** @class */function () {\n  /**\n   * Constructor for the Grid ColumnChooser module\n   *\n   * @param {IGrid} parent - specifies the IGrid\n   * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n   * @hidden\n   */\n  function ColumnChooser(parent, serviceLocator) {\n    this.showColumn = [];\n    this.hideColumn = [];\n    this.changedColumns = [];\n    this.unchangedColumns = [];\n    this.isDlgOpen = false;\n    this.initialOpenDlg = true;\n    this.stateChangeColumns = [];\n    this.changedStateColumns = [];\n    this.isInitialOpen = false;\n    this.isCustomizeOpenCC = false;\n    this.searchOperator = 'startswith';\n    this.prevShowedCols = [];\n    this.hideDialogFunction = this.hideDialog.bind(this);\n    this.parent = parent;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n    this.cBoxTrue = createCheckBox(this.parent.createElement, false, {\n      checked: true,\n      label: ' '\n    });\n    this.cBoxFalse = createCheckBox(this.parent.createElement, false, {\n      checked: false,\n      label: ' '\n    });\n    this.cBoxTrue.insertBefore(this.parent.createElement('input', {\n      className: 'e-chk-hidden e-cc e-cc-chbox',\n      attrs: {\n        type: 'checkbox'\n      }\n    }), this.cBoxTrue.firstChild);\n    this.cBoxFalse.insertBefore(this.parent.createElement('input', {\n      className: 'e-chk-hidden e-cc e-cc-chbox',\n      attrs: {\n        'type': 'checkbox'\n      }\n    }), this.cBoxFalse.firstChild);\n    this.cBoxFalse.querySelector('.e-frame').classList.add('e-uncheck');\n    if (this.parent.enableRtl) {\n      addClass([this.cBoxTrue, this.cBoxFalse], ['e-rtl']);\n    }\n    if (this.parent.cssClass) {\n      if (this.parent.cssClass.indexOf(' ') !== -1) {\n        addClass([this.cBoxTrue, this.cBoxFalse], this.parent.cssClass.split(' '));\n      } else {\n        addClass([this.cBoxTrue, this.cBoxFalse], [this.parent.cssClass]);\n      }\n    }\n    if (this.parent.enableAdaptiveUI) {\n      this.setFullScreenDialog();\n    }\n  }\n  ColumnChooser.prototype.destroy = function () {\n    var gridElement = this.parent.element;\n    if (!gridElement.querySelector('.' + literals.gridContent) && !gridElement.querySelector('.' + literals.gridHeader) || !gridElement) {\n      return;\n    }\n    this.removeEventListener();\n    this.unWireEvents();\n    if (!isNullOrUndefined(this.dlgObj) && this.dlgObj.element && !this.dlgObj.isDestroyed) {\n      this.dlgObj.destroy();\n    }\n  };\n  ColumnChooser.prototype.setFullScreenDialog = function () {\n    if (this.serviceLocator) {\n      this.serviceLocator.registerAdaptiveService(this, this.parent.enableAdaptiveUI, ResponsiveDialogAction.isColumnChooser);\n    }\n  };\n  ColumnChooser.prototype.rtlUpdate = function () {\n    if (this.parent.enableRtl) {\n      addClass([].slice.call(this.innerDiv.getElementsByClassName('e-checkbox-wrapper')), ['e-rtl']);\n    } else {\n      removeClass([].slice.call(this.innerDiv.getElementsByClassName('e-checkbox-wrapper')), ['e-rtl']);\n    }\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  ColumnChooser.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    EventHandler.add(document, 'click', this.clickHandler, this);\n    this.parent.on(events.uiUpdate, this.enableAfterRenderEle, this);\n    this.parent.on(events.initialEnd, this.render, this);\n    this.parent.addEventListener(events.dataBound, this.hideDialogFunction);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.rtlUpdated, this.rtlUpdate, this);\n    this.parent.on(events.resetColumns, this.onResetColumns, this);\n    if (this.parent.enableAdaptiveUI) {\n      this.parent.on(events.setFullScreenDialog, this.setFullScreenDialog, this);\n      this.parent.on(events.renderResponsiveColumnChooserDiv, this.renderResponsiveColumnChooserDiv, this);\n      this.parent.on(events.renderResponsiveChangeAction, this.renderResponsiveChangeAction, this);\n    }\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  ColumnChooser.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    EventHandler.remove(document, 'click', this.clickHandler);\n    this.parent.off(events.initialEnd, this.render);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.uiUpdate, this.enableAfterRenderEle);\n    this.parent.off(events.rtlUpdated, this.rtlUpdate);\n    this.parent.off(events.resetColumns, this.onResetColumns);\n    this.parent.removeEventListener(events.dataBound, this.hideDialogFunction);\n    this.parent.off(events.setFullScreenDialog, this.setFullScreenDialog);\n    if (this.parent.enableAdaptiveUI) {\n      this.parent.off(events.setFullScreenDialog, this.setFullScreenDialog);\n      this.parent.off(events.renderResponsiveColumnChooserDiv, this.renderResponsiveColumnChooserDiv);\n      this.parent.off(events.renderResponsiveChangeAction, this.renderResponsiveChangeAction);\n    }\n  };\n  ColumnChooser.prototype.render = function () {\n    this.l10n = this.serviceLocator.getService('localization');\n    if (!this.parent.enableAdaptiveUI) {\n      this.renderDlgContent();\n    }\n    this.getShowHideService = this.serviceLocator.getService('showHideService');\n  };\n  ColumnChooser.prototype.clickHandler = function (e) {\n    var targetElement = e.target;\n    if (!this.isCustomizeOpenCC) {\n      if (!isNullOrUndefined(closest(targetElement, '.e-cc-toolbar')) || !isNullOrUndefined(closest(targetElement, '.e-cc'))) {\n        if (targetElement.classList.contains('e-columnchooser-btn') || targetElement.classList.contains('e-cc-toolbar')) {\n          if (this.initialOpenDlg && this.dlgObj.visible || !this.isDlgOpen) {\n            this.isDlgOpen = true;\n            return;\n          }\n        } else if (targetElement.classList.contains('e-cc-cancel')) {\n          targetElement.parentElement.querySelector('.e-ccsearch').value = '';\n          this.columnChooserSearch('');\n          this.removeCancelIcon();\n          this.refreshCheckboxButton();\n        }\n      } else {\n        if (!isNullOrUndefined(this.dlgObj) && this.dlgObj.visible && !targetElement.classList.contains('e-toolbar-items')) {\n          this.dlgObj.hide();\n          this.clearActions();\n          this.refreshCheckboxState();\n          // this.unWireEvents();\n          this.isDlgOpen = false;\n        }\n      }\n      if (this.parent.detailTemplate || this.parent.childGrid) {\n        this.targetdlg = e.target;\n      }\n    }\n    if (this.isCustomizeOpenCC && e.target.classList.contains('e-cc-cancel')) {\n      this.refreshCheckboxState();\n    }\n    if (!this.parent.enableAdaptiveUI) {\n      this.rtlUpdate();\n    } else {\n      if (this.parent.enableRtl) {\n        addClass([this.cBoxTrue, this.cBoxFalse], ['e-rtl']);\n      }\n    }\n  };\n  ColumnChooser.prototype.hideDialog = function () {\n    if (!isNullOrUndefined(this.dlgObj) && this.dlgObj.visible) {\n      this.dlgObj.hide();\n      // this.unWireEvents();\n      this.isDlgOpen = false;\n    }\n  };\n  /**\n   * To render columnChooser when showColumnChooser enabled.\n   *\n   * @param {number} x - specifies the position x\n   * @param {number} y - specifies the position y\n   * @param {Element} target - specifies the target\n   * @returns {void}\n   * @hidden\n   */\n  ColumnChooser.prototype.renderColumnChooser = function (x, y, target) {\n    if (!this.dlgObj.visible && (this.parent.detailTemplate || this.parent.childGrid)) {\n      this.hideOpenedDialog();\n    }\n    if (!this.dlgObj.visible) {\n      var args = this.beforeOpenColumnChooserEvent();\n      if (args.cancel) {\n        return;\n      }\n      if (target) {\n        this.targetdlg = target;\n      }\n      this.refreshCheckboxState();\n      this.dlgObj.dataBind();\n      this.dlgObj.element.style.maxHeight = '430px';\n      var elementVisible = this.dlgObj.element.style.display;\n      this.dlgObj.element.style.display = 'block';\n      var isSticky = this.parent.getHeaderContent().classList.contains('e-sticky');\n      var toolbarItem = closest(target, '.e-toolbar-item');\n      var newpos = void 0;\n      if (isSticky) {\n        newpos = toolbarItem.getBoundingClientRect();\n        this.dlgObj.element.classList.add('e-sticky');\n      } else {\n        this.dlgObj.element.classList.remove('e-sticky');\n        newpos = calculateRelativeBasedPosition(toolbarItem, this.dlgObj.element);\n      }\n      this.dlgObj.element.style.display = elementVisible;\n      this.dlgObj.element.style.top = newpos.top + closest(target, '.e-cc-toolbar').getBoundingClientRect().height + 'px';\n      var dlgWidth = 250;\n      if (!isNullOrUndefined(closest(target, '.e-bigger'))) {\n        this.dlgObj.width = 258;\n      }\n      if (Browser.isDevice) {\n        this.dlgObj.target = document.body;\n        this.dlgObj.position = {\n          X: 'center',\n          Y: 'center'\n        };\n        this.dlgObj.refreshPosition();\n        this.dlgObj.open = this.mOpenDlg.bind(this);\n      } else {\n        if (this.parent.enableRtl) {\n          this.dlgObj.element.style.left = target.offsetLeft + 'px';\n        } else {\n          this.dlgObj.element.style.left = newpos.left - dlgWidth + closest(target, '.e-cc-toolbar').clientWidth + 2 + 'px';\n        }\n      }\n      this.removeCancelIcon();\n      this.dlgObj.show();\n      this.parent.notify(events.columnChooserOpened, {\n        dialog: this.dlgObj\n      });\n    } else {\n      // this.unWireEvents();\n      this.hideDialog();\n      this.addcancelIcon();\n      this.clearActions();\n      this.refreshCheckboxState();\n    }\n    this.rtlUpdate();\n  };\n  /**\n   * Column chooser can be displayed on screen by given position(X and Y axis).\n   *\n   * @param  {number} X - Defines the X axis.\n   * @param  {number} Y - Defines the Y axis.\n   * @return {void}\n   */\n  ColumnChooser.prototype.openColumnChooser = function (X, Y) {\n    this.isCustomizeOpenCC = true;\n    if (this.parent.enableAdaptiveUI) {\n      this.renderDlgContent();\n    }\n    if (this.dlgObj.visible) {\n      this.hideDialog();\n      return;\n    }\n    var args = this.beforeOpenColumnChooserEvent();\n    if (args.cancel) {\n      return;\n    }\n    if (!this.isInitialOpen) {\n      this.dlgObj.content = this.renderChooserList();\n      this.updateIntermediateBtn();\n    } else {\n      this.refreshCheckboxState();\n    }\n    this.dlgObj.dataBind();\n    this.dlgObj.position = {\n      X: 'center',\n      Y: 'center'\n    };\n    if (isNullOrUndefined(X)) {\n      if (this.parent.enableAdaptiveUI) {\n        this.dlgObj.position = {\n          X: '',\n          Y: ''\n        };\n      }\n      this.dlgObj.refreshPosition();\n    } else {\n      this.dlgObj.element.style.top = '';\n      this.dlgObj.element.style.left = '';\n      this.dlgObj.element.style.top = Y + 'px';\n      this.dlgObj.element.style.left = X + 'px';\n    }\n    this.dlgObj.beforeOpen = this.customDialogOpen.bind(this);\n    this.dlgObj.show();\n    this.isInitialOpen = true;\n    this.dlgObj.beforeClose = this.customDialogClose.bind(this);\n  };\n  ColumnChooser.prototype.enableAfterRenderEle = function (e) {\n    if (e.module === this.getModuleName() && e.enable) {\n      this.render();\n    }\n  };\n  ColumnChooser.prototype.keyUpHandler = function (e) {\n    if (e.key === 'Escape') {\n      this.hideDialog();\n    }\n    this.setFocus(parentsUntil(e.target, 'e-cclist'));\n  };\n  ColumnChooser.prototype.setFocus = function (elem) {\n    var prevElem = this.dlgDiv.querySelector('.e-colfocus');\n    if (prevElem) {\n      prevElem.classList.remove('e-colfocus');\n    }\n    if (elem) {\n      elem.classList.add('e-colfocus');\n    }\n  };\n  ColumnChooser.prototype.customDialogOpen = function () {\n    var searchElement = this.dlgObj.content.querySelector('input.e-ccsearch');\n    EventHandler.add(searchElement, 'keyup', this.columnChooserManualSearch, this);\n  };\n  ColumnChooser.prototype.customDialogClose = function () {\n    var searchElement = this.dlgObj.content.querySelector('input.e-ccsearch');\n    EventHandler.remove(searchElement, 'keyup', this.columnChooserManualSearch);\n  };\n  ColumnChooser.prototype.getColumns = function () {\n    var columns = this.parent.getColumns().filter(function (column) {\n      return column.type !== 'checkbox' && column.showInColumnChooser === true || column.type === 'checkbox' && column.field !== undefined;\n    });\n    return columns;\n  };\n  ColumnChooser.prototype.renderDlgContent = function () {\n    var isAdaptive = this.parent.enableAdaptiveUI;\n    this.dlgDiv = this.parent.createElement('div', {\n      className: 'e-ccdlg e-cc',\n      id: this.parent.element.id + '_ccdlg'\n    });\n    if (!isAdaptive) {\n      this.parent.element.appendChild(this.dlgDiv);\n    }\n    this.dlgObj = new Dialog({\n      header: this.parent.enableAdaptiveUI ? null : this.l10n.getConstant('ChooseColumns'),\n      showCloseIcon: false,\n      closeOnEscape: false,\n      locale: this.parent.locale,\n      visible: false,\n      enableRtl: this.parent.enableRtl,\n      target: document.getElementById(this.parent.element.id),\n      content: this.renderChooserList(),\n      width: 250,\n      cssClass: this.parent.cssClass ? 'e-cc' + ' ' + this.parent.cssClass : 'e-cc',\n      animationSettings: {\n        effect: 'None'\n      }\n    });\n    if (!isAdaptive) {\n      this.dlgObj.buttons = [{\n        click: this.confirmDlgBtnClick.bind(this),\n        buttonModel: {\n          content: this.l10n.getConstant('OKButton'),\n          isPrimary: true,\n          cssClass: this.parent.cssClass ? 'e-cc e-cc_okbtn' + ' ' + this.parent.cssClass : 'e-cc e-cc_okbtn'\n        }\n      }, {\n        click: this.clearBtnClick.bind(this),\n        buttonModel: {\n          cssClass: this.parent.cssClass ? 'e-flat e-cc e-cc-cnbtn' + ' ' + this.parent.cssClass : 'e-flat e-cc e-cc-cnbtn',\n          content: this.l10n.getConstant('CancelButton')\n        }\n      }];\n    }\n    var isStringTemplate = 'isStringTemplate';\n    this.dlgObj[\"\" + isStringTemplate] = true;\n    this.dlgObj.appendTo(this.dlgDiv);\n    if (isAdaptive) {\n      var responsiveCnt = document.querySelector('.e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv');\n      if (responsiveCnt) {\n        responsiveCnt.appendChild(this.dlgDiv);\n      }\n      this.dlgObj.open = this.mOpenDlg.bind(this);\n      this.dlgObj.target = document.querySelector('.e-rescolumnchooser > .e-dlg-content > .e-mainfilterdiv');\n    }\n    this.wireEvents();\n  };\n  ColumnChooser.prototype.renderChooserList = function () {\n    this.mainDiv = this.parent.createElement('div', {\n      className: 'e-main-div e-cc'\n    });\n    var searchDiv = this.parent.createElement('div', {\n      className: 'e-cc-searchdiv e-cc e-input-group'\n    });\n    var ccsearchele = this.parent.createElement('input', {\n      className: 'e-ccsearch e-cc e-input',\n      attrs: {\n        placeholder: this.l10n.getConstant('Search'),\n        cssClass: this.parent.cssClass\n      }\n    });\n    var ccsearchicon = this.parent.createElement('span', {\n      className: 'e-ccsearch-icon e-icons e-cc e-input-group-icon',\n      attrs: {\n        title: this.l10n.getConstant('Search')\n      }\n    });\n    var conDiv = this.parent.createElement('div', {\n      className: 'e-cc-contentdiv'\n    });\n    this.innerDiv = this.parent.createElement('div', {\n      className: 'e-innerdiv e-cc'\n    });\n    searchDiv.appendChild(ccsearchele);\n    searchDiv.appendChild(ccsearchicon);\n    this.searchBoxObj = new SearchBox(ccsearchele);\n    var innerDivContent = this.refreshCheckboxList(this.parent.getColumns());\n    this.innerDiv.appendChild(innerDivContent);\n    conDiv.appendChild(this.innerDiv);\n    if (this.parent.enableAdaptiveUI) {\n      var searchBoxDiv = this.parent.createElement('div', {\n        className: 'e-cc-searchBox'\n      });\n      searchBoxDiv.appendChild(searchDiv);\n      this.mainDiv.appendChild(searchBoxDiv);\n    } else {\n      this.mainDiv.appendChild(searchDiv);\n    }\n    this.mainDiv.appendChild(conDiv);\n    return this.mainDiv;\n  };\n  ColumnChooser.prototype.confirmDlgBtnClick = function (args) {\n    this.stateChangeColumns = [];\n    this.changedStateColumns = [];\n    this.changedColumns = this.changedColumns.length > 0 ? this.changedColumns : this.unchangedColumns;\n    this.changedColumnState(this.changedColumns);\n    var uncheckedLength = this.ulElement.querySelector('.e-uncheck') && this.ulElement.querySelectorAll('.e-uncheck:not(.e-selectall)').length;\n    if (!isNullOrUndefined(args)) {\n      if (uncheckedLength < this.parent.getColumns().length) {\n        if (this.hideColumn.length) {\n          this.columnStateChange(this.hideColumn, false);\n        }\n        if (this.showColumn.length) {\n          this.columnStateChange(this.showColumn, true);\n        }\n        this.getShowHideService.setVisible(this.stateChangeColumns, this.changedStateColumns);\n        this.clearActions();\n        this.parent.notify(events.tooltipDestroy, {\n          module: 'edit'\n        });\n        if (this.parent.getCurrentViewRecords().length === 0) {\n          var emptyRowCell = this.parent.element.querySelector('.e-emptyrow').querySelector('td');\n          emptyRowCell.setAttribute('colSpan', this.parent.getVisibleColumns().length.toString());\n        }\n      }\n      if (this.parent.enableAdaptiveUI && this.parent.scrollModule) {\n        this.parent.scrollModule.refresh();\n      }\n    }\n  };\n  ColumnChooser.prototype.onResetColumns = function (e) {\n    if (e.requestType === 'columnstate') {\n      this.resetColumnState();\n      return;\n    }\n  };\n  ColumnChooser.prototype.renderResponsiveColumnChooserDiv = function (args) {\n    if (args.action === 'open') {\n      this.openColumnChooser();\n    } else if (args.action === 'clear') {\n      this.clearBtnClick();\n    } else if (args.action === 'confirm') {\n      this.confirmDlgBtnClick(true);\n    }\n  };\n  ColumnChooser.prototype.resetColumnState = function () {\n    this.showColumn = [];\n    this.hideColumn = [];\n    this.hideDialog();\n  };\n  ColumnChooser.prototype.changedColumnState = function (changedColumns) {\n    for (var index = 0; index < changedColumns.length; index++) {\n      var colUid = changedColumns[parseInt(index.toString(), 10)];\n      var currentCol = this.parent.getColumnByUid(colUid);\n      this.changedStateColumns.push(currentCol);\n    }\n  };\n  ColumnChooser.prototype.columnStateChange = function (stateColumns, state) {\n    for (var index = 0; index < stateColumns.length; index++) {\n      var colUid = stateColumns[parseInt(index.toString(), 10)];\n      var currentCol = this.parent.getColumnByUid(colUid);\n      if (currentCol.type !== 'checkbox') {\n        currentCol.visible = state;\n      }\n      this.stateChangeColumns.push(currentCol);\n    }\n  };\n  ColumnChooser.prototype.clearActions = function () {\n    this.resetColumnState();\n    this.addcancelIcon();\n  };\n  ColumnChooser.prototype.clearBtnClick = function () {\n    this.clearActions();\n    this.parent.notify(events.columnChooserCancelBtnClick, {\n      dialog: this.dlgObj\n    });\n  };\n  ColumnChooser.prototype.checkstatecolumn = function (isChecked, coluid, selectAll) {\n    if (selectAll === void 0) {\n      selectAll = false;\n    }\n    var currentCol = this.parent.getColumnByUid(coluid);\n    if (isChecked) {\n      if (this.hideColumn.indexOf(coluid) !== -1) {\n        this.hideColumn.splice(this.hideColumn.indexOf(coluid), 1);\n      }\n      if (this.showColumn.indexOf(coluid) === -1 && !(currentCol && currentCol.visible)) {\n        this.showColumn.push(coluid);\n      }\n    } else {\n      if (this.showColumn.indexOf(coluid) !== -1) {\n        this.showColumn.splice(this.showColumn.indexOf(coluid), 1);\n      }\n      if (this.hideColumn.indexOf(coluid) === -1 && currentCol && currentCol.visible) {\n        this.hideColumn.push(coluid);\n      }\n    }\n    if (selectAll) {\n      if (!isChecked) {\n        this.changedColumns.push(coluid);\n      } else {\n        this.unchangedColumns.push(coluid);\n      }\n    } else if (this.changedColumns.indexOf(coluid) !== -1) {\n      this.changedColumns.splice(this.changedColumns.indexOf(coluid), 1);\n    } else {\n      this.changedColumns.push(coluid);\n    }\n  };\n  ColumnChooser.prototype.columnChooserSearch = function (searchVal) {\n    var clearSearch = false;\n    var fltrCol;\n    var okButton;\n    var buttonEle = this.dlgDiv.querySelector('.e-footer-content');\n    var selectedCbox = this.ulElement.querySelector('.e-check') && this.ulElement.querySelectorAll('.e-check:not(.e-selectall)').length;\n    this.isInitialOpen = true;\n    if (buttonEle) {\n      okButton = buttonEle.querySelector('.e-btn').ej2_instances[0];\n    }\n    if (searchVal === '') {\n      this.removeCancelIcon();\n      fltrCol = this.getColumns();\n      clearSearch = true;\n    } else {\n      fltrCol = new DataManager(this.getColumns()).executeLocal(new Query().where('headerText', this.searchOperator, searchVal, true, this.parent.columnChooserSettings.ignoreAccent));\n    }\n    if (fltrCol.length) {\n      this.innerDiv.innerHTML = ' ';\n      this.innerDiv.classList.remove('e-ccnmdiv');\n      this.innerDiv.appendChild(this.refreshCheckboxList(fltrCol));\n      if (!clearSearch) {\n        this.addcancelIcon();\n        this.refreshCheckboxButton();\n      } else {\n        if (okButton && selectedCbox) {\n          okButton.disabled = false;\n        }\n        if (selectedCbox && this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n          this.parent.notify(events.refreshCustomFilterOkBtn, {\n            disabled: false\n          });\n        }\n      }\n    } else {\n      var nMatchele = this.parent.createElement('span', {\n        className: 'e-cc e-nmatch'\n      });\n      nMatchele.innerHTML = this.l10n.getConstant('Matchs');\n      this.innerDiv.innerHTML = ' ';\n      this.innerDiv.appendChild(nMatchele);\n      this.innerDiv.classList.add('e-ccnmdiv');\n      if (okButton) {\n        okButton.disabled = true;\n      }\n      if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n        this.parent.notify(events.refreshCustomFilterOkBtn, {\n          disabled: true\n        });\n      }\n    }\n    this.flag = true;\n    this.stopTimer();\n  };\n  ColumnChooser.prototype.wireEvents = function () {\n    EventHandler.add(this.dlgObj.element, 'click', this.checkBoxClickHandler, this);\n    EventHandler.add(this.searchBoxObj.searchBox, 'keyup', this.columnChooserManualSearch, this);\n    EventHandler.add(this.dlgObj.element, 'keyup', this.keyUpHandler, this);\n    this.searchBoxObj.wireEvent();\n  };\n  ColumnChooser.prototype.unWireEvents = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    if (this.dlgObj && this.dlgObj.element) {\n      EventHandler.remove(this.dlgObj.element, 'click', this.checkBoxClickHandler);\n      EventHandler.remove(this.dlgObj.element, 'keyup', this.keyUpHandler);\n    }\n    if (this.searchBoxObj) {\n      EventHandler.remove(this.searchBoxObj.searchBox, 'keyup', this.columnChooserManualSearch);\n      this.searchBoxObj.unWireEvent();\n    }\n  };\n  ColumnChooser.prototype.checkBoxClickHandler = function (e) {\n    var checkstate;\n    var elem = parentsUntil(e.target, 'e-checkbox-wrapper');\n    if (elem) {\n      var selectAll = elem.querySelector('.e-selectall');\n      if (selectAll) {\n        this.updateSelectAll(!elem.querySelector('.e-check'));\n      } else {\n        toogleCheckbox(elem.parentElement);\n      }\n      elem.querySelector('.e-chk-hidden').focus();\n      if (elem.querySelector('.e-check')) {\n        checkstate = true;\n      } else if (elem.querySelector('.e-uncheck')) {\n        checkstate = false;\n      }\n      this.updateIntermediateBtn();\n      var columnUid = parentsUntil(elem, 'e-ccheck').getAttribute('uid');\n      var column = this.parent.getColumns();\n      if (columnUid === 'grid-selectAll') {\n        this.changedColumns = [];\n        this.unchangedColumns = [];\n        for (var i = 0; i < column.length; i++) {\n          if (column[parseInt(i.toString(), 10)].showInColumnChooser) {\n            this.checkstatecolumn(checkstate, column[parseInt(i.toString(), 10)].uid, true);\n          }\n        }\n      } else {\n        this.checkstatecolumn(checkstate, columnUid);\n      }\n      this.refreshCheckboxButton();\n      this.setFocus(parentsUntil(e.target, 'e-cclist'));\n    }\n  };\n  ColumnChooser.prototype.updateIntermediateBtn = function () {\n    var cnt = this.ulElement.children.length - 1;\n    var className = [];\n    var elem = this.ulElement.children[0].querySelector('.e-frame');\n    var selected = this.ulElement.querySelectorAll('.e-check:not(.e-selectall)').length;\n    var btn;\n    if (!this.parent.enableAdaptiveUI) {\n      btn = this.dlgObj.btnObj[0];\n      btn.disabled = false;\n    } else if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n      this.parent.notify(events.refreshCustomFilterOkBtn, {\n        disabled: false\n      });\n    }\n    var inputElem = elem.parentElement.querySelector('input');\n    if (cnt === selected) {\n      className = ['e-check'];\n      setChecked(inputElem, true);\n    } else if (selected) {\n      className = ['e-stop'];\n      inputElem.indeterminate = true;\n    } else {\n      className = ['e-uncheck'];\n      setChecked(inputElem, false);\n      if (!this.parent.enableAdaptiveUI) {\n        btn.disabled = true;\n      } else if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n        this.parent.notify(events.refreshCustomFilterOkBtn, {\n          disabled: true\n        });\n      }\n    }\n    if (!this.parent.enableAdaptiveUI) {\n      btn.dataBind();\n    }\n    removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n    addClass([elem], className);\n  };\n  ColumnChooser.prototype.updateSelectAll = function (checked) {\n    var cBoxes = [].slice.call(this.ulElement.getElementsByClassName('e-frame'));\n    for (var _i = 0, cBoxes_1 = cBoxes; _i < cBoxes_1.length; _i++) {\n      var cBox = cBoxes_1[_i];\n      removeAddCboxClasses(cBox, checked);\n      var cBoxInput = cBox.parentElement.querySelector('input');\n      if (cBox.classList.contains('e-check')) {\n        setChecked(cBoxInput, true);\n      } else if (cBox.classList.contains('e-uncheck')) {\n        setChecked(cBoxInput, false);\n      }\n    }\n  };\n  ColumnChooser.prototype.refreshCheckboxButton = function () {\n    var visibleCols = this.parent.getVisibleColumns();\n    for (var i = 0; i < visibleCols.length; i++) {\n      var columnUID = visibleCols[parseInt(i.toString(), 10)].uid;\n      if (this.prevShowedCols.indexOf(columnUID) === -1) {\n        this.prevShowedCols.push(columnUID);\n      }\n    }\n    for (var i = 0; i < this.hideColumn.length; i++) {\n      var index = this.prevShowedCols.indexOf(this.hideColumn[parseInt(i.toString(), 10)]);\n      if (index !== -1) {\n        this.prevShowedCols.splice(index, 1);\n      }\n    }\n    var selected = this.showColumn.length !== 0 ? 1 : this.prevShowedCols.length;\n    var btn;\n    if (!this.parent.enableAdaptiveUI) {\n      btn = this.dlgDiv.querySelector('.e-footer-content').querySelector('.e-btn').ej2_instances[0];\n      btn.disabled = false;\n    } else if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n      this.parent.notify(events.refreshCustomFilterOkBtn, {\n        disabled: false\n      });\n    }\n    var srchShowCols = [];\n    var searchData = [].slice.call(this.parent.element.getElementsByClassName('e-cc-chbox'));\n    for (var i = 0, itemsLen = searchData.length; i < itemsLen; i++) {\n      var element = searchData[parseInt(i.toString(), 10)];\n      var columnUID = parentsUntil(element, 'e-ccheck').getAttribute('uid');\n      srchShowCols.push(columnUID);\n    }\n    var hideCols = this.showColumn.filter(function (column) {\n      return srchShowCols.indexOf(column) !== -1;\n    });\n    if (selected === 0 && hideCols.length === 0) {\n      if (!this.parent.enableAdaptiveUI) {\n        btn.disabled = true;\n      } else if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n        this.parent.notify(events.refreshCustomFilterOkBtn, {\n          disabled: true\n        });\n      }\n    }\n    if (!this.parent.enableAdaptiveUI) {\n      btn.dataBind();\n    }\n  };\n  ColumnChooser.prototype.refreshCheckboxList = function (gdCol) {\n    this.ulElement = this.parent.createElement('ul', {\n      className: 'e-ccul-ele e-cc'\n    });\n    var selectAllValue = this.l10n.getConstant('SelectAll');\n    var cclist = this.parent.createElement('li', {\n      className: 'e-cclist e-cc e-cc-selectall'\n    });\n    var selectAll = this.createCheckBox(selectAllValue, false, 'grid-selectAll');\n    if (gdCol.length) {\n      selectAll.querySelector('.e-checkbox-wrapper').firstElementChild.classList.add('e-selectall');\n      selectAll.querySelector('.e-frame').classList.add('e-selectall');\n      this.checkState(selectAll.querySelector('.e-icons'), true);\n      cclist.appendChild(selectAll);\n      this.ulElement.appendChild(cclist);\n    }\n    if (this.parent.cssClass) {\n      if (this.parent.cssClass.indexOf(' ') !== -1) {\n        addClass([selectAll], this.parent.cssClass.split(' '));\n      } else {\n        addClass([selectAll], [this.parent.cssClass]);\n      }\n    }\n    for (var i = 0; i < gdCol.length; i++) {\n      var columns = gdCol[parseInt(i.toString(), 10)];\n      this.renderCheckbox(columns);\n    }\n    return this.ulElement;\n  };\n  ColumnChooser.prototype.refreshCheckboxState = function () {\n    this.dlgObj.element.querySelector('.e-cc.e-input').value = '';\n    this.columnChooserSearch('');\n    var gridObject = this.parent;\n    var currentCheckBoxColls = this.dlgObj.element.querySelectorAll('.e-cc-chbox:not(.e-selectall)');\n    for (var i = 0, itemLen = currentCheckBoxColls.length; i < itemLen; i++) {\n      var element = currentCheckBoxColls[parseInt(i.toString(), 10)];\n      var columnUID = void 0;\n      if (this.parent.childGrid || this.parent.detailTemplate) {\n        columnUID = parentsUntil(this.dlgObj.element.querySelectorAll('.e-cc-chbox:not(.e-selectall)')[parseInt(i.toString(), 10)], 'e-ccheck').getAttribute('uid');\n      } else {\n        columnUID = parentsUntil(element, 'e-ccheck').getAttribute('uid');\n      }\n      var column = gridObject.getColumnByUid(columnUID);\n      var uncheck = [].slice.call(element.parentElement.getElementsByClassName('e-uncheck'));\n      if (column.visible && !uncheck.length) {\n        element.checked = true;\n        this.checkState(element.parentElement.querySelector('.e-icons'), true);\n      } else {\n        element.checked = false;\n        this.checkState(element.parentElement.querySelector('.e-icons'), false);\n      }\n    }\n  };\n  ColumnChooser.prototype.checkState = function (element, state) {\n    if (state) {\n      classList(element, ['e-check'], ['e-uncheck']);\n    } else {\n      classList(element, ['e-uncheck'], ['e-check']);\n    }\n  };\n  ColumnChooser.prototype.createCheckBox = function (label, checked, uid) {\n    var cbox = checked ? this.cBoxTrue.cloneNode(true) : this.cBoxFalse.cloneNode(true);\n    var cboxLabel = cbox.querySelector('.e-label');\n    var inputcbox = cbox.querySelector('input');\n    setChecked(inputcbox, checked);\n    cboxLabel.setAttribute('id', uid + 'label');\n    cboxLabel.innerHTML = label;\n    inputcbox.setAttribute('aria-labelledby', cboxLabel.id);\n    return createCboxWithWrap(uid, cbox, 'e-ccheck');\n  };\n  ColumnChooser.prototype.renderCheckbox = function (column) {\n    var cclist;\n    var hideColState;\n    var showColState;\n    if (column.showInColumnChooser) {\n      cclist = this.parent.createElement('li', {\n        className: 'e-cclist e-cc',\n        styles: 'list-style:None',\n        id: 'e-ccli_' + column.uid\n      });\n      hideColState = this.hideColumn.indexOf(column.uid) === -1 ? false : true;\n      showColState = this.showColumn.indexOf(column.uid) === -1 ? false : true;\n      var cccheckboxlist = this.createCheckBox(column.headerText, column.visible && !hideColState || showColState, column.uid);\n      cclist.appendChild(cccheckboxlist);\n      if (this.parent.cssClass) {\n        if (this.parent.cssClass.indexOf(' ') !== -1) {\n          addClass([cccheckboxlist], this.parent.cssClass.split(' '));\n        } else {\n          addClass([cccheckboxlist], [this.parent.cssClass]);\n        }\n      }\n      this.ulElement.appendChild(cclist);\n    }\n    if (this.isInitialOpen) {\n      this.updateIntermediateBtn();\n    }\n  };\n  ColumnChooser.prototype.columnChooserManualSearch = function (e) {\n    this.addcancelIcon();\n    this.searchValue = e.target.value;\n    this.stopTimer();\n    this.startTimer(e);\n  };\n  ColumnChooser.prototype.startTimer = function (e) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    var proxy = this;\n    var interval = !proxy.flag && e.keyCode !== 13 ? 500 : 0;\n    this.timer = window.setInterval(function () {\n      proxy.columnChooserSearch(proxy.searchValue);\n    }, interval);\n  };\n  ColumnChooser.prototype.stopTimer = function () {\n    window.clearInterval(this.timer);\n  };\n  ColumnChooser.prototype.addcancelIcon = function () {\n    this.dlgDiv.querySelector('.e-cc.e-ccsearch-icon').classList.add('e-cc-cancel');\n    this.dlgDiv.querySelector('.e-cc-cancel').setAttribute('title', this.l10n.getConstant('Clear'));\n  };\n  ColumnChooser.prototype.removeCancelIcon = function () {\n    this.dlgDiv.querySelector('.e-cc.e-ccsearch-icon').classList.remove('e-cc-cancel');\n    this.dlgDiv.querySelector('.e-cc.e-ccsearch-icon').setAttribute('title', this.l10n.getConstant('Search'));\n  };\n  ColumnChooser.prototype.mOpenDlg = function () {\n    if (Browser.isDevice) {\n      this.dlgObj.element.querySelector('.e-cc-searchdiv').classList.remove('e-input-focus');\n      this.dlgObj.element.querySelectorAll('.e-cc-chbox')[0].focus();\n    }\n    if (this.parent.enableAdaptiveUI) {\n      this.dlgObj.element.querySelector('.e-cc-searchdiv').classList.add('e-input-focus');\n    }\n  };\n  // internally use\n  ColumnChooser.prototype.getModuleName = function () {\n    return 'columnChooser';\n  };\n  ColumnChooser.prototype.hideOpenedDialog = function () {\n    var openCC = [].slice.call(document.getElementsByClassName('e-ccdlg')).filter(function (dlgEle) {\n      return dlgEle.classList.contains('e-popup-open');\n    });\n    for (var i = 0, dlgLen = openCC.length; i < dlgLen; i++) {\n      if (this.parent.element.id + '_ccdlg' !== openCC[parseInt(i.toString(), 10)].id || openCC[parseInt(i.toString(), 10)].classList.contains('e-dialog')) {\n        openCC[parseInt(i.toString(), 10)].ej2_instances[0].hide();\n      }\n    }\n  };\n  ColumnChooser.prototype.beforeOpenColumnChooserEvent = function () {\n    var args1 = {\n      requestType: 'beforeOpenColumnChooser',\n      element: this.parent.element,\n      columns: this.getColumns(),\n      cancel: false,\n      searchOperator: this.parent.columnChooserSettings.operator\n    };\n    this.parent.trigger(events.beforeOpenColumnChooser, args1);\n    this.searchOperator = args1.searchOperator;\n    return args1;\n  };\n  ColumnChooser.prototype.renderResponsiveChangeAction = function (args) {\n    this.responsiveDialogRenderer.action = args.action;\n  };\n  /**\n   * To show the responsive custom sort dialog\n   *\n   * @param {boolean} enable - specifes dialog open\n   * @returns {void}\n   * @hidden\n   */\n  ColumnChooser.prototype.showCustomColumnChooser = function (enable) {\n    this.responsiveDialogRenderer.isCustomDialog = enable;\n    this.responsiveDialogRenderer.showResponsiveDialog();\n  };\n  return ColumnChooser;\n}();\nexport { ColumnChooser };","map":{"version":3,"names":["classList","addClass","removeClass","isNullOrUndefined","Browser","Query","DataManager","EventHandler","closest","events","Dialog","calculateRelativeBasedPosition","createCboxWithWrap","toogleCheckbox","parentsUntil","removeAddCboxClasses","setChecked","ResponsiveDialogAction","createCheckBox","SearchBox","literals","ColumnChooser","parent","serviceLocator","showColumn","hideColumn","changedColumns","unchangedColumns","isDlgOpen","initialOpenDlg","stateChangeColumns","changedStateColumns","isInitialOpen","isCustomizeOpenCC","searchOperator","prevShowedCols","hideDialogFunction","hideDialog","bind","addEventListener","cBoxTrue","createElement","checked","label","cBoxFalse","insertBefore","className","attrs","type","firstChild","querySelector","add","enableRtl","cssClass","indexOf","split","enableAdaptiveUI","setFullScreenDialog","prototype","destroy","gridElement","element","gridContent","gridHeader","removeEventListener","unWireEvents","dlgObj","isDestroyed","registerAdaptiveService","isColumnChooser","rtlUpdate","slice","call","innerDiv","getElementsByClassName","document","clickHandler","on","uiUpdate","enableAfterRenderEle","initialEnd","render","dataBound","rtlUpdated","resetColumns","onResetColumns","renderResponsiveColumnChooserDiv","renderResponsiveChangeAction","remove","off","l10n","getService","renderDlgContent","getShowHideService","e","targetElement","target","contains","visible","parentElement","value","columnChooserSearch","removeCancelIcon","refreshCheckboxButton","hide","clearActions","refreshCheckboxState","detailTemplate","childGrid","targetdlg","renderColumnChooser","x","y","hideOpenedDialog","args","beforeOpenColumnChooserEvent","cancel","dataBind","style","maxHeight","elementVisible","display","isSticky","getHeaderContent","toolbarItem","newpos","getBoundingClientRect","top","height","dlgWidth","width","isDevice","body","position","X","Y","refreshPosition","open","mOpenDlg","left","offsetLeft","clientWidth","show","notify","columnChooserOpened","dialog","addcancelIcon","openColumnChooser","content","renderChooserList","updateIntermediateBtn","beforeOpen","customDialogOpen","beforeClose","customDialogClose","module","getModuleName","enable","keyUpHandler","key","setFocus","elem","prevElem","dlgDiv","searchElement","columnChooserManualSearch","getColumns","columns","filter","column","showInColumnChooser","field","undefined","isAdaptive","id","appendChild","header","getConstant","showCloseIcon","closeOnEscape","locale","getElementById","animationSettings","effect","buttons","click","confirmDlgBtnClick","buttonModel","isPrimary","clearBtnClick","isStringTemplate","appendTo","responsiveCnt","wireEvents","mainDiv","searchDiv","ccsearchele","placeholder","ccsearchicon","title","conDiv","searchBoxObj","innerDivContent","refreshCheckboxList","searchBoxDiv","length","changedColumnState","uncheckedLength","ulElement","querySelectorAll","columnStateChange","setVisible","tooltipDestroy","getCurrentViewRecords","emptyRowCell","setAttribute","getVisibleColumns","toString","scrollModule","refresh","requestType","resetColumnState","action","index","colUid","parseInt","currentCol","getColumnByUid","push","stateColumns","state","columnChooserCancelBtnClick","checkstatecolumn","isChecked","coluid","selectAll","splice","searchVal","clearSearch","fltrCol","okButton","buttonEle","selectedCbox","ej2_instances","executeLocal","where","columnChooserSettings","ignoreAccent","innerHTML","disabled","responsiveDialogRenderer","refreshCustomFilterOkBtn","nMatchele","flag","stopTimer","checkBoxClickHandler","searchBox","wireEvent","unWireEvent","checkstate","updateSelectAll","focus","columnUid","getAttribute","i","uid","cnt","children","selected","btn","btnObj","inputElem","indeterminate","cBoxes","_i","cBoxes_1","cBox","cBoxInput","visibleCols","columnUID","srchShowCols","searchData","itemsLen","hideCols","gdCol","selectAllValue","cclist","firstElementChild","checkState","renderCheckbox","gridObject","currentCheckBoxColls","itemLen","uncheck","cbox","cloneNode","cboxLabel","inputcbox","hideColState","showColState","styles","cccheckboxlist","headerText","searchValue","startTimer","proxy","interval","keyCode","timer","window","setInterval","clearInterval","openCC","dlgEle","dlgLen","args1","operator","trigger","beforeOpenColumnChooser","showCustomColumnChooser","isCustomDialog","showResponsiveDialog"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/node_modules/@syncfusion/ej2-grids/src/grid/actions/column-chooser.js"],"sourcesContent":["import { classList, addClass, removeClass, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport { Query, DataManager } from '@syncfusion/ej2-data';\nimport { EventHandler, closest } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { Dialog, calculateRelativeBasedPosition } from '@syncfusion/ej2-popups';\nimport { createCboxWithWrap, toogleCheckbox, parentsUntil, removeAddCboxClasses, setChecked } from '../base/util';\nimport { ResponsiveDialogAction } from '../base/enum';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { SearchBox } from '../services/focus-strategy';\nimport * as literals from '../base/string-literals';\n/**\n * The `ColumnChooser` module is used to show or hide columns dynamically.\n */\nvar ColumnChooser = /** @class */ (function () {\n    /**\n     * Constructor for the Grid ColumnChooser module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     * @hidden\n     */\n    function ColumnChooser(parent, serviceLocator) {\n        this.showColumn = [];\n        this.hideColumn = [];\n        this.changedColumns = [];\n        this.unchangedColumns = [];\n        this.isDlgOpen = false;\n        this.initialOpenDlg = true;\n        this.stateChangeColumns = [];\n        this.changedStateColumns = [];\n        this.isInitialOpen = false;\n        this.isCustomizeOpenCC = false;\n        this.searchOperator = 'startswith';\n        this.prevShowedCols = [];\n        this.hideDialogFunction = this.hideDialog.bind(this);\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n        this.cBoxTrue = createCheckBox(this.parent.createElement, false, { checked: true, label: ' ' });\n        this.cBoxFalse = createCheckBox(this.parent.createElement, false, { checked: false, label: ' ' });\n        this.cBoxTrue.insertBefore(this.parent.createElement('input', {\n            className: 'e-chk-hidden e-cc e-cc-chbox', attrs: { type: 'checkbox' }\n        }), this.cBoxTrue.firstChild);\n        this.cBoxFalse.insertBefore(this.parent.createElement('input', {\n            className: 'e-chk-hidden e-cc e-cc-chbox', attrs: { 'type': 'checkbox' }\n        }), this.cBoxFalse.firstChild);\n        this.cBoxFalse.querySelector('.e-frame').classList.add('e-uncheck');\n        if (this.parent.enableRtl) {\n            addClass([this.cBoxTrue, this.cBoxFalse], ['e-rtl']);\n        }\n        if (this.parent.cssClass) {\n            if (this.parent.cssClass.indexOf(' ') !== -1) {\n                addClass([this.cBoxTrue, this.cBoxFalse], this.parent.cssClass.split(' '));\n            }\n            else {\n                addClass([this.cBoxTrue, this.cBoxFalse], [this.parent.cssClass]);\n            }\n        }\n        if (this.parent.enableAdaptiveUI) {\n            this.setFullScreenDialog();\n        }\n    }\n    ColumnChooser.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement.querySelector('.' + literals.gridContent) && (!gridElement.querySelector('.' + literals.gridHeader)) || !gridElement) {\n            return;\n        }\n        this.removeEventListener();\n        this.unWireEvents();\n        if (!isNullOrUndefined(this.dlgObj) && this.dlgObj.element && !this.dlgObj.isDestroyed) {\n            this.dlgObj.destroy();\n        }\n    };\n    ColumnChooser.prototype.setFullScreenDialog = function () {\n        if (this.serviceLocator) {\n            this.serviceLocator.registerAdaptiveService(this, this.parent.enableAdaptiveUI, ResponsiveDialogAction.isColumnChooser);\n        }\n    };\n    ColumnChooser.prototype.rtlUpdate = function () {\n        if (this.parent.enableRtl) {\n            addClass([].slice.call(this.innerDiv.getElementsByClassName('e-checkbox-wrapper')), ['e-rtl']);\n        }\n        else {\n            removeClass([].slice.call(this.innerDiv.getElementsByClassName('e-checkbox-wrapper')), ['e-rtl']);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ColumnChooser.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.add(document, 'click', this.clickHandler, this);\n        this.parent.on(events.uiUpdate, this.enableAfterRenderEle, this);\n        this.parent.on(events.initialEnd, this.render, this);\n        this.parent.addEventListener(events.dataBound, this.hideDialogFunction);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.rtlUpdated, this.rtlUpdate, this);\n        this.parent.on(events.resetColumns, this.onResetColumns, this);\n        if (this.parent.enableAdaptiveUI) {\n            this.parent.on(events.setFullScreenDialog, this.setFullScreenDialog, this);\n            this.parent.on(events.renderResponsiveColumnChooserDiv, this.renderResponsiveColumnChooserDiv, this);\n            this.parent.on(events.renderResponsiveChangeAction, this.renderResponsiveChangeAction, this);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ColumnChooser.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(document, 'click', this.clickHandler);\n        this.parent.off(events.initialEnd, this.render);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.uiUpdate, this.enableAfterRenderEle);\n        this.parent.off(events.rtlUpdated, this.rtlUpdate);\n        this.parent.off(events.resetColumns, this.onResetColumns);\n        this.parent.removeEventListener(events.dataBound, this.hideDialogFunction);\n        this.parent.off(events.setFullScreenDialog, this.setFullScreenDialog);\n        if (this.parent.enableAdaptiveUI) {\n            this.parent.off(events.setFullScreenDialog, this.setFullScreenDialog);\n            this.parent.off(events.renderResponsiveColumnChooserDiv, this.renderResponsiveColumnChooserDiv);\n            this.parent.off(events.renderResponsiveChangeAction, this.renderResponsiveChangeAction);\n        }\n    };\n    ColumnChooser.prototype.render = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n        if (!this.parent.enableAdaptiveUI) {\n            this.renderDlgContent();\n        }\n        this.getShowHideService = this.serviceLocator.getService('showHideService');\n    };\n    ColumnChooser.prototype.clickHandler = function (e) {\n        var targetElement = e.target;\n        if (!this.isCustomizeOpenCC) {\n            if (!isNullOrUndefined(closest(targetElement, '.e-cc-toolbar')) || !isNullOrUndefined(closest(targetElement, '.e-cc'))) {\n                if (targetElement.classList.contains('e-columnchooser-btn') || targetElement.classList.contains('e-cc-toolbar')) {\n                    if ((this.initialOpenDlg && this.dlgObj.visible) || !this.isDlgOpen) {\n                        this.isDlgOpen = true;\n                        return;\n                    }\n                }\n                else if (targetElement.classList.contains('e-cc-cancel')) {\n                    targetElement.parentElement.querySelector('.e-ccsearch').value = '';\n                    this.columnChooserSearch('');\n                    this.removeCancelIcon();\n                    this.refreshCheckboxButton();\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.dlgObj) && this.dlgObj.visible && !targetElement.classList.contains('e-toolbar-items')) {\n                    this.dlgObj.hide();\n                    this.clearActions();\n                    this.refreshCheckboxState();\n                    // this.unWireEvents();\n                    this.isDlgOpen = false;\n                }\n            }\n            if (this.parent.detailTemplate || this.parent.childGrid) {\n                this.targetdlg = e.target;\n            }\n        }\n        if (this.isCustomizeOpenCC && e.target.classList.contains('e-cc-cancel')) {\n            this.refreshCheckboxState();\n        }\n        if (!this.parent.enableAdaptiveUI) {\n            this.rtlUpdate();\n        }\n        else {\n            if (this.parent.enableRtl) {\n                addClass([this.cBoxTrue, this.cBoxFalse], ['e-rtl']);\n            }\n        }\n    };\n    ColumnChooser.prototype.hideDialog = function () {\n        if (!isNullOrUndefined(this.dlgObj) && this.dlgObj.visible) {\n            this.dlgObj.hide();\n            // this.unWireEvents();\n            this.isDlgOpen = false;\n        }\n    };\n    /**\n     * To render columnChooser when showColumnChooser enabled.\n     *\n     * @param {number} x - specifies the position x\n     * @param {number} y - specifies the position y\n     * @param {Element} target - specifies the target\n     * @returns {void}\n     * @hidden\n     */\n    ColumnChooser.prototype.renderColumnChooser = function (x, y, target) {\n        if (!this.dlgObj.visible && (this.parent.detailTemplate || this.parent.childGrid)) {\n            this.hideOpenedDialog();\n        }\n        if (!this.dlgObj.visible) {\n            var args = this.beforeOpenColumnChooserEvent();\n            if (args.cancel) {\n                return;\n            }\n            if (target) {\n                this.targetdlg = target;\n            }\n            this.refreshCheckboxState();\n            this.dlgObj.dataBind();\n            this.dlgObj.element.style.maxHeight = '430px';\n            var elementVisible = this.dlgObj.element.style.display;\n            this.dlgObj.element.style.display = 'block';\n            var isSticky = this.parent.getHeaderContent().classList.contains('e-sticky');\n            var toolbarItem = closest(target, '.e-toolbar-item');\n            var newpos = void 0;\n            if (isSticky) {\n                newpos = toolbarItem.getBoundingClientRect();\n                this.dlgObj.element.classList.add('e-sticky');\n            }\n            else {\n                this.dlgObj.element.classList.remove('e-sticky');\n                newpos = calculateRelativeBasedPosition(toolbarItem, this.dlgObj.element);\n            }\n            this.dlgObj.element.style.display = elementVisible;\n            this.dlgObj.element.style.top = newpos.top + closest(target, '.e-cc-toolbar').getBoundingClientRect().height + 'px';\n            var dlgWidth = 250;\n            if (!isNullOrUndefined(closest(target, '.e-bigger'))) {\n                this.dlgObj.width = 258;\n            }\n            if (Browser.isDevice) {\n                this.dlgObj.target = document.body;\n                this.dlgObj.position = { X: 'center', Y: 'center' };\n                this.dlgObj.refreshPosition();\n                this.dlgObj.open = this.mOpenDlg.bind(this);\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    this.dlgObj.element.style.left = target.offsetLeft + 'px';\n                }\n                else {\n                    this.dlgObj.element.style.left = ((newpos.left - dlgWidth) + closest(target, '.e-cc-toolbar').clientWidth) + 2 + 'px';\n                }\n            }\n            this.removeCancelIcon();\n            this.dlgObj.show();\n            this.parent.notify(events.columnChooserOpened, { dialog: this.dlgObj });\n        }\n        else {\n            // this.unWireEvents();\n            this.hideDialog();\n            this.addcancelIcon();\n            this.clearActions();\n            this.refreshCheckboxState();\n        }\n        this.rtlUpdate();\n    };\n    /**\n     * Column chooser can be displayed on screen by given position(X and Y axis).\n     *\n     * @param  {number} X - Defines the X axis.\n     * @param  {number} Y - Defines the Y axis.\n     * @return {void}\n     */\n    ColumnChooser.prototype.openColumnChooser = function (X, Y) {\n        this.isCustomizeOpenCC = true;\n        if (this.parent.enableAdaptiveUI) {\n            this.renderDlgContent();\n        }\n        if (this.dlgObj.visible) {\n            this.hideDialog();\n            return;\n        }\n        var args = this.beforeOpenColumnChooserEvent();\n        if (args.cancel) {\n            return;\n        }\n        if (!this.isInitialOpen) {\n            this.dlgObj.content = this.renderChooserList();\n            this.updateIntermediateBtn();\n        }\n        else {\n            this.refreshCheckboxState();\n        }\n        this.dlgObj.dataBind();\n        this.dlgObj.position = { X: 'center', Y: 'center' };\n        if (isNullOrUndefined(X)) {\n            if (this.parent.enableAdaptiveUI) {\n                this.dlgObj.position = { X: '', Y: '' };\n            }\n            this.dlgObj.refreshPosition();\n        }\n        else {\n            this.dlgObj.element.style.top = '';\n            this.dlgObj.element.style.left = '';\n            this.dlgObj.element.style.top = Y + 'px';\n            this.dlgObj.element.style.left = X + 'px';\n        }\n        this.dlgObj.beforeOpen = this.customDialogOpen.bind(this);\n        this.dlgObj.show();\n        this.isInitialOpen = true;\n        this.dlgObj.beforeClose = this.customDialogClose.bind(this);\n    };\n    ColumnChooser.prototype.enableAfterRenderEle = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.render();\n        }\n    };\n    ColumnChooser.prototype.keyUpHandler = function (e) {\n        if (e.key === 'Escape') {\n            this.hideDialog();\n        }\n        this.setFocus(parentsUntil(e.target, 'e-cclist'));\n    };\n    ColumnChooser.prototype.setFocus = function (elem) {\n        var prevElem = this.dlgDiv.querySelector('.e-colfocus');\n        if (prevElem) {\n            prevElem.classList.remove('e-colfocus');\n        }\n        if (elem) {\n            elem.classList.add('e-colfocus');\n        }\n    };\n    ColumnChooser.prototype.customDialogOpen = function () {\n        var searchElement = this.dlgObj.content.querySelector('input.e-ccsearch');\n        EventHandler.add(searchElement, 'keyup', this.columnChooserManualSearch, this);\n    };\n    ColumnChooser.prototype.customDialogClose = function () {\n        var searchElement = this.dlgObj.content.querySelector('input.e-ccsearch');\n        EventHandler.remove(searchElement, 'keyup', this.columnChooserManualSearch);\n    };\n    ColumnChooser.prototype.getColumns = function () {\n        var columns = this.parent.getColumns().filter(function (column) { return (column.type !== 'checkbox'\n            && column.showInColumnChooser === true) || (column.type === 'checkbox' && column.field !== undefined); });\n        return columns;\n    };\n    ColumnChooser.prototype.renderDlgContent = function () {\n        var isAdaptive = this.parent.enableAdaptiveUI;\n        this.dlgDiv = this.parent.createElement('div', { className: 'e-ccdlg e-cc', id: this.parent.element.id + '_ccdlg' });\n        if (!isAdaptive) {\n            this.parent.element.appendChild(this.dlgDiv);\n        }\n        this.dlgObj = new Dialog({\n            header: this.parent.enableAdaptiveUI ? null : this.l10n.getConstant('ChooseColumns'),\n            showCloseIcon: false,\n            closeOnEscape: false,\n            locale: this.parent.locale,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            target: document.getElementById(this.parent.element.id),\n            content: this.renderChooserList(),\n            width: 250,\n            cssClass: this.parent.cssClass ? 'e-cc' + ' ' + this.parent.cssClass : 'e-cc',\n            animationSettings: { effect: 'None' }\n        });\n        if (!isAdaptive) {\n            this.dlgObj.buttons = [{\n                    click: this.confirmDlgBtnClick.bind(this),\n                    buttonModel: {\n                        content: this.l10n.getConstant('OKButton'), isPrimary: true,\n                        cssClass: this.parent.cssClass ? 'e-cc e-cc_okbtn' + ' ' + this.parent.cssClass : 'e-cc e-cc_okbtn'\n                    }\n                },\n                {\n                    click: this.clearBtnClick.bind(this),\n                    buttonModel: {\n                        cssClass: this.parent.cssClass ?\n                            'e-flat e-cc e-cc-cnbtn' + ' ' + this.parent.cssClass : 'e-flat e-cc e-cc-cnbtn',\n                        content: this.l10n.getConstant('CancelButton')\n                    }\n                }];\n        }\n        var isStringTemplate = 'isStringTemplate';\n        this.dlgObj[\"\" + isStringTemplate] = true;\n        this.dlgObj.appendTo(this.dlgDiv);\n        if (isAdaptive) {\n            var responsiveCnt = document.querySelector('.e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv');\n            if (responsiveCnt) {\n                responsiveCnt.appendChild(this.dlgDiv);\n            }\n            this.dlgObj.open = this.mOpenDlg.bind(this);\n            this.dlgObj.target = document.querySelector('.e-rescolumnchooser > .e-dlg-content > .e-mainfilterdiv');\n        }\n        this.wireEvents();\n    };\n    ColumnChooser.prototype.renderChooserList = function () {\n        this.mainDiv = this.parent.createElement('div', { className: 'e-main-div e-cc' });\n        var searchDiv = this.parent.createElement('div', { className: 'e-cc-searchdiv e-cc e-input-group' });\n        var ccsearchele = this.parent.createElement('input', {\n            className: 'e-ccsearch e-cc e-input',\n            attrs: { placeholder: this.l10n.getConstant('Search'), cssClass: this.parent.cssClass }\n        });\n        var ccsearchicon = this.parent.createElement('span', {\n            className: 'e-ccsearch-icon e-icons e-cc e-input-group-icon',\n            attrs: { title: this.l10n.getConstant('Search') }\n        });\n        var conDiv = this.parent.createElement('div', { className: 'e-cc-contentdiv' });\n        this.innerDiv = this.parent.createElement('div', { className: 'e-innerdiv e-cc' });\n        searchDiv.appendChild(ccsearchele);\n        searchDiv.appendChild(ccsearchicon);\n        this.searchBoxObj = new SearchBox(ccsearchele);\n        var innerDivContent = this.refreshCheckboxList(this.parent.getColumns());\n        this.innerDiv.appendChild(innerDivContent);\n        conDiv.appendChild(this.innerDiv);\n        if (this.parent.enableAdaptiveUI) {\n            var searchBoxDiv = this.parent.createElement('div', { className: 'e-cc-searchBox' });\n            searchBoxDiv.appendChild(searchDiv);\n            this.mainDiv.appendChild(searchBoxDiv);\n        }\n        else {\n            this.mainDiv.appendChild(searchDiv);\n        }\n        this.mainDiv.appendChild(conDiv);\n        return this.mainDiv;\n    };\n    ColumnChooser.prototype.confirmDlgBtnClick = function (args) {\n        this.stateChangeColumns = [];\n        this.changedStateColumns = [];\n        this.changedColumns = (this.changedColumns.length > 0) ? this.changedColumns : this.unchangedColumns;\n        this.changedColumnState(this.changedColumns);\n        var uncheckedLength = this.ulElement.querySelector('.e-uncheck') &&\n            this.ulElement.querySelectorAll('.e-uncheck:not(.e-selectall)').length;\n        if (!isNullOrUndefined(args)) {\n            if (uncheckedLength < this.parent.getColumns().length) {\n                if (this.hideColumn.length) {\n                    this.columnStateChange(this.hideColumn, false);\n                }\n                if (this.showColumn.length) {\n                    this.columnStateChange(this.showColumn, true);\n                }\n                this.getShowHideService.setVisible(this.stateChangeColumns, this.changedStateColumns);\n                this.clearActions();\n                this.parent.notify(events.tooltipDestroy, { module: 'edit' });\n                if (this.parent.getCurrentViewRecords().length === 0) {\n                    var emptyRowCell = this.parent.element.querySelector('.e-emptyrow').querySelector('td');\n                    emptyRowCell.setAttribute('colSpan', this.parent.getVisibleColumns().length.toString());\n                }\n            }\n            if (this.parent.enableAdaptiveUI && this.parent.scrollModule) {\n                this.parent.scrollModule.refresh();\n            }\n        }\n    };\n    ColumnChooser.prototype.onResetColumns = function (e) {\n        if (e.requestType === 'columnstate') {\n            this.resetColumnState();\n            return;\n        }\n    };\n    ColumnChooser.prototype.renderResponsiveColumnChooserDiv = function (args) {\n        if (args.action === 'open') {\n            this.openColumnChooser();\n        }\n        else if (args.action === 'clear') {\n            this.clearBtnClick();\n        }\n        else if (args.action === 'confirm') {\n            this.confirmDlgBtnClick(true);\n        }\n    };\n    ColumnChooser.prototype.resetColumnState = function () {\n        this.showColumn = [];\n        this.hideColumn = [];\n        this.hideDialog();\n    };\n    ColumnChooser.prototype.changedColumnState = function (changedColumns) {\n        for (var index = 0; index < changedColumns.length; index++) {\n            var colUid = changedColumns[parseInt(index.toString(), 10)];\n            var currentCol = this.parent.getColumnByUid(colUid);\n            this.changedStateColumns.push(currentCol);\n        }\n    };\n    ColumnChooser.prototype.columnStateChange = function (stateColumns, state) {\n        for (var index = 0; index < stateColumns.length; index++) {\n            var colUid = stateColumns[parseInt(index.toString(), 10)];\n            var currentCol = this.parent.getColumnByUid(colUid);\n            if (currentCol.type !== 'checkbox') {\n                currentCol.visible = state;\n            }\n            this.stateChangeColumns.push(currentCol);\n        }\n    };\n    ColumnChooser.prototype.clearActions = function () {\n        this.resetColumnState();\n        this.addcancelIcon();\n    };\n    ColumnChooser.prototype.clearBtnClick = function () {\n        this.clearActions();\n        this.parent.notify(events.columnChooserCancelBtnClick, { dialog: this.dlgObj });\n    };\n    ColumnChooser.prototype.checkstatecolumn = function (isChecked, coluid, selectAll) {\n        if (selectAll === void 0) { selectAll = false; }\n        var currentCol = this.parent.getColumnByUid(coluid);\n        if (isChecked) {\n            if (this.hideColumn.indexOf(coluid) !== -1) {\n                this.hideColumn.splice(this.hideColumn.indexOf(coluid), 1);\n            }\n            if (this.showColumn.indexOf(coluid) === -1 && !(currentCol && currentCol.visible)) {\n                this.showColumn.push(coluid);\n            }\n        }\n        else {\n            if (this.showColumn.indexOf(coluid) !== -1) {\n                this.showColumn.splice(this.showColumn.indexOf(coluid), 1);\n            }\n            if (this.hideColumn.indexOf(coluid) === -1 && (currentCol && currentCol.visible)) {\n                this.hideColumn.push(coluid);\n            }\n        }\n        if (selectAll) {\n            if (!isChecked) {\n                this.changedColumns.push(coluid);\n            }\n            else {\n                this.unchangedColumns.push(coluid);\n            }\n        }\n        else if (this.changedColumns.indexOf(coluid) !== -1) {\n            this.changedColumns.splice(this.changedColumns.indexOf(coluid), 1);\n        }\n        else {\n            this.changedColumns.push(coluid);\n        }\n    };\n    ColumnChooser.prototype.columnChooserSearch = function (searchVal) {\n        var clearSearch = false;\n        var fltrCol;\n        var okButton;\n        var buttonEle = this.dlgDiv.querySelector('.e-footer-content');\n        var selectedCbox = this.ulElement.querySelector('.e-check') &&\n            this.ulElement.querySelectorAll('.e-check:not(.e-selectall)').length;\n        this.isInitialOpen = true;\n        if (buttonEle) {\n            okButton = buttonEle.querySelector('.e-btn').ej2_instances[0];\n        }\n        if (searchVal === '') {\n            this.removeCancelIcon();\n            fltrCol = this.getColumns();\n            clearSearch = true;\n        }\n        else {\n            fltrCol = new DataManager(this.getColumns()).executeLocal(new Query()\n                .where('headerText', this.searchOperator, searchVal, true, this.parent.columnChooserSettings.ignoreAccent));\n        }\n        if (fltrCol.length) {\n            this.innerDiv.innerHTML = ' ';\n            this.innerDiv.classList.remove('e-ccnmdiv');\n            this.innerDiv.appendChild(this.refreshCheckboxList(fltrCol));\n            if (!clearSearch) {\n                this.addcancelIcon();\n                this.refreshCheckboxButton();\n            }\n            else {\n                if (okButton && selectedCbox) {\n                    okButton.disabled = false;\n                }\n                if (selectedCbox && this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n                    this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: false });\n                }\n            }\n        }\n        else {\n            var nMatchele = this.parent.createElement('span', { className: 'e-cc e-nmatch' });\n            nMatchele.innerHTML = this.l10n.getConstant('Matchs');\n            this.innerDiv.innerHTML = ' ';\n            this.innerDiv.appendChild(nMatchele);\n            this.innerDiv.classList.add('e-ccnmdiv');\n            if (okButton) {\n                okButton.disabled = true;\n            }\n            if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n                this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: true });\n            }\n        }\n        this.flag = true;\n        this.stopTimer();\n    };\n    ColumnChooser.prototype.wireEvents = function () {\n        EventHandler.add(this.dlgObj.element, 'click', this.checkBoxClickHandler, this);\n        EventHandler.add(this.searchBoxObj.searchBox, 'keyup', this.columnChooserManualSearch, this);\n        EventHandler.add(this.dlgObj.element, 'keyup', this.keyUpHandler, this);\n        this.searchBoxObj.wireEvent();\n    };\n    ColumnChooser.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.dlgObj && this.dlgObj.element) {\n            EventHandler.remove(this.dlgObj.element, 'click', this.checkBoxClickHandler);\n            EventHandler.remove(this.dlgObj.element, 'keyup', this.keyUpHandler);\n        }\n        if (this.searchBoxObj) {\n            EventHandler.remove(this.searchBoxObj.searchBox, 'keyup', this.columnChooserManualSearch);\n            this.searchBoxObj.unWireEvent();\n        }\n    };\n    ColumnChooser.prototype.checkBoxClickHandler = function (e) {\n        var checkstate;\n        var elem = parentsUntil(e.target, 'e-checkbox-wrapper');\n        if (elem) {\n            var selectAll = elem.querySelector('.e-selectall');\n            if (selectAll) {\n                this.updateSelectAll(!elem.querySelector('.e-check'));\n            }\n            else {\n                toogleCheckbox(elem.parentElement);\n            }\n            elem.querySelector('.e-chk-hidden').focus();\n            if (elem.querySelector('.e-check')) {\n                checkstate = true;\n            }\n            else if (elem.querySelector('.e-uncheck')) {\n                checkstate = false;\n            }\n            this.updateIntermediateBtn();\n            var columnUid = parentsUntil(elem, 'e-ccheck').getAttribute('uid');\n            var column = this.parent.getColumns();\n            if (columnUid === 'grid-selectAll') {\n                this.changedColumns = [];\n                this.unchangedColumns = [];\n                for (var i = 0; i < column.length; i++) {\n                    if (column[parseInt(i.toString(), 10)].showInColumnChooser) {\n                        this.checkstatecolumn(checkstate, column[parseInt(i.toString(), 10)].uid, true);\n                    }\n                }\n            }\n            else {\n                this.checkstatecolumn(checkstate, columnUid);\n            }\n            this.refreshCheckboxButton();\n            this.setFocus(parentsUntil(e.target, 'e-cclist'));\n        }\n    };\n    ColumnChooser.prototype.updateIntermediateBtn = function () {\n        var cnt = this.ulElement.children.length - 1;\n        var className = [];\n        var elem = this.ulElement.children[0].querySelector('.e-frame');\n        var selected = this.ulElement.querySelectorAll('.e-check:not(.e-selectall)').length;\n        var btn;\n        if (!this.parent.enableAdaptiveUI) {\n            btn = this.dlgObj.btnObj[0];\n            btn.disabled = false;\n        }\n        else if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n            this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: false });\n        }\n        var inputElem = elem.parentElement.querySelector('input');\n        if (cnt === selected) {\n            className = ['e-check'];\n            setChecked(inputElem, true);\n        }\n        else if (selected) {\n            className = ['e-stop'];\n            inputElem.indeterminate = true;\n        }\n        else {\n            className = ['e-uncheck'];\n            setChecked(inputElem, false);\n            if (!this.parent.enableAdaptiveUI) {\n                btn.disabled = true;\n            }\n            else if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n                this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: true });\n            }\n        }\n        if (!this.parent.enableAdaptiveUI) {\n            btn.dataBind();\n        }\n        removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n        addClass([elem], className);\n    };\n    ColumnChooser.prototype.updateSelectAll = function (checked) {\n        var cBoxes = [].slice.call(this.ulElement.getElementsByClassName('e-frame'));\n        for (var _i = 0, cBoxes_1 = cBoxes; _i < cBoxes_1.length; _i++) {\n            var cBox = cBoxes_1[_i];\n            removeAddCboxClasses(cBox, checked);\n            var cBoxInput = cBox.parentElement.querySelector('input');\n            if (cBox.classList.contains('e-check')) {\n                setChecked(cBoxInput, true);\n            }\n            else if (cBox.classList.contains('e-uncheck')) {\n                setChecked(cBoxInput, false);\n            }\n        }\n    };\n    ColumnChooser.prototype.refreshCheckboxButton = function () {\n        var visibleCols = this.parent.getVisibleColumns();\n        for (var i = 0; i < visibleCols.length; i++) {\n            var columnUID = visibleCols[parseInt(i.toString(), 10)].uid;\n            if (this.prevShowedCols.indexOf(columnUID) === -1) {\n                this.prevShowedCols.push(columnUID);\n            }\n        }\n        for (var i = 0; i < this.hideColumn.length; i++) {\n            var index = this.prevShowedCols.indexOf(this.hideColumn[parseInt(i.toString(), 10)]);\n            if (index !== -1) {\n                this.prevShowedCols.splice(index, 1);\n            }\n        }\n        var selected = this.showColumn.length !== 0 ? 1 : this.prevShowedCols.length;\n        var btn;\n        if (!this.parent.enableAdaptiveUI) {\n            btn = this.dlgDiv.querySelector('.e-footer-content').querySelector('.e-btn').ej2_instances[0];\n            btn.disabled = false;\n        }\n        else if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n            this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: false });\n        }\n        var srchShowCols = [];\n        var searchData = [].slice.call(this.parent.element.getElementsByClassName('e-cc-chbox'));\n        for (var i = 0, itemsLen = searchData.length; i < itemsLen; i++) {\n            var element = searchData[parseInt(i.toString(), 10)];\n            var columnUID = parentsUntil(element, 'e-ccheck').getAttribute('uid');\n            srchShowCols.push(columnUID);\n        }\n        var hideCols = this.showColumn.filter(function (column) { return srchShowCols.indexOf(column) !== -1; });\n        if (selected === 0 && hideCols.length === 0) {\n            if (!this.parent.enableAdaptiveUI) {\n                btn.disabled = true;\n            }\n            else if (this.parent.enableAdaptiveUI && this.responsiveDialogRenderer) {\n                this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: true });\n            }\n        }\n        if (!this.parent.enableAdaptiveUI) {\n            btn.dataBind();\n        }\n    };\n    ColumnChooser.prototype.refreshCheckboxList = function (gdCol) {\n        this.ulElement = this.parent.createElement('ul', { className: 'e-ccul-ele e-cc' });\n        var selectAllValue = this.l10n.getConstant('SelectAll');\n        var cclist = this.parent.createElement('li', { className: 'e-cclist e-cc e-cc-selectall' });\n        var selectAll = this.createCheckBox(selectAllValue, false, 'grid-selectAll');\n        if (gdCol.length) {\n            selectAll.querySelector('.e-checkbox-wrapper').firstElementChild.classList.add('e-selectall');\n            selectAll.querySelector('.e-frame').classList.add('e-selectall');\n            this.checkState(selectAll.querySelector('.e-icons'), true);\n            cclist.appendChild(selectAll);\n            this.ulElement.appendChild(cclist);\n        }\n        if (this.parent.cssClass) {\n            if (this.parent.cssClass.indexOf(' ') !== -1) {\n                addClass([selectAll], this.parent.cssClass.split(' '));\n            }\n            else {\n                addClass([selectAll], [this.parent.cssClass]);\n            }\n        }\n        for (var i = 0; i < gdCol.length; i++) {\n            var columns = gdCol[parseInt(i.toString(), 10)];\n            this.renderCheckbox(columns);\n        }\n        return this.ulElement;\n    };\n    ColumnChooser.prototype.refreshCheckboxState = function () {\n        this.dlgObj.element.querySelector('.e-cc.e-input').value = '';\n        this.columnChooserSearch('');\n        var gridObject = this.parent;\n        var currentCheckBoxColls = this.dlgObj.element.querySelectorAll('.e-cc-chbox:not(.e-selectall)');\n        for (var i = 0, itemLen = currentCheckBoxColls.length; i < itemLen; i++) {\n            var element = currentCheckBoxColls[parseInt(i.toString(), 10)];\n            var columnUID = void 0;\n            if (this.parent.childGrid || this.parent.detailTemplate) {\n                columnUID = parentsUntil(this.dlgObj.element.querySelectorAll('.e-cc-chbox:not(.e-selectall)')[parseInt(i.toString(), 10)], 'e-ccheck').getAttribute('uid');\n            }\n            else {\n                columnUID = parentsUntil(element, 'e-ccheck').getAttribute('uid');\n            }\n            var column = gridObject.getColumnByUid(columnUID);\n            var uncheck = [].slice.call(element.parentElement.getElementsByClassName('e-uncheck'));\n            if (column.visible && !uncheck.length) {\n                element.checked = true;\n                this.checkState(element.parentElement.querySelector('.e-icons'), true);\n            }\n            else {\n                element.checked = false;\n                this.checkState(element.parentElement.querySelector('.e-icons'), false);\n            }\n        }\n    };\n    ColumnChooser.prototype.checkState = function (element, state) {\n        if (state) {\n            classList(element, ['e-check'], ['e-uncheck']);\n        }\n        else {\n            classList(element, ['e-uncheck'], ['e-check']);\n        }\n    };\n    ColumnChooser.prototype.createCheckBox = function (label, checked, uid) {\n        var cbox = checked ? this.cBoxTrue.cloneNode(true) : this.cBoxFalse.cloneNode(true);\n        var cboxLabel = cbox.querySelector('.e-label');\n        var inputcbox = cbox.querySelector('input');\n        setChecked(inputcbox, checked);\n        cboxLabel.setAttribute('id', uid + 'label');\n        cboxLabel.innerHTML = label;\n        inputcbox.setAttribute('aria-labelledby', cboxLabel.id);\n        return createCboxWithWrap(uid, cbox, 'e-ccheck');\n    };\n    ColumnChooser.prototype.renderCheckbox = function (column) {\n        var cclist;\n        var hideColState;\n        var showColState;\n        if (column.showInColumnChooser) {\n            cclist = this.parent.createElement('li', { className: 'e-cclist e-cc', styles: 'list-style:None', id: 'e-ccli_' + column.uid });\n            hideColState = this.hideColumn.indexOf(column.uid) === -1 ? false : true;\n            showColState = this.showColumn.indexOf(column.uid) === -1 ? false : true;\n            var cccheckboxlist = this.createCheckBox(column.headerText, (column.visible && !hideColState) || showColState, column.uid);\n            cclist.appendChild(cccheckboxlist);\n            if (this.parent.cssClass) {\n                if (this.parent.cssClass.indexOf(' ') !== -1) {\n                    addClass([cccheckboxlist], this.parent.cssClass.split(' '));\n                }\n                else {\n                    addClass([cccheckboxlist], [this.parent.cssClass]);\n                }\n            }\n            this.ulElement.appendChild(cclist);\n        }\n        if (this.isInitialOpen) {\n            this.updateIntermediateBtn();\n        }\n    };\n    ColumnChooser.prototype.columnChooserManualSearch = function (e) {\n        this.addcancelIcon();\n        this.searchValue = e.target.value;\n        this.stopTimer();\n        this.startTimer(e);\n    };\n    ColumnChooser.prototype.startTimer = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        var interval = !proxy.flag && e.keyCode !== 13 ? 500 : 0;\n        this.timer = window.setInterval(function () { proxy.columnChooserSearch(proxy.searchValue); }, interval);\n    };\n    ColumnChooser.prototype.stopTimer = function () {\n        window.clearInterval(this.timer);\n    };\n    ColumnChooser.prototype.addcancelIcon = function () {\n        this.dlgDiv.querySelector('.e-cc.e-ccsearch-icon').classList.add('e-cc-cancel');\n        this.dlgDiv.querySelector('.e-cc-cancel').setAttribute('title', this.l10n.getConstant('Clear'));\n    };\n    ColumnChooser.prototype.removeCancelIcon = function () {\n        this.dlgDiv.querySelector('.e-cc.e-ccsearch-icon').classList.remove('e-cc-cancel');\n        this.dlgDiv.querySelector('.e-cc.e-ccsearch-icon').setAttribute('title', this.l10n.getConstant('Search'));\n    };\n    ColumnChooser.prototype.mOpenDlg = function () {\n        if (Browser.isDevice) {\n            this.dlgObj.element.querySelector('.e-cc-searchdiv').classList.remove('e-input-focus');\n            this.dlgObj.element.querySelectorAll('.e-cc-chbox')[0].focus();\n        }\n        if (this.parent.enableAdaptiveUI) {\n            this.dlgObj.element.querySelector('.e-cc-searchdiv').classList.add('e-input-focus');\n        }\n    };\n    // internally use\n    ColumnChooser.prototype.getModuleName = function () {\n        return 'columnChooser';\n    };\n    ColumnChooser.prototype.hideOpenedDialog = function () {\n        var openCC = [].slice.call(document.getElementsByClassName('e-ccdlg')).filter(function (dlgEle) {\n            return dlgEle.classList.contains('e-popup-open');\n        });\n        for (var i = 0, dlgLen = openCC.length; i < dlgLen; i++) {\n            if (this.parent.element.id + '_ccdlg' !== openCC[parseInt(i.toString(), 10)].id || openCC[parseInt(i.toString(), 10)].classList.contains('e-dialog')) {\n                openCC[parseInt(i.toString(), 10)].ej2_instances[0].hide();\n            }\n        }\n    };\n    ColumnChooser.prototype.beforeOpenColumnChooserEvent = function () {\n        var args1 = {\n            requestType: 'beforeOpenColumnChooser', element: this.parent.element,\n            columns: this.getColumns(), cancel: false,\n            searchOperator: this.parent.columnChooserSettings.operator\n        };\n        this.parent.trigger(events.beforeOpenColumnChooser, args1);\n        this.searchOperator = args1.searchOperator;\n        return args1;\n    };\n    ColumnChooser.prototype.renderResponsiveChangeAction = function (args) {\n        this.responsiveDialogRenderer.action = args.action;\n    };\n    /**\n     * To show the responsive custom sort dialog\n     *\n     * @param {boolean} enable - specifes dialog open\n     * @returns {void}\n     * @hidden\n     */\n    ColumnChooser.prototype.showCustomColumnChooser = function (enable) {\n        this.responsiveDialogRenderer.isCustomDialog = enable;\n        this.responsiveDialogRenderer.showResponsiveDialog();\n    };\n    return ColumnChooser;\n}());\nexport { ColumnChooser };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}