{"ast":null,"code":"/* eslint-disable */\nimport { createElement, Browser, isBlazor, isNullOrUndefined, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { AnnotationToolbar } from '../index';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { FormFieldDataFormat } from '../base/types';\nimport { FormDesignerToolbar } from './formdesigner-toolbar';\n/**\n * Toolbar module\n */\nvar Toolbar = /** @class */function () {\n  /**\n   * @param viewer\n   * @param viewerBase\n   * @param viewer\n   * @param viewerBase\n   * @private\n   */\n  function Toolbar(viewer, viewerBase) {\n    var _this = this;\n    this.isPageNavigationToolDisabled = false;\n    this.isMagnificationToolDisabled = false;\n    /**\n     * @private\n    */\n    this.isSelectionToolDisabled = false;\n    this.isScrollingToolDisabled = false;\n    this.isOpenBtnVisible = true;\n    this.isNavigationToolVisible = true;\n    this.isMagnificationToolVisible = true;\n    this.isSelectionBtnVisible = true;\n    this.isScrollingBtnVisible = true;\n    this.isDownloadBtnVisible = true;\n    this.isPrintBtnVisible = true;\n    this.isSearchBtnVisible = true;\n    this.isTextSearchBoxDisplayed = false;\n    this.isUndoRedoBtnsVisible = true;\n    this.isAnnotationEditBtnVisible = true;\n    this.isFormDesignerEditBtnVisible = true;\n    this.isCommentBtnVisible = true;\n    this.isSubmitbtnvisible = true;\n    this.toolItems = [];\n    this.itemsIndexArray = [];\n    this.onToolbarKeydown = function (event) {\n      // eslint-disable-next-line max-len\n      var isSkip = event.key === 'Tab' || event.shiftKey === true || event.key === 'Enter' || event.key === ' ' || event.key === 'ArrowUp' || event.key === 'ArrowDown' || event.key === 'ArrowLeft' || event.key === 'ArrowRight';\n      var targetId = event.target.id;\n      var customItem = _this.toolItems.filter(function (toolItem) {\n        return toolItem.id === targetId;\n      });\n      if (!(targetId === _this.pdfViewer.element.id + '_currentPageInput' || targetId === _this.pdfViewer.element.id + '_zoomDropDown' || customItem.length > 0) && !isSkip) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    };\n    this.toolbarClickHandler = function (args) {\n      // eslint-disable-next-line max-len\n      var isKeyBoardEvent = args.originalEvent && args.originalEvent.pointerType !== 'mouse' && args.originalEvent.pointerType !== 'touch';\n      if (!Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n        if (args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2]) {\n          args.cancel = true;\n        } else if (args.originalEvent.target.id === _this.pdfViewer.element.id + '_openIcon') {\n          var tooltipData = args.originalEvent.target.parentElement.dataset;\n          if (tooltipData && tooltipData.tooltipId) {\n            var tooltipElement = document.getElementById(tooltipData.tooltipId);\n            if (tooltipElement) {\n              tooltipElement.style.display = 'none';\n            }\n          }\n        }\n      }\n      _this.handleToolbarBtnClick(args, isKeyBoardEvent);\n      // eslint-disable-next-line\n      var targetElement = args.originalEvent.target;\n      var customItem = [];\n      if (!isNullOrUndefined(args.item)) {\n        customItem = _this.toolItems.filter(function (toolItem) {\n          return toolItem.id === args.item.id;\n        });\n      }\n      if (!Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n        // eslint-disable-next-line max-len\n        if (!(args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2] || args.originalEvent.target === _this.currentPageBoxElement || args.originalEvent.target === _this.textSearchItem.childNodes[0] || customItem.length > 0)) {\n          if (!isKeyBoardEvent && targetElement.parentElement.id !== _this.pdfViewer.element.id + '_toolbarContainer_nav' && targetElement.id !== _this.pdfViewer.element.id + '_toolbarContainer_nav') {\n            args.originalEvent.target.blur();\n            _this.pdfViewerBase.focusViewerContainer();\n          }\n        }\n      } else {\n        args.originalEvent.target.blur();\n        _this.pdfViewerBase.focusViewerContainer();\n      }\n    };\n    // eslint-disable-next-line\n    this.loadDocument = function (args) {\n      // eslint-disable-next-line\n      var upoadedFiles = args.target.files;\n      if (args.target.files[0] !== null) {\n        var uploadedFile = upoadedFiles[0];\n        if (uploadedFile) {\n          _this.uploadedDocumentName = uploadedFile.name;\n          var reader = new FileReader();\n          reader.readAsDataURL(uploadedFile);\n          // eslint-disable-next-line\n          reader.onload = function (e) {\n            var uploadedFileUrl = e.currentTarget.result;\n            if (isBlazor()) {\n              _this.pdfViewer._dotnetInstance.invokeMethodAsync(\"LoadDocumentFromClient\", uploadedFileUrl);\n            } else {\n              _this.uploadedFile = uploadedFileUrl;\n              _this.pdfViewer.load(uploadedFileUrl, null);\n              _this.pdfViewerBase.isSkipDocumentPath = true;\n              _this.pdfViewer.documentPath = uploadedFileUrl;\n            }\n            if (!isNullOrUndefined(_this.fileInputElement)) {\n              _this.fileInputElement.value = '';\n            }\n          };\n        }\n      }\n    };\n    this.navigateToPage = function (args) {\n      if (args.which === 13) {\n        // eslint-disable-next-line\n        var enteredValue = parseInt(_this.currentPageBoxElement.value);\n        if (enteredValue !== null) {\n          if (enteredValue > 0 && enteredValue <= _this.pdfViewerBase.pageCount) {\n            if (_this.pdfViewer.navigationModule) {\n              _this.pdfViewer.navigationModule.goToPage(enteredValue);\n            }\n          } else {\n            _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n          }\n        } else {\n          _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n        }\n        _this.currentPageBoxElement.blur();\n        _this.pdfViewerBase.focusViewerContainer();\n      }\n    };\n    this.textBoxFocusOut = function () {\n      // eslint-disable-next-line\n      if (_this.currentPageBox.value === null || _this.currentPageBox.value >= _this.pdfViewerBase.pageCount || _this.currentPageBox.value !== _this.pdfViewerBase.currentPageNumber) {\n        _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n      }\n    };\n    this.pdfViewer = viewer;\n    this.pdfViewerBase = viewerBase;\n  }\n  /**\n   * @param width\n   * @private\n   */\n  Toolbar.prototype.intializeToolbar = function (width) {\n    var toolbarDiv;\n    if (!isBlazor()) {\n      toolbarDiv = this.createToolbar(width);\n    } else {\n      if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n        toolbarDiv = this.pdfViewer.element.querySelector('.e-pv-toolbar');\n        this.toolbarElement = toolbarDiv;\n      }\n    }\n    // eslint-disable-next-line\n    var isIE = !!document.documentMode;\n    if (isIE) {\n      if (isBlazor()) {\n        this.pdfViewerBase.blazorUIAdaptor.totalPageElement.classList.add('e-pv-total-page-ms');\n      } else {\n        if (!Browser.isDevice) {\n          this.totalPageItem.classList.add('e-pv-total-page-ms');\n        }\n      }\n    }\n    this.createFileElement(toolbarDiv);\n    this.wireEvent();\n    if (!isBlazor()) {\n      this.updateToolbarItems();\n      if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n        this.applyToolbarSettings();\n        this.initialEnableItems();\n        this.pdfViewerBase.navigationPane.adjustPane();\n      } else {\n        this.initialEnableItems();\n      }\n      if (this.pdfViewer.annotationModule) {\n        this.annotationToolbarModule = new AnnotationToolbar(this.pdfViewer, this.pdfViewerBase, this);\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n          this.annotationToolbarModule.initializeAnnotationToolbar();\n        }\n      }\n      if (this.pdfViewer.formDesignerModule) {\n        this.formDesignerToolbarModule = new FormDesignerToolbar(this.pdfViewer, this.pdfViewerBase, this);\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n          this.formDesignerToolbarModule.initializeFormDesignerToolbar();\n        }\n      }\n    } else {\n      if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n        this.initialEnableItems();\n        this.pdfViewerBase.navigationPane.adjustPane();\n        if (this.pdfViewer.enableToolbar) {\n          this.bindOpenIconEvent();\n        }\n      }\n      this.PanElement = document.getElementById(this.pdfViewer.element.id + '_handTool').children[0];\n      this.PanElement.classList.add('e-pv-tbar-btn');\n      this.SelectToolElement = document.getElementById(this.pdfViewer.element.id + '_selectTool').children[0];\n      this.SelectToolElement.classList.add('e-pv-tbar-btn');\n      this.CommentElement = document.getElementById(this.pdfViewer.element.id + '_comment').children[0];\n      this.CommentElement.classList.add('e-pv-tbar-btn');\n      this.annotationToolbarModule = new AnnotationToolbar(this.pdfViewer, this.pdfViewerBase, this);\n      if (this.pdfViewer.enableToolbar && this.pdfViewer.enableAnnotationToolbar || this.pdfViewer.enableDesktopMode && Browser.isDevice) {\n        this.annotationToolbarModule.afterAnnotationToolbarCreationInBlazor();\n      }\n    }\n    return toolbarDiv;\n  };\n  Toolbar.prototype.bindOpenIconEvent = function () {\n    var openElement = document.getElementById(this.pdfViewer.element.id + '_open');\n    if (openElement) {\n      openElement.addEventListener('click', this.openFileDialogBox.bind(this));\n    }\n  };\n  Toolbar.prototype.InitializeMobileToolbarInBlazor = function () {\n    var toolbarDiv;\n    toolbarDiv = this.pdfViewer.element.querySelector('.e-pv-mobile-toolbar');\n    this.createFileElement(toolbarDiv);\n    this.wireEvent();\n  };\n  /**\n   * Shows /hides the toolbar in the PdfViewer\n   *\n   * @param  {boolean} enableToolbar - If set true , its show the Toolbar\n   * @returns void\n   */\n  Toolbar.prototype.showToolbar = function (enableToolbar) {\n    var toolbar = this.toolbarElement;\n    if (enableToolbar) {\n      toolbar.style.display = 'block';\n      // eslint-disable-next-line max-len\n      if (Browser.isDevice && !this.pdfViewer.enableDesktopMode && this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.annotationToolbarModule) {\n        this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar();\n      }\n    } else {\n      this.pdfViewerBase.toolbarHeight = 0;\n      if (enableToolbar) {\n        if (Browser.isDevice && this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar) {\n          this.annotationToolbarModule.toolbarCreated = false;\n          this.annotationToolbarModule.adjustMobileViewer();\n          this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display = 'none';\n        }\n        if (Browser.isDevice && this.annotationToolbarModule.propertyToolbar) {\n          this.annotationToolbarModule.propertyToolbar.element.style.display = 'none';\n        }\n      }\n      toolbar.style.display = 'none';\n    }\n  };\n  /**\n   * Shows/hides the Navigation toolbar in the PdfViewer\n   *\n   * @param  {boolean} enableNavigationToolbar - If set true , its show the Navigation Toolbar\n   * @returns void\n   */\n  Toolbar.prototype.showNavigationToolbar = function (enableNavigationToolbar) {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      var navigationToolbar = this.pdfViewerBase.navigationPane.sideBarToolbar;\n      var navigationToolbarSplitter = this.pdfViewerBase.navigationPane.sideBarToolbarSplitter;\n      if (enableNavigationToolbar) {\n        navigationToolbar.style.display = 'block';\n        navigationToolbarSplitter.style.display = 'block';\n        if (this.pdfViewerBase.navigationPane.isBookmarkOpen || this.pdfViewerBase.navigationPane.isThumbnailOpen) {\n          this.pdfViewerBase.navigationPane.clear();\n        }\n      } else {\n        navigationToolbar.style.display = 'none';\n        navigationToolbarSplitter.style.display = 'none';\n        if (this.pdfViewerBase.navigationPane.isBookmarkOpen || this.pdfViewerBase.navigationPane.isThumbnailOpen) {\n          this.pdfViewerBase.navigationPane.updateViewerContainerOnClose();\n        }\n      }\n    }\n  };\n  /**\n   * Shows /hides the annotation toolbar in the PdfViewer\n   *\n   * @param  {boolean} enableAnnotationToolbar - If set true , its show the annotation Toolbar\n   * @returns void\n   */\n  Toolbar.prototype.showAnnotationToolbar = function (enableAnnotationToolbar) {\n    if (enableAnnotationToolbar) {\n      this.annotationToolbarModule.isToolbarHidden = true;\n      this.annotationToolbarModule.showAnnotationToolbar();\n    } else {\n      this.annotationToolbarModule.isToolbarHidden = false;\n      this.annotationToolbarModule.showAnnotationToolbar();\n    }\n  };\n  /**\n   * Shows /hides the the toolbar items in the PdfViewer\n   *\n   * @param  {string[]} items - Defines the toolbar items in the toolbar\n   * @param  {boolean} isVisible - If set true, then its show the toolbar Items\n   * @returns void\n   */\n  Toolbar.prototype.showToolbarItem = function (items, isVisible) {\n    for (var i = 0; i < items.length; i++) {\n      switch (items[i]) {\n        case 'OpenOption':\n          this.showOpenOption(isVisible);\n          break;\n        case 'PageNavigationTool':\n          this.showPageNavigationTool(isVisible);\n          break;\n        case 'MagnificationTool':\n          this.showMagnificationTool(isVisible);\n          break;\n        case 'SelectionTool':\n          this.showSelectionTool(isVisible);\n          break;\n        case 'PanTool':\n          this.showScrollingTool(isVisible);\n          break;\n        case 'DownloadOption':\n          this.showDownloadOption(isVisible);\n          break;\n        case 'PrintOption':\n          this.showPrintOption(isVisible);\n          break;\n        case 'SearchOption':\n          this.showSearchOption(isVisible);\n          break;\n        case 'UndoRedoTool':\n          this.showUndoRedoTool(isVisible);\n          break;\n        case 'AnnotationEditTool':\n          this.showAnnotationEditTool(isVisible);\n          break;\n        case 'FormDesignerEditTool':\n          this.showFormDesignerEditTool(isVisible);\n          break;\n        case 'CommentTool':\n          this.showCommentOption(isVisible);\n          break;\n        case 'SubmitForm':\n          this.showSubmitForm(isVisible);\n          break;\n      }\n    }\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      this.applyHideToToolbar(true, this.itemsIndexArray[0].endIndex + 1, this.itemsIndexArray[0].endIndex + 1);\n      this.applyHideToToolbar(true, this.itemsIndexArray[1].endIndex + 1, this.itemsIndexArray[1].endIndex + 1);\n      this.applyHideToToolbar(true, this.itemsIndexArray[2].endIndex + 1, this.itemsIndexArray[2].endIndex + 1);\n      this.applyHideToToolbar(true, this.itemsIndexArray[4].endIndex + 1, this.itemsIndexArray[4].endIndex + 1);\n      this.applyHideToToolbar(true, this.itemsIndexArray[5].endIndex + 1, this.itemsIndexArray[5].endIndex + 1);\n    } else {\n      this.applyHideToToolbar(true, 1, 1);\n      this.applyHideToToolbar(true, 8, 8);\n      this.applyHideToToolbar(true, 12, 12);\n      this.applyHideToToolbar(true, 15, 15);\n    }\n    this.showSeparator(items);\n  };\n  /**\n   * Enables /disables the the toolbar items in the PdfViewer\n   *\n   * @param  {string[]} items - Defines the toolbar items in the toolbar\n   * @param  {boolean} isEnable - If set true, then its Enable the toolbar Items\n   * @returns void\n   */\n  Toolbar.prototype.enableToolbarItem = function (items, isEnable) {\n    for (var i = 0; i < items.length; i++) {\n      switch (items[i]) {\n        case 'OpenOption':\n          this.enableOpenOption(isEnable);\n          break;\n        case 'PageNavigationTool':\n          this.isPageNavigationToolDisabled = isEnable;\n          this.enablePageNavigationTool(isEnable);\n          break;\n        case 'MagnificationTool':\n          this.isMagnificationToolDisabled = isEnable;\n          this.enableMagnificationTool(isEnable);\n          break;\n        case 'SelectionTool':\n          this.isSelectionToolDisabled = isEnable;\n          this.enableSelectionTool(isEnable);\n          break;\n        case 'PanTool':\n          this.isScrollingToolDisabled = isEnable;\n          this.enableScrollingTool(isEnable);\n          break;\n        case 'DownloadOption':\n          this.enableDownloadOption(isEnable);\n          break;\n        case 'PrintOption':\n          this.enablePrintOption(isEnable);\n          break;\n        case 'SearchOption':\n          this.enableSearchOption(isEnable);\n          break;\n        case 'UndoRedoTool':\n          this.enableUndoRedoTool(isEnable);\n          break;\n        case 'AnnotationEditTool':\n          this.enableAnnotationEditTool(isEnable);\n          break;\n        case 'FormDesignerEditTool':\n          this.enableFormDesignerEditTool(isEnable);\n          break;\n        case 'CommentTool':\n          this.enableCommentsTool(isEnable);\n          break;\n      }\n    }\n  };\n  /**\n   * @param restrictionSummary\n   * @param isEnable\n   * @param restrictionSummary\n   * @param isEnable\n   * @private\n   */\n  // eslint-disable-next-line\n  Toolbar.prototype.DisableToolbarItems = function (restrictionSummary, isEnable) {\n    switch (restrictionSummary) {\n      case 'Print':\n        this.enablePrintOption(isEnable);\n        break;\n      case 'CopyContent':\n        this.isSelectionToolDisabled = isEnable;\n        this.enableSelectionTool(isEnable);\n        if (isEnable) {\n          this.pdfViewerBase.initiateTextSelectMode();\n          this.updateInteractionTools(isEnable);\n        } else {\n          this.pdfViewerBase.initiatePanning();\n          this.updateInteractionTools(isEnable);\n        }\n        break;\n      case 'EditAnnotations':\n        this.enableAnnotationEditTool(isEnable);\n        if (this.annotationToolbarModule && !this.annotationToolbarModule.isToolbarHidden) {\n          this.annotationToolbarModule.showAnnotationToolbar();\n        }\n        break;\n    }\n  };\n  Toolbar.prototype.showOpenOption = function (enableOpenOption) {\n    this.isOpenBtnVisible = enableOpenOption;\n    //For mobile devices, the default previous value for OpenOption has been passed as (0,0).\n    // eslint-disable-next-line max-len\n    this.applyHideToToolbar(enableOpenOption, !isNullOrUndefined(this.itemsIndexArray[0]) ? this.itemsIndexArray[0].startIndex : 0, !isNullOrUndefined(this.itemsIndexArray[0]) ? this.itemsIndexArray[0].endIndex : 0);\n  };\n  Toolbar.prototype.showPageNavigationTool = function (enablePageNavigationTool) {\n    this.isNavigationToolVisible = enablePageNavigationTool;\n    //For mobile devices, the default previous value for PageNavigationTool has been passed as (2,7).\n    // eslint-disable-next-line max-len\n    this.applyHideToToolbar(enablePageNavigationTool, !isNullOrUndefined(this.itemsIndexArray[1]) ? this.itemsIndexArray[1].startIndex : 2, !isNullOrUndefined(this.itemsIndexArray[1]) ? this.itemsIndexArray[1].endIndex : 7);\n  };\n  Toolbar.prototype.showMagnificationTool = function (enableMagnificationTool) {\n    this.isMagnificationToolVisible = enableMagnificationTool;\n    //For mobile devices, the default previous value for MagnificationTool has been passed as (9,11).\n    // eslint-disable-next-line max-len\n    this.applyHideToToolbar(enableMagnificationTool, !isNullOrUndefined(this.itemsIndexArray[2]) ? this.itemsIndexArray[2].startIndex : 9, !isNullOrUndefined(this.itemsIndexArray[2]) ? this.itemsIndexArray[2].endIndex : 11);\n  };\n  Toolbar.prototype.showSelectionTool = function (enableSelectionTool) {\n    this.isSelectionBtnVisible = enableSelectionTool;\n    //For mobile devices, the default previous value for SelectionTool has been passed as (13,13).\n    // eslint-disable-next-line max-len\n    this.applyHideToToolbar(enableSelectionTool, !isNullOrUndefined(this.itemsIndexArray[3]) ? this.itemsIndexArray[3].startIndex : 13, !isNullOrUndefined(this.itemsIndexArray[3]) ? this.itemsIndexArray[3].endIndex : 13);\n  };\n  Toolbar.prototype.showScrollingTool = function (enableScrollingTool) {\n    this.isScrollingBtnVisible = enableScrollingTool;\n    //For mobile devices, the default previous value for ScrollingTool has been passed as (14,14).\n    // eslint-disable-next-line max-len\n    this.applyHideToToolbar(enableScrollingTool, !isNullOrUndefined(this.itemsIndexArray[4]) ? this.itemsIndexArray[4].startIndex : 14, !isNullOrUndefined(this.itemsIndexArray[4]) ? this.itemsIndexArray[4].endIndex : 14);\n  };\n  Toolbar.prototype.showDownloadOption = function (enableDownloadOption) {\n    this.isDownloadBtnVisible = enableDownloadOption;\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      //The itemsIndexArray is null, the default previous value for DownloadOption has been passed as (26,26).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(enableDownloadOption, !isNullOrUndefined(this.itemsIndexArray[12]) ? this.itemsIndexArray[12].startIndex : 26, !isNullOrUndefined(this.itemsIndexArray[12]) ? this.itemsIndexArray[12].endIndex : 26);\n    } else {\n      this.applyHideToToolbar(enableDownloadOption, 5, 5);\n    }\n  };\n  Toolbar.prototype.showPrintOption = function (enablePrintOption) {\n    this.isPrintBtnVisible = enablePrintOption;\n    //For mobile devices, the default previous value for PrintOption has been passed as (25,25).\n    // eslint-disable-next-line max-len\n    this.applyHideToToolbar(enablePrintOption, !isNullOrUndefined(this.itemsIndexArray[11]) ? this.itemsIndexArray[11].startIndex : 25, !isNullOrUndefined(this.itemsIndexArray[11]) ? this.itemsIndexArray[11].endIndex : 25);\n  };\n  Toolbar.prototype.showSearchOption = function (enableSearchOption) {\n    this.isSearchBtnVisible = enableSearchOption;\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      //The itemsIndexArray is null, the default previous value for SearchOption has been passed as (22,22).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(enableSearchOption, !isNullOrUndefined(this.itemsIndexArray[8]) ? this.itemsIndexArray[8].startIndex : 22, !isNullOrUndefined(this.itemsIndexArray[8]) ? this.itemsIndexArray[8].endIndex : 22);\n    } else {\n      this.applyHideToToolbar(enableSearchOption, 5, 5);\n    }\n  };\n  Toolbar.prototype.showUndoRedoTool = function (isEnable) {\n    this.isUndoRedoBtnsVisible = isEnable;\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      //The itemsIndexArray is null, the default previous value for PageNavigationTool has been passed as (16,17).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[5]) ? this.itemsIndexArray[5].startIndex : 16, !isNullOrUndefined(this.itemsIndexArray[5]) ? this.itemsIndexArray[5].endIndex : 17);\n    } else {\n      this.applyHideToToolbar(isEnable, 2, 3);\n    }\n  };\n  Toolbar.prototype.showCommentOption = function (isEnable) {\n    if (!this.pdfViewer.enableStickyNotesAnnotation) {\n      this.isCommentBtnVisible = isEnable;\n      //For mobile devices, the default previous value for CommentOption has been passed as (18,19).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(this.pdfViewer.enableStickyNotesAnnotation, !isNullOrUndefined(this.itemsIndexArray[6]) ? this.itemsIndexArray[6].startIndex : 18, !isNullOrUndefined(this.itemsIndexArray[6]) ? this.itemsIndexArray[6].endIndex : 19);\n    } else {\n      this.isCommentBtnVisible = isEnable;\n      //For mobile devices, the default previous value for CommentOption has been passed as (18,19).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[6]) ? this.itemsIndexArray[6].startIndex : 18, !isNullOrUndefined(this.itemsIndexArray[6]) ? this.itemsIndexArray[6].endIndex : 19);\n    }\n  };\n  Toolbar.prototype.showAnnotationEditTool = function (isEnable) {\n    this.isAnnotationEditBtnVisible = isEnable;\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      //The itemsIndexArray is null, the default previous value for AnnotationEditTool has been passed as (23,23).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[9]) ? this.itemsIndexArray[9].startIndex : 23, !isNullOrUndefined(this.itemsIndexArray[9]) ? this.itemsIndexArray[9].endIndex : 23);\n    } else {\n      this.applyHideToToolbar(isEnable, 4, 4);\n    }\n  };\n  Toolbar.prototype.showFormDesignerEditTool = function (isEnable) {\n    this.isFormDesignerEditBtnVisible = isEnable;\n    //For mobile devices, the default previous value for FormDesignerEditTool has been passed as (24,24).\n    // eslint-disable-next-line max-len\n    this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[10]) ? this.itemsIndexArray[10].startIndex : 24, !isNullOrUndefined(this.itemsIndexArray[10]) ? this.itemsIndexArray[10].endIndex : 24);\n  };\n  Toolbar.prototype.showSubmitForm = function (isEnable) {\n    this.isSubmitbtnvisible = isEnable;\n    //For mobile devices, the default previous value for SubmitForm has been passed as (20,21).\n    // eslint-disable-next-line max-len\n    this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[7]) ? this.itemsIndexArray[7].startIndex : 20, !isNullOrUndefined(this.itemsIndexArray[7]) ? this.itemsIndexArray[7].endIndex : 21);\n  };\n  Toolbar.prototype.enableOpenOption = function (enableOpenOption) {\n    this.enableItems(this.openDocumentItem.parentElement, enableOpenOption);\n  };\n  Toolbar.prototype.enablePageNavigationTool = function (enablePageNavigationTool) {\n    this.enableItems(this.firstPageItem.parentElement, enablePageNavigationTool);\n    this.enableItems(this.previousPageItem.parentElement, enablePageNavigationTool);\n    this.enableItems(this.nextPageItem.parentElement, enablePageNavigationTool);\n    this.enableItems(this.lastPageItem.parentElement, enablePageNavigationTool);\n    this.currentPageBox.readonly = !enablePageNavigationTool;\n  };\n  Toolbar.prototype.enableMagnificationTool = function (enableMagnificationTool) {\n    this.enableItems(this.zoomInItem.parentElement, enableMagnificationTool);\n    this.enableItems(this.zoomOutItem.parentElement, enableMagnificationTool);\n    this.zoomDropDown.readonly = !enableMagnificationTool;\n  };\n  Toolbar.prototype.enableSelectionTool = function (enableSelectionTool) {\n    if (this.textSelectItem && this.textSelectItem.parentElement) {\n      this.enableItems(this.textSelectItem.parentElement, enableSelectionTool);\n    }\n  };\n  Toolbar.prototype.enableScrollingTool = function (enableScrollingTool) {\n    this.enableItems(this.panItem.parentElement, enableScrollingTool);\n  };\n  Toolbar.prototype.enableDownloadOption = function (enableDownloadOption) {\n    this.enableItems(this.downloadItem.parentElement, enableDownloadOption);\n  };\n  Toolbar.prototype.enablePrintOption = function (enablePrintOption) {\n    this.enableItems(this.printItem.parentElement, enablePrintOption);\n  };\n  Toolbar.prototype.enableSearchOption = function (enableSearchOption) {\n    this.enableItems(this.textSearchItem.parentElement, enableSearchOption);\n  };\n  Toolbar.prototype.enableUndoRedoTool = function (isEnable) {\n    this.enableItems(this.undoItem.parentElement, isEnable);\n    this.enableItems(this.redoItem.parentElement, isEnable);\n  };\n  Toolbar.prototype.enableAnnotationEditTool = function (isEnable) {\n    this.enableItems(this.annotationItem.parentElement, isEnable);\n  };\n  Toolbar.prototype.enableFormDesignerEditTool = function (isEnable) {\n    this.enableItems(this.formDesignerItem.parentElement, isEnable);\n  };\n  Toolbar.prototype.enableCommentsTool = function (isEnable) {\n    if (this.pdfViewer.enableStickyNotesAnnotation) {\n      this.enableItems(this.annotationItem.parentElement, isEnable);\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.resetToolbar = function () {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (!isNullOrUndefined(this.currentPageBox)) {\n        this.currentPageBox.min = 0;\n        this.currentPageBox.value = 0;\n      }\n      this.updateTotalPage();\n      this.updateToolbarItems();\n      if (this.annotationToolbarModule) {\n        this.annotationToolbarModule.clear();\n      } else {\n        if (this.annotationToolbarModule) {\n          if (this.annotationToolbarModule.propertyToolbar) {\n            this.annotationToolbarModule.propertyToolbar.destroy();\n          }\n          // eslint:disable-next-line\n          var commentsContainer = document.getElementById(this.pdfViewer.element.id + '_commentscontentcontainer');\n          if (commentsContainer) {\n            commentsContainer.innerHTML = '';\n          }\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.updateToolbarItems = function () {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (this.toolbar) {\n        if (this.pdfViewerBase.pageCount === 0) {\n          this.enableItems(this.downloadItem.parentElement, false);\n          this.enableItems(this.printItem.parentElement, false);\n          this.enableItems(this.commentItem.parentElement, false);\n          this.updateUndoRedoButtons();\n          this.updateNavigationButtons();\n          this.enableItems(this.zoomInItem.parentElement, false);\n          this.enableItems(this.zoomOutItem.parentElement, false);\n          if (this.pdfViewer.magnificationModule) {\n            this.zoomDropDown.readonly = true;\n          }\n          this.enableItems(this.submitItem.parentElement, false);\n          this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), false);\n          this.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), false);\n          this.enableItems(this.textSelectItem.parentElement, false);\n          this.enableItems(this.annotationItem.parentElement, false);\n          this.enableItems(this.formDesignerItem.parentElement, false);\n          this.enableItems(this.panItem.parentElement, false);\n          this.enableItems(this.textSearchItem.parentElement, false);\n          this.deSelectItem(this.annotationItem);\n          if (this.annotationToolbarModule) {\n            this.annotationToolbarModule.resetToolbar();\n          }\n          this.deSelectItem(this.formDesignerItem);\n          if (this.formDesignerToolbarModule) {\n            this.formDesignerToolbarModule.resetFormDesignerToolbar();\n          }\n        } else if (this.pdfViewerBase.pageCount > 0) {\n          var obj = this.pdfViewerBase.getElement('_currentPageInputContainer');\n          if (obj) {\n            this.enableItems(this.downloadItem.parentElement, true);\n            this.enableItems(this.printItem.parentElement, true);\n            this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), true);\n            this.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), true);\n            this.updateUndoRedoButtons();\n            this.updateNavigationButtons();\n            this.updateZoomButtons();\n            if (this.pdfViewer.magnificationModule) {\n              this.zoomDropDown.readonly = false;\n            }\n            this.updateInteractionItems();\n            // modify this condition if new annotation types are added.\n            if (this.pdfViewer.annotationModule && this.pdfViewer.enableAnnotation) {\n              this.enableItems(this.annotationItem.parentElement, true);\n            }\n            if (this.pdfViewer.formDesignerModule && this.pdfViewer.enableFormDesigner) {\n              this.enableItems(this.formDesignerItem.parentElement, true);\n            }\n            if (this.pdfViewer.textSearchModule && this.pdfViewer.enableTextSearch) {\n              this.enableItems(this.textSearchItem.parentElement, true);\n            }\n            if (this.pdfViewer.annotationModule && this.pdfViewer.enableStickyNotesAnnotation) {\n              this.enableItems(this.commentItem.parentElement, true);\n            }\n          }\n        }\n        if (this.pdfViewer.toolbarSettings.annotationToolbarItems) {\n          // eslint-disable-next-line max-len\n          if (this.pdfViewer.toolbarSettings.annotationToolbarItems.length === 0 || !this.pdfViewer.annotationModule || !this.pdfViewer.enableAnnotationToolbar) {\n            this.enableToolbarItem(['AnnotationEditTool'], false);\n          }\n        }\n        if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems) {\n          // eslint-disable-next-line max-len\n          if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.length === 0 || !this.pdfViewer.formDesignerModule || !this.pdfViewer.enableFormDesignerToolbar) {\n            this.enableToolbarItem(['FormDesignerEditTool'], false);\n          }\n        }\n        if (!this.pdfViewer.enableDownload) {\n          this.enableDownloadOption(false);\n        }\n        if (!this.pdfViewer.enablePrint) {\n          this.enablePrintOption(false);\n        }\n      }\n    } else {\n      if (this.pdfViewerBase.pageCount === 0) {\n        this.enableItems(this.textSearchItem.parentElement, false);\n        this.enableItems(this.moreOptionItem.parentElement, false);\n        this.enableItems(this.annotationItem.parentElement, false);\n      } else if (this.pdfViewerBase.pageCount > 0) {\n        this.enableItems(this.textSearchItem.parentElement, true);\n        this.enableItems(this.moreOptionItem.parentElement, true);\n        if (this.pdfViewer.annotationModule && this.pdfViewer.enableAnnotation) {\n          this.enableItems(this.annotationItem.parentElement, true);\n        }\n        if (!this.pdfViewer.annotationModule || !this.pdfViewer.enableAnnotationToolbar) {\n          this.enableToolbarItem(['AnnotationEditTool'], false);\n        }\n        this.updateUndoRedoButtons();\n        if (this.pdfViewer && this.pdfViewer.element && this.pdfViewer.element.id && this.pdfViewer.isAnnotationToolbarOpen) {\n          var annotationId = this.pdfViewer.element.id + '_annotationIcon';\n          this.annotationToolbarModule.createAnnotationToolbarForMobile(annotationId);\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.updateNavigationButtons = function () {\n    if (this.pdfViewer.navigationModule && !this.isPageNavigationToolDisabled) {\n      if (this.pdfViewerBase.pageCount === 0 || this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount === 1) {\n        this.enableItems(this.firstPageItem.parentElement, false);\n        this.enableItems(this.previousPageItem.parentElement, false);\n        this.enableItems(this.nextPageItem.parentElement, false);\n        this.enableItems(this.lastPageItem.parentElement, false);\n      } else if (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount > 0) {\n        this.enableItems(this.firstPageItem.parentElement, false);\n        this.enableItems(this.previousPageItem.parentElement, false);\n        this.enableItems(this.nextPageItem.parentElement, true);\n        this.enableItems(this.lastPageItem.parentElement, true);\n      } else if (this.pdfViewerBase.currentPageNumber === this.pdfViewerBase.pageCount && this.pdfViewerBase.pageCount > 0) {\n        this.enableItems(this.firstPageItem.parentElement, true);\n        this.enableItems(this.previousPageItem.parentElement, true);\n        this.enableItems(this.nextPageItem.parentElement, false);\n        this.enableItems(this.lastPageItem.parentElement, false);\n      } else if (this.pdfViewerBase.currentPageNumber > 1 && this.pdfViewerBase.currentPageNumber < this.pdfViewerBase.pageCount) {\n        this.enableItems(this.firstPageItem.parentElement, true);\n        this.enableItems(this.previousPageItem.parentElement, true);\n        this.enableItems(this.nextPageItem.parentElement, true);\n        this.enableItems(this.lastPageItem.parentElement, true);\n      }\n    } else {\n      this.enableItems(this.firstPageItem.parentElement, false);\n      this.enableItems(this.previousPageItem.parentElement, false);\n      this.enableItems(this.nextPageItem.parentElement, false);\n      this.enableItems(this.lastPageItem.parentElement, false);\n      this.currentPageBox.readonly = true;\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.updateZoomButtons = function () {\n    // eslint-disable-next-line max-len\n    if (this.pdfViewer.magnificationModule && !this.isMagnificationToolDisabled && (!Browser.isDevice || this.pdfViewer.enableDesktopMode)) {\n      if (this.pdfViewer.magnificationModule.zoomFactor <= 0.1) {\n        this.enableItems(this.zoomInItem.parentElement, true);\n        this.enableItems(this.zoomOutItem.parentElement, false);\n      } else if (this.pdfViewer.magnificationModule.zoomFactor >= 4) {\n        this.enableItems(this.zoomInItem.parentElement, false);\n        this.enableItems(this.zoomOutItem.parentElement, true);\n      } else {\n        this.enableItems(this.zoomInItem.parentElement, true);\n        this.enableItems(this.zoomOutItem.parentElement, true);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.updateUndoRedoButtons = function () {\n    if (this.pdfViewer.annotationModule) {\n      if (this.pdfViewerBase.pageCount > 0) {\n        if (isBlazor()) {\n          this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.actionCollection, 'undo');\n          this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.redoCollection, 'redo');\n        } else {\n          if (!isNullOrUndefined(this.undoItem) && !isNullOrUndefined(this.undoItem.parentElement)) {\n            this.enableCollectionAvailable(this.pdfViewer.annotationModule.actionCollection, this.undoItem.parentElement);\n          }\n          if (!isNullOrUndefined(this.redoItem) && !isNullOrUndefined(this.redoItem.parentElement)) {\n            this.enableCollectionAvailable(this.pdfViewer.annotationModule.redoCollection, this.redoItem.parentElement);\n          }\n        }\n      } else {\n        if (isBlazor()) {\n          //this.pdfViewer._dotnetInstance.invokeMethodAsync('DisableUndoRedoButton', null);\n          this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton();\n        } else {\n          this.disableUndoRedoButtons();\n        }\n      }\n    } else {\n      if (isBlazor()) {\n        //this.pdfViewer._dotnetInstance.invokeMethodAsync('DisableUndoRedoButton', null);\n        this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton();\n      } else {\n        this.disableUndoRedoButtons();\n      }\n    }\n  };\n  // eslint-disable-next-line\n  Toolbar.prototype.enableCollectionAvailable = function (collection, item) {\n    if (collection.length > 0) {\n      this.toolbar.enableItems(item, true);\n    } else {\n      this.toolbar.enableItems(item, false);\n    }\n  };\n  // eslint-disable-next-line\n  Toolbar.prototype.enableCollectionAvailableInBlazor = function (collection, item) {\n    if (collection.length > 0) {\n      //this.pdfViewer._dotnetInstance.invokeMethodAsync('UpdateUndoRedoButton', item, true);\n      this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(item, true);\n    } else {\n      // this.pdfViewer._dotnetInstance.invokeMethodAsync('UpdateUndoRedoButton', item, false);\n      this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(item, false);\n    }\n  };\n  Toolbar.prototype.disableUndoRedoButtons = function () {\n    this.enableItems(this.undoItem.parentElement, false);\n    this.enableItems(this.redoItem.parentElement, false);\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.destroy = function () {\n    if (!isBlazor()) {\n      this.unWireEvent();\n      this.destroyComponent();\n      if (this.moreDropDown) {\n        this.moreDropDown.destroy();\n      }\n      if (this.annotationToolbarModule) {\n        this.annotationToolbarModule.destroy();\n      }\n      if (this.formDesignerToolbarModule) {\n        this.formDesignerToolbarModule.destroy();\n      }\n      if (this.toolbar) {\n        this.toolbar.destroy();\n      }\n      if (this.toolbarElement) {\n        this.toolbarElement.parentElement.removeChild(this.toolbarElement);\n      }\n    }\n  };\n  Toolbar.prototype.destroyComponent = function () {\n    // eslint-disable-next-line\n    var componentElement = [this.openDocumentItem, this.firstPageItem, this.previousPageItem, this.nextPageItem, this.lastPageItem, this.currentPageBoxElement, this.zoomOutItem, this.zoomInItem, this.zoomDropdownItem, this.textSelectItem, this.panItem, this.submitItem, this.undoItem, this.redoItem, this.commentItem, this.textSearchItem, this.annotationItem, this.formDesignerItem, this.printItem, this.downloadItem];\n    for (var i = 0; i < componentElement.length; i++) {\n      if (componentElement[i]) {\n        this.destroyDependentComponent(componentElement[i]);\n      }\n    }\n  };\n  Toolbar.prototype.destroyDependentComponent = function (component) {\n    if (component.ej2_instances) {\n      for (var i = component.ej2_instances.length - 1; i >= 0; i--) {\n        component.ej2_instances[i].destroy();\n      }\n    }\n  };\n  /**\n   * @param pageIndex\n   * @private\n   */\n  Toolbar.prototype.updateCurrentPage = function (pageIndex) {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (!isBlazor()) {\n        if (!isNullOrUndefined(this.currentPageBox)) {\n          if (this.currentPageBox.value === pageIndex) {\n            this.currentPageBoxElement.value = pageIndex.toString();\n          }\n          this.currentPageBox.value = pageIndex;\n        }\n      } else {\n        //this.pdfViewer._dotnetInstance.invokeMethodAsync('OnPageChanged', pageIndex);\n        this.pdfViewerBase.blazorUIAdaptor.pageChanged(pageIndex);\n      }\n      this.pdfViewerBase.currentPageNumber = pageIndex;\n      this.pdfViewer.currentPageNumber = pageIndex;\n    } else {\n      this.pdfViewerBase.mobileSpanContainer.innerHTML = pageIndex.toString();\n      this.pdfViewerBase.mobilecurrentPageContainer.innerHTML = pageIndex.toString();\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.updateTotalPage = function () {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (this.pdfViewerBase.pageCount > 0) {\n        if (!isNullOrUndefined(this.currentPageBox)) this.currentPageBox.min = 1;\n      }\n      if (!isNullOrUndefined(this.totalPageItem)) this.totalPageItem.textContent = this.pdfViewer.localeObj.getConstant('of') + this.pdfViewerBase.pageCount.toString();\n    }\n  };\n  /**\n   * @param event\n   * @private\n   */\n  Toolbar.prototype.openFileDialogBox = function (event) {\n    event.preventDefault();\n    this.fileInputElement.click();\n  };\n  Toolbar.prototype.createToolbar = function (controlWidth) {\n    var _this = this;\n    // eslint-disable-next-line max-len\n    this.toolbarElement = createElement('div', {\n      id: this.pdfViewer.element.id + '_toolbarContainer',\n      className: 'e-pv-toolbar'\n    });\n    this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      this.toolbar = new tool({\n        clicked: this.toolbarClickHandler,\n        width: '',\n        height: '',\n        overflowMode: 'Popup',\n        cssClass: 'e-pv-toolbar-scroll',\n        items: this.createToolbarItems(),\n        created: function () {\n          _this.createZoomDropdown();\n          _this.createNumericTextBox();\n          _this.toolbar.refreshOverflow();\n        }\n      });\n      this.toolbar.isStringTemplate = true;\n      if (this.pdfViewer.enableRtl) {\n        this.toolbar.enableRtl = true;\n      }\n      this.toolbar.appendTo(this.toolbarElement);\n      this.applyToolbarSettings();\n      this.afterToolbarCreation();\n      this.updateTotalPage();\n      this.toolbarElement.addEventListener('keydown', this.onToolbarKeydown);\n      this.toolbarElement.setAttribute('aria-label', 'Toolbar');\n    } else {\n      this.createToolbarItemsForMobile();\n      this.afterToolbarCreationInMobile();\n      if (this.pdfViewer.enableRtl) {\n        this.toolbar.enableRtl = true;\n      }\n      this.applyToolbarSettingsForMobile();\n      this.disableUndoRedoButtons();\n    }\n    return this.toolbarElement;\n  };\n  /**\n   * Create a custom toolbar item in the PdfViewer\n   *\n   * @param  {number} startIndex\n   * @returns void\n   */\n  Toolbar.prototype.createCustomItem = function (startIndex) {\n    for (var j = startIndex; j < this.pdfViewer.toolbarSettings.toolbarItems.length; j++) {\n      if (typeof this.pdfViewer.toolbarSettings.toolbarItems[j] === 'object') {\n        var customToolbarItem = this.pdfViewer.toolbarSettings.toolbarItems[j];\n        if (!isNullOrUndefined(customToolbarItem.prefixIcon) && customToolbarItem.prefixIcon != '') {\n          customToolbarItem.prefixIcon += ' e-pv-icon';\n        }\n        //Generate a text button template\n        if ((isNullOrUndefined(customToolbarItem.prefixIcon) || customToolbarItem.prefixIcon == '') && isNullOrUndefined(customToolbarItem.template)) {\n          var text = !isNullOrUndefined(customToolbarItem.text) ? customToolbarItem.text : \"Custom Toolbar Item\";\n          customToolbarItem.template = '<button id=\"Custom\" class=\"e-tbar-btn\" style=\"font-size:14px\"><span>' + text + '</span></button>';\n        }\n        this.toolItems.push(customToolbarItem);\n        if (isNullOrUndefined(customToolbarItem.align) || customToolbarItem.align === 'left' || customToolbarItem.align === 'Left') {\n          this.toolItems.push({\n            type: 'Separator',\n            align: 'Left'\n          });\n        }\n      } else {\n        break;\n      }\n    }\n  };\n  // eslint-disable-next-line\n  Toolbar.prototype.createToolbarItems = function () {\n    var currentPageInputTemplate = this.createCurrentPageInputTemplate();\n    var totalPageTemplate = this.createTotalPageTemplate();\n    var zoomDropDownTemplateString = this.createZoomDropdownElement();\n    // eslint-disable-next-line\n    var submitButton = '<button id=\"' + this.pdfViewer.element.id + '_submitForm\" class=\"e-tbar-btn\" style=\"font-size:15px\"><span id=\"' + this.pdfViewer.element.id + '_submitFormSpan\" class=\"e-tbar-btn-text e-pv-submitform-text\">' + this.pdfViewer.localeObj.getConstant('SubmitForm') + '</span></button>';\n    var defaultToolbarOrder = ['OpenOption', 'PageNavigationTool', 'MagnificationTool', 'SelectionTool', 'PanTool', 'UndoRedoTool', 'CommentTool', 'SubmitForm', 'SearchOption', 'AnnotationEditTool', 'FormDesignerEditTool', 'PrintOption', 'DownloadOption'];\n    for (var i = 0; i < defaultToolbarOrder.length; i++) {\n      if (i === 0) {\n        this.createCustomItem(i);\n      }\n      var toolbarItemOrder = i;\n      switch (toolbarItemOrder) {\n        case 0:\n          this.itemsIndexArray.push({\n            item: 'OpenOption',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-open-document-icon e-pv-icon',\n            cssClass: 'e-pv-open-document-container',\n            id: this.pdfViewer.element.id + '_open',\n            text: this.pdfViewer.localeObj.getConstant('Open text'),\n            align: 'Left'\n          });\n          this.toolItems.push({\n            type: 'Separator',\n            align: 'Left',\n            cssClass: 'e-pv-open-separator-container'\n          });\n          break;\n        case 1:\n          if (!this.pdfViewer.enableRtl) {\n            this.itemsIndexArray.push({\n              item: 'PageNavigationTool',\n              startIndex: this.toolItems.length,\n              endIndex: this.toolItems.length + 5\n            });\n            // eslint-disable-next-line max-len\n            this.toolItems.push({\n              prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon',\n              cssClass: 'e-pv-first-page-navigation-container',\n              id: this.pdfViewer.element.id + '_firstPage',\n              text: this.pdfViewer.localeObj.getConstant('First text'),\n              align: 'Left'\n            });\n            this.toolItems.push({\n              prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon',\n              cssClass: 'e-pv-previous-page-navigation-container',\n              id: this.pdfViewer.element.id + '_previousPage',\n              text: this.pdfViewer.localeObj.getConstant('Previous text'),\n              align: 'Left'\n            });\n            // eslint-disable-next-line max-len\n            this.toolItems.push({\n              prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon',\n              cssClass: 'e-pv-next-page-navigation-container',\n              id: this.pdfViewer.element.id + '_nextPage',\n              text: this.pdfViewer.localeObj.getConstant('Next text'),\n              align: 'Left'\n            });\n            this.toolItems.push({\n              prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon',\n              cssClass: 'e-pv-last-page-navigation-container',\n              id: this.pdfViewer.element.id + '_lastPage',\n              text: this.pdfViewer.localeObj.getConstant('Last text'),\n              align: 'Left'\n            });\n            this.toolItems.push({\n              template: currentPageInputTemplate,\n              align: 'Left',\n              cssClass: 'e-pv-current-page-container'\n            });\n            this.toolItems.push({\n              template: totalPageTemplate,\n              align: 'Left',\n              cssClass: 'e-pv-total-page-container'\n            });\n          } else {\n            // eslint-disable-next-line max-len\n            this.toolItems.push({\n              prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon',\n              cssClass: 'e-pv-last-page-navigation-container',\n              id: this.pdfViewer.element.id + '_firstPage',\n              text: this.pdfViewer.localeObj.getConstant('First text'),\n              align: 'Left'\n            });\n            this.toolItems.push({\n              prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon',\n              cssClass: 'e-pv-next-page-navigation-container',\n              id: this.pdfViewer.element.id + '_previousPage',\n              text: this.pdfViewer.localeObj.getConstant('Previous text'),\n              align: 'Left'\n            });\n            // eslint-disable-next-line max-len\n            this.toolItems.push({\n              prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon',\n              cssClass: 'e-pv-previous-page-navigation-container',\n              id: this.pdfViewer.element.id + '_nextPage',\n              text: this.pdfViewer.localeObj.getConstant('Next text'),\n              align: 'Left'\n            });\n            this.toolItems.push({\n              prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon',\n              cssClass: 'e-pv-first-page-navigation-container',\n              id: this.pdfViewer.element.id + '_lastPage',\n              text: this.pdfViewer.localeObj.getConstant('Last text'),\n              align: 'Left'\n            });\n            this.toolItems.push({\n              template: totalPageTemplate,\n              align: 'Left',\n              cssClass: 'e-pv-total-page-container'\n            });\n            this.toolItems.push({\n              template: currentPageInputTemplate,\n              align: 'Left',\n              cssClass: 'e-pv-current-page-container'\n            });\n          }\n          this.toolItems.push({\n            type: 'Separator',\n            align: 'Left',\n            cssClass: 'e-pv-navigation-separator-container'\n          });\n          break;\n        case 2:\n          this.itemsIndexArray.push({\n            item: 'MagnificationTool',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length + 2\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-zoom-out-icon e-pv-icon',\n            cssClass: 'e-pv-zoom-out-container',\n            id: this.pdfViewer.element.id + '_zoomOut',\n            text: this.pdfViewer.localeObj.getConstant('Zoom out text'),\n            align: 'Left'\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-zoom-in-icon e-pv-icon',\n            cssClass: 'e-pv-zoom-in-container',\n            id: this.pdfViewer.element.id + '_zoomIn',\n            text: this.pdfViewer.localeObj.getConstant('Zoom in text'),\n            align: 'Left'\n          });\n          this.toolItems.push({\n            template: zoomDropDownTemplateString,\n            cssClass: 'e-pv-zoom-drop-down-container',\n            align: 'Left'\n          });\n          this.toolItems.push({\n            type: 'Separator',\n            align: 'Left',\n            cssClass: 'e-pv-magnification-separator-container'\n          });\n          break;\n        case 3:\n          this.itemsIndexArray.push({\n            item: 'SelectionTool',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-text-select-tool-icon e-pv-icon',\n            cssClass: 'e-pv-text-select-tool-container',\n            id: this.pdfViewer.element.id + '_selectTool',\n            text: this.pdfViewer.localeObj.getConstant('Selection text')\n          });\n          break;\n        case 4:\n          this.itemsIndexArray.push({\n            item: 'PanTool',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-pan-tool-icon e-pv-icon',\n            cssClass: 'e-pv-pan-tool-container',\n            id: this.pdfViewer.element.id + '_handTool',\n            text: this.pdfViewer.localeObj.getConstant('Pan text')\n          });\n          this.toolItems.push({\n            type: 'Separator',\n            align: 'Left',\n            cssClass: 'e-pv-pan-separator-container'\n          });\n          break;\n        case 5:\n          this.itemsIndexArray.push({\n            item: 'UndoRedoTool',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length + 1\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-undo-icon e-pv-icon',\n            cssClass: 'e-pv-undo-container',\n            id: this.pdfViewer.element.id + '_undo',\n            text: this.pdfViewer.localeObj.getConstant('Undo'),\n            align: 'Left'\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-redo-icon e-pv-icon',\n            cssClass: 'e-pv-redo-container',\n            id: this.pdfViewer.element.id + '_redo',\n            text: this.pdfViewer.localeObj.getConstant('Redo'),\n            align: 'Left'\n          });\n          this.toolItems.push({\n            type: 'Separator',\n            align: 'Left',\n            cssClass: 'e-pv-undo-separator-container'\n          });\n          break;\n        case 6:\n          this.itemsIndexArray.push({\n            item: 'CommentTool',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length + 1\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-comment-icon e-pv-icon',\n            cssClass: 'e-pv-comment-container',\n            id: this.pdfViewer.element.id + '_comment',\n            text: this.pdfViewer.localeObj.getConstant('Add Comments'),\n            align: 'Left'\n          });\n          this.toolItems.push({\n            type: 'Separator',\n            align: 'Left',\n            cssClass: 'e-pv-comment-separator-container'\n          });\n          break;\n        case 7:\n          this.itemsIndexArray.push({\n            item: 'SubmitForm',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length + 1\n          });\n          this.toolItems.push({\n            template: submitButton,\n            cssClass: 'e-pv-submit',\n            align: 'Left'\n          });\n          break;\n        case 8:\n          this.itemsIndexArray.push({\n            item: 'SearchOption',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-text-search-icon e-pv-icon',\n            cssClass: 'e-pv-text-search-container',\n            id: this.pdfViewer.element.id + '_search',\n            text: this.pdfViewer.localeObj.getConstant('Search text'),\n            align: 'Right'\n          });\n          break;\n        case 9:\n          this.itemsIndexArray.push({\n            item: 'AnnotationEditTool',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-annotation-icon e-pv-icon',\n            cssClass: 'e-pv-annotation-container',\n            id: this.pdfViewer.element.id + '_annotation',\n            text: this.pdfViewer.localeObj.getConstant('Annotation Edit text'),\n            align: 'Right'\n          });\n          break;\n        case 10:\n          this.itemsIndexArray.push({\n            item: 'FormDesignerEditTool',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-formdesigner-icon e-pv-icon',\n            cssClass: 'e-pv-formdesigner-container',\n            id: this.pdfViewer.element.id + '_formdesigner',\n            text: this.pdfViewer.localeObj.getConstant('FormDesigner Edit text'),\n            align: 'Right'\n          });\n          break;\n        case 11:\n          this.itemsIndexArray.push({\n            item: 'PrintOption',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-print-document-icon e-pv-icon',\n            cssClass: 'e-pv-print-document-container',\n            id: this.pdfViewer.element.id + '_print',\n            text: this.pdfViewer.localeObj.getConstant('Print text'),\n            align: 'Right'\n          });\n          break;\n        case 12:\n          this.itemsIndexArray.push({\n            item: 'DownloadOption',\n            startIndex: this.toolItems.length,\n            endIndex: this.toolItems.length\n          });\n          this.toolItems.push({\n            prefixIcon: 'e-pv-download-document-icon e-pv-icon',\n            cssClass: 'e-pv-download-document-container',\n            id: this.pdfViewer.element.id + '_download',\n            text: this.pdfViewer.localeObj.getConstant('Download'),\n            align: 'Right'\n          });\n          break;\n      }\n      for (var k = 0; k < this.pdfViewer.toolbarSettings.toolbarItems.length; k++) {\n        if (defaultToolbarOrder[i] === this.pdfViewer.toolbarSettings.toolbarItems[k]) {\n          if (typeof this.pdfViewer.toolbarSettings.toolbarItems[k + 1] === 'object') {\n            this.createCustomItem(k + 1);\n          } else {\n            break;\n          }\n        }\n      }\n    }\n    return this.toolItems;\n  };\n  Toolbar.prototype.afterToolbarCreationInMobile = function () {\n    this.itemsContainer = this.toolbar.element.childNodes[0];\n    this.itemsContainer.id = this.pdfViewer.element.id + '_toolbarItemsContainer';\n    this.openDocumentItem = this.addClassToolbarItem('_open', 'e-pv-open-document', this.pdfViewer.localeObj.getConstant('Open'));\n    this.undoItem = this.addClassToolbarItem('_undo', 'e-pv-undo', this.pdfViewer.localeObj.getConstant('Undo'));\n    this.redoItem = this.addClassToolbarItem('_redo', 'e-pv-redo', this.pdfViewer.localeObj.getConstant('Redo'));\n    this.annotationItem = this.addClassToolbarItem('_annotation', 'e-pv-annotation', this.pdfViewer.localeObj.getConstant('Annotation'));\n    this.textSearchItem = this.addClassToolbarItem('_search', 'e-pv-text-search', this.pdfViewer.localeObj.getConstant('Text Search'));\n  };\n  Toolbar.prototype.afterToolbarCreation = function () {\n    this.itemsContainer = this.toolbar.element.childNodes[0];\n    this.itemsContainer.id = this.pdfViewer.element.id + '_toolbarItemsContainer';\n    this.openDocumentItem = this.addClassToolbarItem('_open', 'e-pv-open-document', this.pdfViewer.localeObj.getConstant('Open'));\n    this.undoItem = this.addClassToolbarItem('_undo', 'e-pv-undo', this.pdfViewer.localeObj.getConstant('Undo'));\n    this.redoItem = this.addClassToolbarItem('_redo', 'e-pv-redo', this.pdfViewer.localeObj.getConstant('Redo'));\n    if (!this.pdfViewer.enableRtl) {\n      // eslint-disable-next-line max-len\n      this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n      this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page'));\n      // eslint-disable-next-line max-len\n      this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n      this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n    } else {\n      // eslint-disable-next-line max-len\n      this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n      this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page'));\n      // eslint-disable-next-line max-len\n      this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n      this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n    }\n    this.zoomOutItem = this.addClassToolbarItem('_zoomOut', 'e-pv-zoom-out', this.pdfViewer.localeObj.getConstant('Zoom Out'));\n    this.zoomInItem = this.addClassToolbarItem('_zoomIn', 'e-pv-zoom-in', this.pdfViewer.localeObj.getConstant('Zoom In'));\n    // eslint-disable-next-line max-len\n    this.textSelectItem = this.addClassToolbarItem('_selectTool', 'e-pv-text-select-tool', this.pdfViewer.localeObj.getConstant('Text Selection'));\n    this.panItem = this.addClassToolbarItem('_handTool', 'e-pv-pan-tool', this.pdfViewer.localeObj.getConstant('Panning'));\n    this.commentItem = this.addClassToolbarItem('_comment', 'e-pv-comment', this.pdfViewer.localeObj.getConstant('Add Comments'));\n    // eslint-disable-next-line max-len\n    this.textSearchItem = this.addClassToolbarItem('_search', 'e-pv-text-search', this.pdfViewer.localeObj.getConstant('Text Search'));\n    this.textSearchItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Search text'));\n    this.annotationItem = this.addClassToolbarItem('_annotation', 'e-pv-annotation', this.pdfViewer.localeObj.getConstant('Annotation'));\n    this.annotationItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Annotation Edit text'));\n    this.formDesignerItem = this.addClassToolbarItem('_formdesigner', 'e-pv-formdesigner', this.pdfViewer.localeObj.getConstant('FormDesigner'));\n    // eslint-disable-next-line max-len\n    this.printItem = this.addClassToolbarItem('_print', 'e-pv-print-document', this.pdfViewer.localeObj.getConstant('Print'));\n    this.downloadItem = this.addClassToolbarItem('_download', 'e-pv-download-document', this.pdfViewer.localeObj.getConstant('Download file'));\n    this.zoomDropdownItem = this.pdfViewerBase.getElement('_zoomDropDown');\n    this.createTooltip(this.zoomDropdownItem, this.pdfViewer.localeObj.getConstant('Zoom'));\n    this.zoomDropdownItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Zoom'));\n    // eslint-disable-next-line max-len\n    this.addPropertiesToolItemContainer(this.zoomDropdownItem.parentElement.parentElement, null, '_zoomDropDownContainer');\n    this.pdfViewerBase.getElement('_zoomDropDownContainer').style.minWidth = '';\n    this.createTooltip(this.currentPageBoxElement, this.pdfViewer.localeObj.getConstant('Page Number'));\n    this.currentPageBoxElement.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Page Number'));\n    this.submitItem = this.pdfViewerBase.getElement('_submitForm');\n    this.addPropertiesToolItemContainer(this.submitItem.parentElement, 'e-pv-submit', '_submitFormContainer');\n    this.createTooltip(this.submitItem, this.pdfViewer.localeObj.getConstant('SubmitForm'));\n    this.submitItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('SubmitForm'));\n    // eslint-disable-next-line max-len\n    this.addPropertiesToolItemContainer(this.currentPageBoxElement.parentElement.parentElement, 'e-pv-current-page-container', '_currentPageInputContainer');\n    this.pdfViewerBase.getElement('_currentPageInputContainer').style.minWidth = '20px';\n    this.totalPageItem = this.pdfViewerBase.getElement('_totalPage');\n    this.addPropertiesToolItemContainer(this.totalPageItem.parentElement, 'e-pv-total-page-container', '_totalPageContainer');\n  };\n  /**\n   * @param idString\n   * @param className\n   * @param tooltipText\n   * @param idString\n   * @param className\n   * @param tooltipText\n   * @private\n   */\n  Toolbar.prototype.addClassToolbarItem = function (idString, className, tooltipText) {\n    var element = this.pdfViewerBase.getElement(idString);\n    element.classList.add(className);\n    element.classList.add('e-pv-tbar-btn');\n    element.setAttribute('aria-label', tooltipText);\n    element.parentElement.classList.add(className + '-container');\n    element.parentElement.classList.add('e-popup-text');\n    element.parentElement.id = this.pdfViewer.element.id + idString + 'Container';\n    if (element.childNodes.length > 0) {\n      var spanElement = element.childNodes[0];\n      spanElement.id = this.pdfViewer.element.id + idString + 'Icon';\n      spanElement.classList.remove('e-icons');\n      spanElement.classList.remove('e-btn-icon');\n      if (this.pdfViewer.enableRtl) {\n        spanElement.classList.add('e-right');\n      }\n      var textElement = element.childNodes[1];\n      if (textElement) {\n        if (textElement.classList.contains('e-tbar-btn-text')) {\n          textElement.id = this.pdfViewer.element.id + idString + 'Text';\n        }\n      }\n    }\n    element.style.width = '';\n    this.createTooltip(element, tooltipText);\n    return element;\n  };\n  Toolbar.prototype.addPropertiesToolItemContainer = function (element, className, idString) {\n    if (className !== null) {\n      element.classList.add(className);\n    }\n    element.classList.add('e-popup-text');\n    element.id = this.pdfViewer.element.id + idString;\n  };\n  Toolbar.prototype.createZoomDropdownElement = function () {\n    // eslint-disable-next-line max-len\n    var zoomDropdownElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_zoomDropDown', null);\n    return zoomDropdownElement.outerHTML;\n  };\n  Toolbar.prototype.createZoomDropdown = function () {\n    var proxy = this;\n    // eslint-disable-next-line max-len\n    var items = [{\n      percent: '10%',\n      id: '0'\n    }, {\n      percent: '25%',\n      id: '1'\n    }, {\n      percent: '50%',\n      id: '2'\n    }, {\n      percent: '75%',\n      id: '3'\n    }, {\n      percent: '100%',\n      id: '4'\n    }, {\n      percent: '125%',\n      id: '5'\n    },\n    // eslint-disable-next-line max-len\n    {\n      percent: '150%',\n      id: '6'\n    }, {\n      percent: '200%',\n      id: '7'\n    }, {\n      percent: '400%',\n      id: '8'\n    }, {\n      percent: proxy.pdfViewer.localeObj.getConstant('Fit Page'),\n      id: '9'\n    }, {\n      percent: proxy.pdfViewer.localeObj.getConstant('Fit Width'),\n      id: '10'\n    }, {\n      percent: proxy.pdfViewer.localeObj.getConstant('Automatic'),\n      id: '11'\n    }];\n    // eslint-disable-next-line max-len\n    if (!proxy.pdfViewer.enableRtl) {\n      proxy.zoomDropDown = new ComboBox({\n        dataSource: items,\n        text: '100%',\n        fields: {\n          text: 'percent',\n          value: 'id'\n        },\n        readonly: true,\n        cssClass: 'e-pv-zoom-drop-down',\n        popupHeight: '450px',\n        showClearButton: false,\n        open: proxy.openZoomDropdown.bind(proxy),\n        select: function (args) {\n          if (args.e.type == 'keydown' && args.itemData.percent !== proxy.zoomDropDown.element.value) {\n            proxy.zoomDropDownChange(proxy.zoomDropDown.element.value);\n            args.cancel = true;\n          }\n        }\n      });\n    } else {\n      proxy.zoomDropDown = new ComboBox({\n        dataSource: items,\n        text: '100%',\n        enableRtl: true,\n        fields: {\n          text: 'percent',\n          value: 'id'\n        },\n        readonly: true,\n        cssClass: 'e-pv-zoom-drop-down-rtl',\n        popupHeight: '450px',\n        showClearButton: false,\n        open: proxy.openZoomDropdown.bind(proxy),\n        select: function (args) {\n          if (args.e.type == 'keydown' && args.itemData.percent !== proxy.zoomDropDown.element.value) {\n            proxy.zoomDropDownChange(proxy.zoomDropDown.element.value);\n            args.cancel = true;\n          }\n        }\n      });\n    }\n    proxy.zoomDropDown.appendTo(proxy.pdfViewerBase.getElement('_zoomDropDown'));\n  };\n  Toolbar.prototype.createCurrentPageInputTemplate = function () {\n    // eslint-disable-next-line max-len\n    var goToPageElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_currentPageInput', null);\n    return goToPageElement.outerHTML;\n  };\n  Toolbar.prototype.createTotalPageTemplate = function () {\n    // eslint-disable-next-line max-len\n    var totalPageElement = this.createToolbarItem('span', this.pdfViewer.element.id + '_totalPage', 'e-pv-total-page');\n    return totalPageElement.outerHTML;\n  };\n  Toolbar.prototype.createNumericTextBox = function () {\n    this.currentPageBox = new NumericTextBox({\n      value: 0,\n      format: '##',\n      cssClass: 'e-pv-current-page-box',\n      showSpinButton: false\n    });\n    this.currentPageBoxElement = this.pdfViewerBase.getElement('_currentPageInput');\n    this.currentPageBox.appendTo(this.currentPageBoxElement);\n  };\n  Toolbar.prototype.createToolbarItemsForMobile = function () {\n    this.toolbarElement.classList.add('e-pv-mobile-toolbar');\n    var template = '<button id=\"' + this.pdfViewer.element.id + '_more_option\" class=\"e-tbar-btn\"></button>';\n    this.toolbar = new tool({\n      // eslint-disable-next-line max-len\n      items: [{\n        prefixIcon: 'e-pv-open-document-icon e-pv-icon',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Open'),\n        id: this.pdfViewer.element.id + '_open'\n      }, {\n        type: 'Separator',\n        align: 'Left'\n      },\n      // eslint-disable-next-line max-len\n      {\n        prefixIcon: 'e-pv-undo-icon e-pv-icon',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Undo'),\n        id: this.pdfViewer.element.id + '_undo'\n      },\n      // eslint-disable-next-line max-len\n      {\n        prefixIcon: 'e-pv-redo-icon e-pv-icon',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Redo'),\n        id: this.pdfViewer.element.id + '_redo'\n      },\n      // eslint-disable-next-line max-len\n      {\n        prefixIcon: 'e-pv-annotation-icon e-pv-icon',\n        cssClass: 'e-pv-annotation-container',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Annotation'),\n        id: this.pdfViewer.element.id + '_annotation',\n        align: 'Right'\n      },\n      // eslint-disable-next-line max-len\n      {\n        prefixIcon: 'e-pv-text-search-icon e-pv-icon',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Text Search'),\n        id: this.pdfViewer.element.id + '_search',\n        align: 'Right'\n      }, {\n        template: template,\n        align: 'Right'\n      }],\n      clicked: this.toolbarClickHandler,\n      width: '',\n      height: '',\n      overflowMode: 'Popup'\n    });\n    this.toolbar.isStringTemplate = true;\n    this.toolbar.appendTo(this.toolbarElement);\n    this.openDocumentItem = this.pdfViewerBase.getElement('_open');\n    this.openDocumentItem.classList.add('e-pv-open-document');\n    this.openDocumentItem.firstElementChild.id = this.pdfViewer.element.id + '_openIcon';\n    this.annotationItem = this.pdfViewerBase.getElement('_annotation');\n    this.annotationItem.classList.add('e-pv-annotation');\n    this.annotationItem.firstElementChild.id = this.pdfViewer.element.id + '_annotationIcon';\n    this.textSearchItem = this.pdfViewerBase.getElement('_search');\n    this.textSearchItem.classList.add('e-pv-text-search');\n    this.textSearchItem.firstElementChild.id = this.pdfViewer.element.id + '_searchIcon';\n    this.undoItem = this.pdfViewerBase.getElement('_undo');\n    this.undoItem.classList.add('e-pv-undo');\n    this.redoItem = this.pdfViewerBase.getElement('_redo');\n    this.redoItem.classList.add('e-pv-redo');\n    this.redoItem.firstElementChild.id = this.pdfViewer.element.id + '_redoIcon';\n    this.undoItem.firstElementChild.id = this.pdfViewer.element.id + '_undoIcon';\n    this.createMoreOption(this.pdfViewer.element.id + '_more_option');\n  };\n  Toolbar.prototype.createMoreOption = function (idString) {\n    var _this = this;\n    this.moreOptionItem = document.getElementById(idString);\n    var items = [{\n      text: this.pdfViewer.localeObj.getConstant('Download'),\n      id: this.pdfViewer.element.id + '_menu_download',\n      iconCss: 'e-icons e-pv-download-document-icon e-pv-icon'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Bookmarks'),\n      id: this.pdfViewer.element.id + '_menu_bookmarks',\n      iconCss: 'e-icons e-pv-bookmark-icon e-pv-icon'\n    }];\n    this.moreDropDown = new DropDownButton({\n      items: items,\n      iconCss: 'e-pv-more-icon e-pv-icon',\n      cssClass: 'e-caret-hide',\n      open: function (args) {\n        var dropdownButtonPosition = _this.moreDropDown.element.getBoundingClientRect();\n        // eslint-disable-next-line max-len\n        if (!_this.pdfViewer.enableRtl) {\n          args.element.parentElement.style.left = dropdownButtonPosition.left + dropdownButtonPosition.width - args.element.parentElement.offsetWidth + 'px';\n        }\n      },\n      select: function (args) {\n        switch (args.item.id) {\n          case _this.pdfViewer.element.id + '_menu_download':\n            _this.pdfViewerBase.download();\n            break;\n          case _this.pdfViewer.element.id + '_menu_bookmarks':\n            _this.showToolbar(false);\n            _this.pdfViewerBase.navigationPane.createNavigationPaneMobile('bookmarks');\n            break;\n          default:\n            break;\n        }\n      },\n      beforeItemRender: function (args) {\n        if (args.item.id === _this.pdfViewer.element.id + '_menu_bookmarks') {\n          if (!_this.pdfViewer.bookmarkViewModule || !_this.pdfViewer.bookmarkViewModule.bookmarks) {\n            args.element.classList.add('e-disabled');\n          } else {\n            args.element.classList.remove('e-disabled');\n          }\n        }\n      },\n      close: function (args) {\n        _this.moreOptionItem.blur();\n        _this.pdfViewerBase.focusViewerContainer();\n      }\n    });\n    this.moreDropDown.appendTo('#' + idString);\n  };\n  Toolbar.prototype.createToolbarItem = function (elementName, id, className) {\n    var toolbarItem = createElement(elementName, {\n      id: id\n    });\n    if (className !== null) {\n      toolbarItem.className = className;\n    }\n    if (elementName === 'input' && id !== this.pdfViewer.element.id + '_zoomDropDown') {\n      toolbarItem.type = 'text';\n    }\n    return toolbarItem;\n  };\n  /**\n   * @param toolbarItem\n   * @param tooltipText\n   * @param toolbarItem\n   * @param tooltipText\n   * @private\n   */\n  Toolbar.prototype.createTooltip = function (toolbarItem, tooltipText) {\n    if (tooltipText !== null) {\n      // eslint-disable-next-line\n      var tooltip = new Tooltip({\n        content: initializeCSPTemplate(function () {\n          return tooltipText;\n        }),\n        opensOn: 'Hover',\n        beforeOpen: this.onTooltipBeforeOpen.bind(this)\n      });\n      tooltip.appendTo(toolbarItem);\n    }\n  };\n  Toolbar.prototype.onTooltipBeforeOpen = function (args) {\n    if (!this.pdfViewer.toolbarSettings.showTooltip && this.toolbarElement.contains(args.target)) {\n      args.cancel = true;\n    }\n    if (this.annotationToolbarModule) {\n      // eslint-disable-next-line max-len\n      if (!this.pdfViewer.toolbarSettings.showTooltip && (this.annotationToolbarModule.toolbarElement && this.annotationToolbarModule.toolbarElement.contains(args.target) || this.annotationToolbarModule.shapeToolbarElement && this.annotationToolbarModule.shapeToolbarElement.contains(args.target))) {\n        args.cancel = true;\n      }\n    }\n    if (this.formDesignerToolbarModule) {\n      // eslint-disable-next-line max-len\n      if (!this.pdfViewer.toolbarSettings.showTooltip && this.formDesignerToolbarModule.toolbarElement && this.formDesignerToolbarModule.toolbarElement.contains(args.target)) {\n        args.cancel = true;\n      }\n    }\n  };\n  Toolbar.prototype.createFileElement = function (toolbarElement) {\n    if (toolbarElement) {\n      if (!isBlazor()) {\n        // eslint-disable-next-line max-len\n        this.fileInputElement = createElement('input', {\n          id: this.pdfViewer.element.id + '_fileUploadElement',\n          styles: 'position:fixed; left:-100em',\n          attrs: {\n            'type': 'file'\n          }\n        });\n        this.fileInputElement.setAttribute('accept', '.pdf');\n        this.fileInputElement.setAttribute('aria-label', 'file upload element');\n        this.fileInputElement.setAttribute('tabindex', '-1');\n      } else {\n        this.fileInputElement = this.pdfViewer.element.querySelector('.e-pv-fileupload-element');\n      }\n      if (toolbarElement) {\n        toolbarElement.appendChild(this.fileInputElement);\n      }\n    }\n  };\n  Toolbar.prototype.wireEvent = function () {\n    if (this.fileInputElement) {\n      this.fileInputElement.addEventListener('change', this.loadDocument);\n    }\n    if (!isBlazor()) {\n      if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n        this.toolbarElement.addEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n        this.currentPageBoxElement.addEventListener('focusout', this.textBoxFocusOut);\n        this.currentPageBoxElement.addEventListener('keypress', this.navigateToPage);\n        this.zoomDropDown.change = this.zoomPercentSelect.bind(this);\n        this.zoomDropDown.element.addEventListener('keypress', this.onZoomDropDownInput.bind(this));\n        this.zoomDropDown.element.addEventListener('click', this.onZoomDropDownInputClick.bind(this));\n      }\n    }\n  };\n  Toolbar.prototype.unWireEvent = function () {\n    if (this.fileInputElement) {\n      this.fileInputElement.removeEventListener('change', this.loadDocument);\n    }\n    if ((!Browser.isDevice || this.pdfViewer.enableDesktopMode) && !isBlazor()) {\n      if (!isNullOrUndefined(this.toolbarElement)) {\n        this.toolbarElement.removeEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n      }\n      if (!isNullOrUndefined(this.currentPageBoxElement)) {\n        this.currentPageBoxElement.removeEventListener('focusout', this.textBoxFocusOut);\n        this.currentPageBoxElement.removeEventListener('keypress', this.navigateToPage);\n      }\n      if (!isNullOrUndefined(this.zoomDropDown)) {\n        this.zoomDropDown.removeEventListener('change', this.zoomPercentSelect);\n        this.zoomDropDown.element.removeEventListener('keypress', this.onZoomDropDownInput);\n        this.zoomDropDown.element.removeEventListener('click', this.onZoomDropDownInputClick);\n      }\n    }\n  };\n  /**\n   * @param viewerWidth\n   * @private\n   */\n  Toolbar.prototype.onToolbarResize = function (viewerWidth) {\n    if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n      this.pdfViewerBase.navigationPane.toolbarResize();\n    } else {\n      if (!isNullOrUndefined(this.toolbar)) {\n        this.toolbar.refreshOverflow();\n      }\n    }\n  };\n  Toolbar.prototype.toolbarOnMouseup = function (event) {\n    if (event.target === this.itemsContainer || event.target === this.toolbarElement) {\n      this.pdfViewerBase.focusViewerContainer();\n    }\n  };\n  Toolbar.prototype.applyHideToToolbar = function (show, startIndex, endIndex) {\n    var isHide = !show;\n    for (var index = startIndex; index <= endIndex; index++) {\n      if (this.toolbar.items[index]) {\n        var className = this.toolbar.items[index].cssClass;\n        if (className && className !== '') {\n          // Querying the toolbar item\n          var element = this.toolbar.element.querySelector('.' + className);\n          if (element) {\n            this.toolbar.hideItem(element, isHide);\n          }\n        } else {\n          this.toolbar.hideItem(index, isHide);\n        }\n      }\n    }\n  };\n  Toolbar.prototype.handleOpenIconClick = function (args, isKeyBoardEvent) {\n    this.fileInputElement.click();\n    if (Browser.isDevice && !this.pdfViewer.enableDesktopMode && !isKeyBoardEvent) {\n      if (!isBlazor()) {\n        args.originalEvent.target.blur();\n      }\n      this.pdfViewerBase.focusViewerContainer();\n    }\n  };\n  // eslint-disable-next-line\n  Toolbar.prototype.handleToolbarBtnClick = function (args, isKeyBoardEvent) {\n    this.addInkAnnotation();\n    this.deSelectCommentAnnotation();\n    switch (args.originalEvent.target.id || !isNullOrUndefined(args.item) && args.item.id) {\n      case this.pdfViewer.element.id + '_open':\n      case this.pdfViewer.element.id + '_openIcon':\n      case this.pdfViewer.element.id + '_openText':\n        this.handleOpenIconClick(args, isKeyBoardEvent);\n        break;\n      case this.pdfViewer.element.id + '_download':\n      case this.pdfViewer.element.id + '_downloadIcon':\n      case this.pdfViewer.element.id + '_downloadText':\n        this.pdfViewerBase.download();\n        break;\n      case this.pdfViewer.element.id + '_print':\n      case this.pdfViewer.element.id + '_printIcon':\n      case this.pdfViewer.element.id + '_printText':\n        if (this.pdfViewer.printModule) {\n          this.pdfViewer.firePrintStart();\n        }\n        break;\n      case this.pdfViewer.element.id + '_undo':\n      case this.pdfViewer.element.id + '_undoIcon':\n      case this.pdfViewer.element.id + '_undoText':\n        if (this.pdfViewer.annotationModule) {\n          this.pdfViewer.annotationModule.undo();\n        }\n        break;\n      case this.pdfViewer.element.id + '_redo':\n      case this.pdfViewer.element.id + '_redoIcon':\n      case this.pdfViewer.element.id + '_redoText':\n        if (this.pdfViewer.annotationModule) {\n          this.pdfViewer.annotationModule.redo();\n        }\n        break;\n      case this.pdfViewer.element.id + '_firstPage':\n      case this.pdfViewer.element.id + '_firstPageIcon':\n      case this.pdfViewer.element.id + '_firstPageText':\n        if (this.pdfViewer.navigationModule) {\n          this.pdfViewer.navigationModule.goToFirstPage();\n        }\n        break;\n      case this.pdfViewer.element.id + '_previousPage':\n      case this.pdfViewer.element.id + '_previousPageIcon':\n      case this.pdfViewer.element.id + '_previousPageText':\n        if (this.pdfViewer.navigationModule) {\n          this.pdfViewer.navigationModule.goToPreviousPage();\n        }\n        break;\n      case this.pdfViewer.element.id + '_nextPage':\n      case this.pdfViewer.element.id + '_nextPageIcon':\n      case this.pdfViewer.element.id + '_nextPageText':\n        if (this.pdfViewer.navigationModule) {\n          this.pdfViewer.navigationModule.goToNextPage();\n        }\n        break;\n      case this.pdfViewer.element.id + '_lastPage':\n      case this.pdfViewer.element.id + '_lastPageIcon':\n      case this.pdfViewer.element.id + '_lastPageText':\n        if (this.pdfViewer.navigationModule) {\n          this.pdfViewer.navigationModule.goToLastPage();\n        }\n        break;\n      case this.pdfViewer.element.id + '_zoomIn':\n      case this.pdfViewer.element.id + '_zoomInIcon':\n      case this.pdfViewer.element.id + '_zoomInText':\n        this.pdfViewer.magnificationModule.zoomIn();\n        break;\n      case this.pdfViewer.element.id + '_zoomOut':\n      case this.pdfViewer.element.id + '_zoomOutIcon':\n      case this.pdfViewer.element.id + '_zoomOutText':\n        this.pdfViewer.magnificationModule.zoomOut();\n        break;\n      case this.pdfViewer.element.id + '_selectTool':\n      case this.pdfViewer.element.id + '_selectToolIcon':\n      case this.pdfViewer.element.id + '_selectToolText':\n        if (!this.isSelectionToolDisabled) {\n          this.pdfViewerBase.initiateTextSelectMode();\n          this.updateInteractionTools(true);\n        }\n        break;\n      case this.pdfViewer.element.id + '_handTool':\n      case this.pdfViewer.element.id + '_handToolIcon':\n      case this.pdfViewer.element.id + '_handToolText':\n        if (!(this.isScrollingToolDisabled || this.getStampMode())) {\n          this.pdfViewerBase.initiatePanning();\n          this.updateInteractionTools(false);\n        }\n        break;\n      case this.pdfViewer.element.id + '_search':\n      case this.pdfViewer.element.id + '_searchIcon':\n      case this.pdfViewer.element.id + '_searchText':\n        this.textSearchButtonHandler();\n        break;\n      case this.pdfViewer.element.id + '_annotation':\n      case this.pdfViewer.element.id + '_annotationIcon':\n      case this.pdfViewer.element.id + '_annotationText':\n        this.initiateAnnotationMode(args.originalEvent.target.id, isKeyBoardEvent);\n        break;\n      case this.pdfViewer.element.id + '_formdesigner':\n      case this.pdfViewer.element.id + '_formdesignerIcon':\n      case this.pdfViewer.element.id + '_formdesignerText':\n        this.initiateFormDesignerMode(isKeyBoardEvent);\n        this.formDesignerToolbarModule.showHideDeleteIcon(false);\n        break;\n      case this.pdfViewer.element.id + '_comment':\n      case this.pdfViewer.element.id + '_commentIcon':\n        this.pdfViewerBase.isAddComment = true;\n        this.pdfViewerBase.isCommentIconAdded = true;\n        this.annotationToolbarModule.deselectAllItems();\n        this.pdfViewer.annotation.triggerAnnotationUnselectEvent();\n        this.addComments(args.originalEvent.target);\n        break;\n      case this.pdfViewer.element.id + '_submitForm':\n      case this.pdfViewer.element.id + '_submitFormSpan':\n        var data = void 0;\n        this.pdfViewerBase.exportFormFields(data, FormFieldDataFormat.Json);\n        break;\n      default:\n        this.pdfViewer.fireCustomToolbarClickEvent(args);\n        break;\n    }\n  };\n  Toolbar.prototype.addInkAnnotation = function () {\n    if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.inkAnnotationModule) {\n      // eslint-disable-next-line\n      var currentPageNumber = parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber);\n      this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(currentPageNumber);\n    }\n    if (this.annotationToolbarModule) {\n      this.pdfViewer.toolbar.annotationToolbarModule.deselectInkAnnotation();\n      this.annotationToolbarModule.inkAnnotationSelected = false;\n    }\n  };\n  Toolbar.prototype.deSelectCommentAnnotation = function () {\n    if (!isBlazor()) {\n      this.pdfViewer.toolbar.deSelectItem(this.commentItem);\n    } else {\n      this.pdfViewer.toolbar.deSelectItem(this.CommentElement);\n    }\n    this.pdfViewerBase.isCommentIconAdded = false;\n  };\n  /**\n  * @private\n  */\n  // eslint-disable-next-line\n  Toolbar.prototype.addComments = function (targetElement) {\n    if (!isBlazor()) {\n      // eslint-disable-next-line max-len\n      if (targetElement.id === this.pdfViewer.element.id + '_comment' || targetElement.id === this.pdfViewer.element.id + '_commentIcon') {\n        if (targetElement.id === this.pdfViewer.element.id + '_commentIcon' && targetElement.parentElement) {\n          targetElement.parentElement.classList.add('e-pv-select');\n        } else {\n          targetElement.classList.add('e-pv-select');\n        }\n      } else {\n        if (this.pdfViewer.enableRtl) {\n          targetElement.className = 'e-pv-comment-selection-icon e-pv-icon e-icon-left e-right';\n        } else {\n          targetElement.className = 'e-pv-comment-selection-icon e-pv-icon e-icon-left';\n        }\n      }\n    } else {\n      this.pdfViewerBase.isCommentIconAdded = true;\n      this.pdfViewerBase.isAddComment = true;\n      this.annotationToolbarModule.deselectAllItemsInBlazor();\n      var commentsButton = this.CommentElement;\n      commentsButton.classList.add('e-pv-select');\n    }\n    this.updateStampItems();\n    document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1)).addEventListener('mousedown', this.pdfViewer.annotationModule.stickyNotesAnnotationModule.drawIcons.bind(this));\n  };\n  Toolbar.prototype.openZoomDropdown = function () {\n    var toolbarData = this;\n    if (document.fullscreen) {\n      if (isBlazor()) {\n        // eslint-disable-next-line\n        var fullscreenElement = document.fullscreenElement;\n        if (fullscreenElement && fullscreenElement.tagName !== 'BODY' && fullscreenElement.tagName !== 'HTML') {\n          setTimeout(function () {\n            // eslint-disable-next-line\n            var popupElement = document.getElementById(toolbarData.pdfViewer.element.id + \"_zoomCombo_popup\");\n            var targetElement = document.getElementById(toolbarData.toolbarElement.id);\n            // eslint-disable-next-line\n            if (popupElement && targetElement && popupElement.ej2_instances) {\n              targetElement.appendChild(popupElement);\n              popupElement.ej2_instances[0].refreshPosition();\n            }\n          }, 100);\n        }\n      } else {\n        var popupElement = document.getElementById(this.pdfViewer.element.id + \"_zoomDropDown_popup\");\n        var targetElement = document.getElementById(this.toolbarElement.id);\n        if (popupElement) {\n          targetElement.appendChild(popupElement);\n        }\n      }\n    }\n  };\n  Toolbar.prototype.onZoomDropDownInput = function (event) {\n    if ((event.which < 48 || event.which > 57) && event.which !== 8 && event.which !== 13 && event.which !== 32) {\n      event.preventDefault();\n      return false;\n    } else {\n      if (event.which === 13) {\n        event.preventDefault();\n        var value = this.zoomDropDown.element.value.trim();\n        this.zoomDropDownChange(value);\n      }\n      return true;\n    }\n  };\n  Toolbar.prototype.onZoomDropDownInputClick = function () {\n    this.zoomDropDown.element.select();\n  };\n  Toolbar.prototype.zoomPercentSelect = function (args) {\n    if (this.pdfViewerBase.pageCount > 0) {\n      if (args.isInteracted) {\n        if (args.itemData) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          var zoomText = args.itemData.percent;\n          this.zoomDropDownChange(zoomText);\n        }\n      } else {\n        this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n      }\n    }\n  };\n  Toolbar.prototype.zoomDropDownChange = function (zoomText) {\n    // eslint-disable-next-line max-len\n    if (zoomText !== this.pdfViewer.localeObj.getConstant('Fit Width') && zoomText !== this.pdfViewer.localeObj.getConstant('Fit Page') && zoomText !== this.pdfViewer.localeObj.getConstant('Automatic')) {\n      this.pdfViewer.magnificationModule.isAutoZoom = false;\n      this.pdfViewer.magnificationModule.zoomTo(parseFloat(zoomText));\n      this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n      this.zoomDropDown.focusOut();\n    } else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Width')) {\n      this.pdfViewer.magnificationModule.isAutoZoom = false;\n      this.pdfViewer.magnificationModule.fitToWidth();\n      this.zoomDropDown.focusOut();\n    } else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Page')) {\n      this.pdfViewer.magnificationModule.fitToPage();\n      this.zoomDropDown.focusOut();\n    } else if (zoomText === this.pdfViewer.localeObj.getConstant('Automatic')) {\n      this.pdfViewer.magnificationModule.isAutoZoom = true;\n      this.pdfViewer.magnificationModule.fitToAuto();\n      this.zoomDropDown.focusOut();\n    }\n  };\n  /**\n   * @param zoomFactor\n   * @private\n   */\n  Toolbar.prototype.updateZoomPercentage = function (zoomFactor) {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      // eslint-disable-next-line radix\n      var currentPercent = parseInt((zoomFactor * 100).toString()) + '%';\n      if (isBlazor()) {\n        // eslint-disable-next-line\n        var blazorZoomDropDown = this.pdfViewerBase.getElement('_zoomDropDown');\n        if (blazorZoomDropDown && blazorZoomDropDown.children.length > 0) {\n          blazorZoomDropDown.children[0].children[0].value = currentPercent;\n        }\n      } else {\n        if (this.zoomDropDown.text === currentPercent) {\n          this.zoomDropDown.element.value = currentPercent;\n        }\n        if (this.zoomDropDown.index === 11) {\n          this.zoomDropDown.value = 4;\n        }\n        if (zoomFactor <= 0.25) {\n          this.pdfViewerBase.isMinimumZoom = true;\n        } else {\n          this.pdfViewerBase.isMinimumZoom = false;\n        }\n        // eslint-disable-next-line\n        this.zoomDropDown.text = currentPercent;\n      }\n    }\n  };\n  Toolbar.prototype.updateInteractionItems = function () {\n    if (this.pdfViewer.textSelectionModule) {\n      if (this.pdfViewer.enableTextSelection) {\n        this.enableItems(this.textSelectItem.parentElement, true);\n      } else {\n        this.enableItems(this.textSelectItem.parentElement, false);\n      }\n    } else {\n      this.enableItems(this.textSelectItem.parentElement, false);\n    }\n    this.enableItems(this.panItem.parentElement, true);\n    if (this.pdfViewer.interactionMode === 'TextSelection' && this.pdfViewer.enableTextSelection) {\n      this.selectItem(this.textSelectItem);\n      this.textSelectItem.setAttribute('tabindex', '-1');\n      this.deSelectItem(this.panItem);\n      this.panItem.setAttribute('tabindex', '0');\n    } else {\n      this.selectItem(this.panItem);\n      this.panItem.setAttribute('tabindex', '-1');\n      this.deSelectItem(this.textSelectItem);\n      this.textSelectItem.setAttribute('tabindex', '0');\n      this.pdfViewerBase.initiatePanning();\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.textSearchButtonHandler = function () {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (this.pdfViewer.textSearchModule && this.pdfViewerBase.pageCount > 0) {\n        this.isTextSearchBoxDisplayed = !this.isTextSearchBoxDisplayed;\n        this.pdfViewer.textSearchModule.showSearchBox(this.isTextSearchBoxDisplayed);\n        if (this.isTextSearchBoxDisplayed) {\n          if (!isBlazor()) {\n            this.selectItem(this.textSearchItem);\n            this.textSearchItem.setAttribute('tabindex', '0');\n          }\n          // eslint-disable-next-line max-len\n          var searchInputElement = document.getElementById(this.pdfViewer.element.id + '_search_input');\n          searchInputElement.select();\n          searchInputElement.focus();\n        } else {\n          if (!isBlazor()) {\n            this.deSelectItem(this.textSearchItem);\n            this.textSearchItem.blur();\n          } else {\n            var searchItem = this.pdfViewerBase.getElement('_search');\n            searchItem.firstElementChild.blur();\n          }\n        }\n      }\n    } else {\n      this.showToolbar(false);\n      this.pdfViewerBase.navigationPane.createNavigationPaneMobile('search');\n    }\n  };\n  Toolbar.prototype.initiateAnnotationMode = function (id, isKeyBoardEvent) {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (this.annotationToolbarModule && this.pdfViewer.enableAnnotationToolbar) {\n        this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem);\n        this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.refreshOverflow();\n        if (isKeyBoardEvent && this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items.length > 0) {\n          document.getElementById(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items[0].id).focus();\n        }\n        if (this.pdfViewer.isAnnotationToolbarVisible && this.pdfViewer.isFormDesignerToolbarVisible) {\n          var formDesignerMainDiv = document.getElementById(this.pdfViewer.element.id + \"_formdesigner_toolbar\");\n          formDesignerMainDiv.style.display = \"none\";\n          this.formDesignerToolbarModule.isToolbarHidden = false;\n          this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem);\n          this.annotationToolbarModule.adjustViewer(true);\n        }\n      }\n    } else {\n      if (!isBlazor()) {\n        if (id === this.pdfViewer.element.id + '_annotation') {\n          id = this.pdfViewer.element.id + '_annotationIcon';\n        }\n        this.annotationToolbarModule.createAnnotationToolbarForMobile(id);\n      }\n    }\n  };\n  Toolbar.prototype.initiateFormDesignerMode = function (isKeyBoardEvent) {\n    if (this.formDesignerToolbarModule && this.pdfViewer.enableFormDesignerToolbar) {\n      this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem);\n      if (this.pdfViewer.isAnnotationToolbarVisible && this.pdfViewer.isFormDesignerToolbarVisible) {\n        var annotationMainDiv = document.getElementById(this.pdfViewer.element.id + \"_annotation_toolbar\");\n        annotationMainDiv.style.display = \"none\";\n        var commentPanel = document.getElementById(this.pdfViewer.element.id + '_commantPanel');\n        if (!isNullOrUndefined(commentPanel) && !isNullOrUndefined(this.pdfViewerBase.navigationPane)) {\n          if (commentPanel.style.display === 'block') {\n            this.pdfViewerBase.navigationPane.closeCommentPanelContainer();\n          }\n        }\n        this.annotationToolbarModule.isToolbarHidden = false;\n        this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem);\n        this.formDesignerToolbarModule.adjustViewer(true);\n      }\n      if (isKeyBoardEvent && this.pdfViewer.toolbarModule.formDesignerToolbarModule.toolbar.items.length > 0) {\n        document.getElementById(this.pdfViewer.toolbarModule.formDesignerToolbarModule.toolbar.items[0].id).focus();\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.DisableInteractionTools = function () {\n    this.deSelectItem(this.textSelectItem);\n    this.deSelectItem(this.panItem);\n  };\n  /**\n   * @param element\n   * @private\n   */\n  Toolbar.prototype.selectItem = function (element) {\n    if (element) {\n      element.classList.add('e-pv-select');\n    }\n  };\n  /**\n   * @param element\n   * @private\n   */\n  Toolbar.prototype.deSelectItem = function (element) {\n    if (element) {\n      element.classList.remove('e-pv-select');\n    }\n  };\n  /**\n   * @param isTextSelect\n   * @private\n   */\n  Toolbar.prototype.updateInteractionTools = function (isTextSelect) {\n    var isBlazorPlatform = isBlazor();\n    if (isTextSelect) {\n      if (isBlazorPlatform) {\n        this.selectItem(this.SelectToolElement);\n        this.deSelectItem(this.PanElement);\n      } else {\n        this.selectItem(this.textSelectItem);\n        if (!isNullOrUndefined(this.textSelectItem)) {\n          this.textSelectItem.setAttribute('tabindex', '-1');\n        }\n        this.deSelectItem(this.panItem);\n        if (!isNullOrUndefined(this.panItem)) {\n          this.panItem.setAttribute('tabindex', '0');\n        }\n      }\n    } else {\n      if (isBlazorPlatform) {\n        this.selectItem(this.PanElement);\n        this.deSelectItem(this.SelectToolElement);\n      } else {\n        this.selectItem(this.panItem);\n        if (!isNullOrUndefined(this.panItem)) {\n          this.panItem.setAttribute('tabindex', '-1');\n        }\n        this.deSelectItem(this.textSelectItem);\n        if (!isNullOrUndefined(this.textSelectItem)) {\n          this.textSelectItem.setAttribute('tabindex', '0');\n        }\n      }\n    }\n  };\n  Toolbar.prototype.initialEnableItems = function () {\n    if (this.pdfViewer.enableToolbar) {\n      this.showToolbar(true);\n    } else {\n      this.showToolbar(false);\n    }\n    if (this.pdfViewer.enableNavigationToolbar) {\n      this.showNavigationToolbar(true);\n    } else {\n      this.showNavigationToolbar(false);\n    }\n    if (!isBlazor()) {\n      if (this.isPrintBtnVisible) {\n        this.showPrintOption(true);\n      } else {\n        this.showPrintOption(false);\n      }\n      if (this.isDownloadBtnVisible) {\n        this.showDownloadOption(true);\n      } else {\n        this.showDownloadOption(false);\n      }\n      if (this.isSearchBtnVisible) {\n        this.showSearchOption(true);\n      } else {\n        this.showSearchOption(false);\n      }\n      if (this.isCommentBtnVisible) {\n        this.showCommentOption(true);\n      } else {\n        this.showCommentOption(false);\n      }\n    }\n  };\n  Toolbar.prototype.showSeparator = function (toolbarItems) {\n    // eslint-disable-next-line max-len\n    if (!this.isOpenBtnVisible || !this.isNavigationToolVisible && !this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible && !this.isUndoRedoBtnsVisible) {\n      //For mobile devices, the default previous value has been passed as (1,1).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(false, !isNullOrUndefined(this.itemsIndexArray[0]) ? this.itemsIndexArray[0].endIndex + 1 : 1, !isNullOrUndefined(this.itemsIndexArray[0]) ? this.itemsIndexArray[0].endIndex + 1 : 1);\n    }\n    if (!this.isNavigationToolVisible && !this.isMagnificationToolVisible && !this.isOpenBtnVisible || this.isOpenBtnVisible && !this.isNavigationToolVisible ||\n    // eslint-disable-next-line max-len\n    !this.isOpenBtnVisible && !this.isNavigationToolVisible || !this.isMagnificationToolVisible && !this.isScrollingBtnVisible && !this.isSelectionBtnVisible) {\n      //For mobile devices, the default previous value has been passed as (8,8).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(false, !isNullOrUndefined(this.itemsIndexArray[1]) ? this.itemsIndexArray[1].endIndex + 1 : 8, !isNullOrUndefined(this.itemsIndexArray[1]) ? this.itemsIndexArray[1].endIndex + 1 : 8);\n    }\n    if (!this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible || this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible || !this.isMagnificationToolVisible && (this.isSelectionBtnVisible || this.isScrollingBtnVisible)) {\n      //For mobile devices, the default previous value has been passed as (12,12).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(false, !isNullOrUndefined(this.itemsIndexArray[2]) ? this.itemsIndexArray[2].endIndex + 1 : 12, !isNullOrUndefined(this.itemsIndexArray[2]) ? this.itemsIndexArray[2].endIndex + 1 : 12);\n    }\n    if (!this.isMagnificationToolVisible && !this.isNavigationToolVisible && !this.isScrollingBtnVisible && !this.isSelectionBtnVisible && this.isUndoRedoBtnsVisible || !this.isUndoRedoBtnsVisible) {\n      //For mobile devices, the default previous value has been passed as (15,15).\n      // eslint-disable-next-line max-len\n      this.applyHideToToolbar(false, !isNullOrUndefined(this.itemsIndexArray[4]) ? this.itemsIndexArray[4].endIndex + 1 : 15, !isNullOrUndefined(this.itemsIndexArray[4]) ? this.itemsIndexArray[4].endIndex + 1 : 15);\n    }\n    if (!this.isUndoRedoBtnsVisible || this.isUndoRedoBtnsVisible && !this.isCommentBtnVisible && !this.isSubmitbtnvisible) {\n      this.applyHideToToolbar(false, this.itemsIndexArray[5].endIndex + 1, this.itemsIndexArray[5].endIndex + 1);\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.applyToolbarSettings = function () {\n    var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItems;\n    if (toolbarSettingsItems) {\n      if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n        this.showOpenOption(true);\n      } else {\n        this.showOpenOption(false);\n      }\n      if (toolbarSettingsItems.indexOf('PageNavigationTool') !== -1) {\n        this.showPageNavigationTool(true);\n      } else {\n        this.showPageNavigationTool(false);\n      }\n      if (toolbarSettingsItems.indexOf('MagnificationTool') !== -1) {\n        this.showMagnificationTool(true);\n      } else {\n        this.showMagnificationTool(false);\n      }\n      if (toolbarSettingsItems.indexOf('SelectionTool') !== -1) {\n        this.showSelectionTool(true);\n      } else {\n        this.showSelectionTool(false);\n      }\n      if (toolbarSettingsItems.indexOf('PanTool') !== -1) {\n        this.showScrollingTool(true);\n      } else {\n        this.showScrollingTool(false);\n      }\n      if (toolbarSettingsItems.indexOf('PrintOption') !== -1) {\n        this.showPrintOption(true);\n      } else {\n        this.showPrintOption(false);\n      }\n      if (toolbarSettingsItems.indexOf('DownloadOption') !== -1) {\n        this.showDownloadOption(true);\n      } else {\n        this.showDownloadOption(false);\n      }\n      if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n        this.showSearchOption(true);\n      } else {\n        this.showSearchOption(false);\n      }\n      if (toolbarSettingsItems.indexOf('UndoRedoTool') !== -1) {\n        this.showUndoRedoTool(true);\n      } else {\n        this.showUndoRedoTool(false);\n      }\n      if (toolbarSettingsItems.indexOf('AnnotationEditTool') !== -1) {\n        this.showAnnotationEditTool(true);\n      } else {\n        this.showAnnotationEditTool(false);\n      }\n      if (toolbarSettingsItems.indexOf('FormDesignerEditTool') !== -1) {\n        this.showFormDesignerEditTool(true);\n      } else {\n        this.showFormDesignerEditTool(false);\n      }\n      if (toolbarSettingsItems.indexOf('CommentTool') !== -1) {\n        this.showCommentOption(true);\n      } else {\n        this.showCommentOption(false);\n      }\n      if (toolbarSettingsItems.indexOf('SubmitForm') !== -1) {\n        this.showSubmitForm(true);\n      } else {\n        this.showSubmitForm(false);\n      }\n      this.showSeparator(toolbarSettingsItems);\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.applyToolbarSettingsForMobile = function () {\n    var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItems;\n    if (toolbarSettingsItems) {\n      if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n        this.showOpenOption(true);\n      } else {\n        this.showOpenOption(false);\n      }\n      if (toolbarSettingsItems.indexOf('UndoRedoTool') !== -1) {\n        this.showUndoRedoTool(true);\n      } else {\n        this.showUndoRedoTool(false);\n      }\n      if (toolbarSettingsItems.indexOf('AnnotationEditTool') !== -1) {\n        this.showAnnotationEditTool(true);\n      } else {\n        this.showAnnotationEditTool(false);\n      }\n      if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n        this.showSearchOption(true);\n      } else {\n        this.showSearchOption(false);\n      }\n    }\n  };\n  Toolbar.prototype.getStampMode = function () {\n    if (this.pdfViewer.annotation && this.pdfViewer.annotation.stampAnnotationModule) {\n      return this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode;\n    } else {\n      return false;\n    }\n  };\n  // eslint-disable-next-line\n  Toolbar.prototype.stampBeforeOpen = function (args) {\n    this.annotationToolbarModule.resetFreeTextAnnot();\n    if (args.ParentItem.Text === '' && this.pdfViewer.customStampSettings.isAddToMenu && args.Items.length > 0) {\n      // eslint-disable-next-line\n      var currentElements = null;\n      for (var i = 0; i < args.Items.length; i++) {\n        if (args.Items[i].Text === 'Custom Stamp') {\n          args.Items[i].Items = [];\n          currentElements = args.Items[i];\n          break;\n        }\n      }\n      // eslint-disable-next-line\n      var elements = this.pdfViewerBase.customStampCollection;\n      // eslint-disable-next-line\n      var stampElements = this.pdfViewer.customStampSettings.customStamps;\n      if (elements.length === 0 && stampElements && stampElements.length > 0) {\n        for (var n = 0; n < stampElements.length; n++) {\n          // eslint-disable-next-line max-len\n          elements.push({\n            customStampName: stampElements[n].customStampName,\n            customStampImageSource: stampElements[n].customStampImageSource\n          });\n        }\n      }\n      for (var m = 0; m < elements.length; m++) {\n        if (currentElements != null) {\n          currentElements.Items.push({\n            text: elements[m].customStampName\n          });\n        }\n      }\n    }\n  };\n  // eslint-disable-next-line\n  Toolbar.prototype.stampBeforeClose = function (args, showItemOnClick) {\n    // eslint-disable-next-line max-len\n    if (args.ParentItem && args.ParentItem.Text !== 'Custom Stamp' && args.ParentItem.Text !== 'Standard Business' && args.ParentItem.Text !== 'Dynamic' && args.ParentItem.Text !== 'Sign Here' || !args.ParentItem) {\n      showItemOnClick = true;\n    }\n  };\n  /**\n   * @private\n   */\n  // eslint-disable-next-line\n  Toolbar.prototype.updateStampItems = function () {\n    if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.stampAnnotationModule && this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot) {\n      if (this.pdfViewer.selectedItems.annotations[0]) {\n        this.pdfViewer.remove(this.pdfViewer.selectedItems.annotations[0]);\n        this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber - 1);\n        this.pdfViewer.renderDrawing();\n        this.pdfViewerBase.tool = null;\n      }\n      this.pdfViewerBase.isAlreadyAdded = false;\n      this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot = false;\n    }\n  };\n  // eslint-disable-next-line\n  Toolbar.prototype.stampSelect = function (args, stampParentID) {\n    this.pdfViewerBase.isAlreadyAdded = false;\n    this.updateStampItems();\n    if (args.Item.Text === 'Custom Stamp') {\n      this.annotationToolbarModule.checkStampAnnotations();\n      this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n      // eslint-disable-next-line\n      var stampImage = createElement('input', {\n        id: this.pdfViewer.element.id + '_stampElement',\n        attrs: {\n          'type': 'file'\n        }\n      });\n      stampImage.setAttribute('accept', '.jpg,.jpeg,.png');\n      stampImage.style.position = 'absolute';\n      stampImage.style.left = '0px';\n      stampImage.style.top = '0px';\n      stampImage.style.visibility = 'hidden';\n      document.body.appendChild(stampImage);\n      stampImage.click();\n      stampImage.addEventListener('change', this.annotationToolbarModule.addStampImage);\n      document.body.removeChild(stampImage);\n      // eslint-disable-next-line max-len\n    } else if (stampParentID === 'Custom Stamp' && args.Item.Text !== '') {\n      // eslint-disable-next-line\n      var elements = this.pdfViewerBase.customStampCollection;\n      for (var n = 0; n < elements.length; n++) {\n        if (elements[n].customStampName === args.Item.Text) {\n          this.pdfViewer.annotationModule.stampAnnotationModule.customStampName = args.Item.Text;\n          this.annotationToolbarModule.checkStampAnnotations();\n          this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n          this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected = true;\n          this.pdfViewerBase.stampAdded = true;\n          this.pdfViewerBase.isAlreadyAdded = true;\n          // eslint-disable-next-line max-len\n          this.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(elements[n].customStampImageSource);\n          this.pdfViewerBase.stampAdded = false;\n        }\n      }\n      // eslint-disable-next-line max-len\n    } else if (args.Item.Text !== 'Dynamic' && args.Item.Text !== '' && args.Item.Text !== 'Standard Business' && (stampParentID === 'Sign Here' || args.Item.Text !== 'Sign Here')) {\n      this.annotationToolbarModule.checkStampAnnotations();\n      this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n      this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected = true;\n      this.pdfViewerBase.stampAdded = true;\n      if (stampParentID === 'Dynamic') {\n        this.pdfViewerBase.isDynamicStamp = true;\n        this.pdfViewer.annotationModule.stampAnnotationModule.retrieveDynamicStampAnnotation(args.Item.Text);\n      } else {\n        this.pdfViewerBase.isDynamicStamp = false;\n        this.pdfViewer.annotationModule.stampAnnotationModule.retrievestampAnnotation(args.Item.Text);\n      }\n    }\n  };\n  Toolbar.prototype.enableItems = function (element, isEnable) {\n    this.toolbar.enableItems(element, isEnable);\n    if (element && element.id === this.pdfViewer.element.id + '_zoomDropDownContainer') {\n      this.pdfViewerBase.getElement('_zoomDropDown').setAttribute('tabindex', isEnable ? '0' : '-1');\n      this.pdfViewerBase.getElement('_zoomDropDown').setAttribute('data-tabindex', isEnable ? '0' : '-1');\n    } else if (element.firstElementChild && element.id !== this.pdfViewer.element.id + '_zoomDropDownContainer') {\n      element.firstElementChild.setAttribute('tabindex', isEnable ? '0' : '-1');\n      element.firstElementChild.setAttribute('data-tabindex', isEnable ? '0' : '-1');\n    }\n  };\n  /**\n   * @private\n   */\n  Toolbar.prototype.getModuleName = function () {\n    return 'Toolbar';\n  };\n  return Toolbar;\n}();\nexport { Toolbar };","map":{"version":3,"names":["createElement","Browser","isBlazor","isNullOrUndefined","initializeCSPTemplate","Toolbar","tool","NumericTextBox","ComboBox","AnnotationToolbar","Tooltip","DropDownButton","FormFieldDataFormat","FormDesignerToolbar","viewer","viewerBase","_this","isPageNavigationToolDisabled","isMagnificationToolDisabled","isSelectionToolDisabled","isScrollingToolDisabled","isOpenBtnVisible","isNavigationToolVisible","isMagnificationToolVisible","isSelectionBtnVisible","isScrollingBtnVisible","isDownloadBtnVisible","isPrintBtnVisible","isSearchBtnVisible","isTextSearchBoxDisplayed","isUndoRedoBtnsVisible","isAnnotationEditBtnVisible","isFormDesignerEditBtnVisible","isCommentBtnVisible","isSubmitbtnvisible","toolItems","itemsIndexArray","onToolbarKeydown","event","isSkip","key","shiftKey","targetId","target","id","customItem","filter","toolItem","pdfViewer","element","length","preventDefault","stopPropagation","toolbarClickHandler","args","isKeyBoardEvent","originalEvent","pointerType","isDevice","enableDesktopMode","zoomDropdownItem","parentElement","childNodes","cancel","tooltipData","dataset","tooltipId","tooltipElement","document","getElementById","style","display","handleToolbarBtnClick","targetElement","item","currentPageBoxElement","textSearchItem","blur","pdfViewerBase","focusViewerContainer","loadDocument","upoadedFiles","files","uploadedFile","uploadedDocumentName","name","reader","FileReader","readAsDataURL","onload","e","uploadedFileUrl","currentTarget","result","_dotnetInstance","invokeMethodAsync","load","isSkipDocumentPath","documentPath","fileInputElement","value","navigateToPage","which","enteredValue","parseInt","pageCount","navigationModule","goToPage","updateCurrentPage","currentPageNumber","textBoxFocusOut","currentPageBox","prototype","intializeToolbar","width","toolbarDiv","createToolbar","querySelector","toolbarElement","isIE","documentMode","blazorUIAdaptor","totalPageElement","classList","add","totalPageItem","createFileElement","wireEvent","updateToolbarItems","applyToolbarSettings","initialEnableItems","navigationPane","adjustPane","annotationModule","annotationToolbarModule","initializeAnnotationToolbar","formDesignerModule","formDesignerToolbarModule","initializeFormDesignerToolbar","enableToolbar","bindOpenIconEvent","PanElement","children","SelectToolElement","CommentElement","enableAnnotationToolbar","afterAnnotationToolbarCreationInBlazor","openElement","addEventListener","openFileDialogBox","bind","InitializeMobileToolbarInBlazor","showToolbar","toolbar","toolbarModule","hideMobileAnnotationToolbar","toolbarHeight","toolbarCreated","adjustMobileViewer","propertyToolbar","showNavigationToolbar","enableNavigationToolbar","navigationToolbar","sideBarToolbar","navigationToolbarSplitter","sideBarToolbarSplitter","isBookmarkOpen","isThumbnailOpen","clear","updateViewerContainerOnClose","showAnnotationToolbar","isToolbarHidden","showToolbarItem","items","isVisible","i","showOpenOption","showPageNavigationTool","showMagnificationTool","showSelectionTool","showScrollingTool","showDownloadOption","showPrintOption","showSearchOption","showUndoRedoTool","showAnnotationEditTool","showFormDesignerEditTool","showCommentOption","showSubmitForm","applyHideToToolbar","endIndex","showSeparator","enableToolbarItem","isEnable","enableOpenOption","enablePageNavigationTool","enableMagnificationTool","enableSelectionTool","enableScrollingTool","enableDownloadOption","enablePrintOption","enableSearchOption","enableUndoRedoTool","enableAnnotationEditTool","enableFormDesignerEditTool","enableCommentsTool","DisableToolbarItems","restrictionSummary","initiateTextSelectMode","updateInteractionTools","initiatePanning","startIndex","enableStickyNotesAnnotation","enableItems","openDocumentItem","firstPageItem","previousPageItem","nextPageItem","lastPageItem","readonly","zoomInItem","zoomOutItem","zoomDropDown","textSelectItem","panItem","downloadItem","printItem","undoItem","redoItem","annotationItem","formDesignerItem","resetToolbar","min","updateTotalPage","destroy","commentsContainer","innerHTML","commentItem","updateUndoRedoButtons","updateNavigationButtons","magnificationModule","submitItem","getElement","deSelectItem","resetFormDesignerToolbar","obj","updateZoomButtons","updateInteractionItems","enableAnnotation","enableFormDesigner","textSearchModule","enableTextSearch","toolbarSettings","annotationToolbarItems","formDesignerToolbarItems","enableFormDesignerToolbar","enableDownload","enablePrint","moreOptionItem","isAnnotationToolbarOpen","annotationId","createAnnotationToolbarForMobile","zoomFactor","enableCollectionAvailableInBlazor","actionCollection","redoCollection","enableCollectionAvailable","disableUndoRedoButton","disableUndoRedoButtons","collection","updateUndoRedoButton","unWireEvent","destroyComponent","moreDropDown","removeChild","componentElement","destroyDependentComponent","component","ej2_instances","pageIndex","toString","pageChanged","mobileSpanContainer","mobilecurrentPageContainer","textContent","localeObj","getConstant","click","controlWidth","className","viewerMainContainer","appendChild","clicked","height","overflowMode","cssClass","createToolbarItems","created","createZoomDropdown","createNumericTextBox","refreshOverflow","isStringTemplate","enableRtl","appendTo","afterToolbarCreation","setAttribute","createToolbarItemsForMobile","afterToolbarCreationInMobile","applyToolbarSettingsForMobile","createCustomItem","j","toolbarItems","customToolbarItem","prefixIcon","template","text","push","align","type","currentPageInputTemplate","createCurrentPageInputTemplate","totalPageTemplate","createTotalPageTemplate","zoomDropDownTemplateString","createZoomDropdownElement","submitButton","defaultToolbarOrder","toolbarItemOrder","k","itemsContainer","addClassToolbarItem","createTooltip","addPropertiesToolItemContainer","minWidth","idString","tooltipText","spanElement","remove","textElement","contains","zoomDropdownElement","createToolbarItem","outerHTML","proxy","percent","dataSource","fields","popupHeight","showClearButton","open","openZoomDropdown","select","itemData","zoomDropDownChange","goToPageElement","format","showSpinButton","firstElementChild","createMoreOption","iconCss","dropdownButtonPosition","getBoundingClientRect","left","offsetWidth","download","createNavigationPaneMobile","beforeItemRender","bookmarkViewModule","bookmarks","close","elementName","toolbarItem","tooltip","content","opensOn","beforeOpen","onTooltipBeforeOpen","showTooltip","shapeToolbarElement","styles","attrs","toolbarOnMouseup","change","zoomPercentSelect","onZoomDropDownInput","onZoomDropDownInputClick","removeEventListener","onToolbarResize","viewerWidth","toolbarResize","show","isHide","index","hideItem","handleOpenIconClick","addInkAnnotation","deSelectCommentAnnotation","printModule","firePrintStart","undo","redo","goToFirstPage","goToPreviousPage","goToNextPage","goToLastPage","zoomIn","zoomOut","getStampMode","textSearchButtonHandler","initiateAnnotationMode","initiateFormDesignerMode","showHideDeleteIcon","isAddComment","isCommentIconAdded","deselectAllItems","annotation","triggerAnnotationUnselectEvent","addComments","data","exportFormFields","Json","fireCustomToolbarClickEvent","inkAnnotationModule","drawInkAnnotation","deselectInkAnnotation","inkAnnotationSelected","deselectAllItemsInBlazor","commentsButton","updateStampItems","stickyNotesAnnotationModule","drawIcons","toolbarData","fullscreen","fullscreenElement","tagName","setTimeout","popupElement","refreshPosition","trim","isInteracted","zoomText","updateZoomPercentage","isAutoZoom","zoomTo","parseFloat","focusOut","fitToWidth","fitToPage","fitToAuto","currentPercent","blazorZoomDropDown","isMinimumZoom","textSelectionModule","enableTextSelection","interactionMode","selectItem","showSearchBox","searchInputElement","focus","searchItem","isAnnotationToolbarVisible","isFormDesignerToolbarVisible","formDesignerMainDiv","showFormDesignerToolbar","adjustViewer","annotationMainDiv","commentPanel","closeCommentPanelContainer","DisableInteractionTools","isTextSelect","isBlazorPlatform","toolbarSettingsItems","indexOf","stampAnnotationModule","isStampAddMode","stampBeforeOpen","resetFreeTextAnnot","ParentItem","Text","customStampSettings","isAddToMenu","Items","currentElements","elements","customStampCollection","stampElements","customStamps","n","customStampName","customStampImageSource","m","stampBeforeClose","showItemOnClick","isNewStampAnnot","selectedItems","annotations","clearSelection","renderDrawing","isAlreadyAdded","stampSelect","stampParentID","Item","checkStampAnnotations","stampImage","position","top","visibility","body","addStampImage","isStampAnnotSelected","stampAdded","createCustomStampAnnotation","isDynamicStamp","retrieveDynamicStampAnnotation","retrievestampAnnotation","getModuleName"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/node_modules/@syncfusion/ej2-pdfviewer/src/pdfviewer/toolbar/toolbar.js"],"sourcesContent":["/* eslint-disable */\nimport { createElement, Browser, isBlazor, isNullOrUndefined, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { AnnotationToolbar } from '../index';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { FormFieldDataFormat } from '../base/types';\nimport { FormDesignerToolbar } from './formdesigner-toolbar';\n/**\n * Toolbar module\n */\nvar Toolbar = /** @class */ (function () {\n    /**\n     * @param viewer\n     * @param viewerBase\n     * @param viewer\n     * @param viewerBase\n     * @private\n     */\n    function Toolbar(viewer, viewerBase) {\n        var _this = this;\n        this.isPageNavigationToolDisabled = false;\n        this.isMagnificationToolDisabled = false;\n        /**\n         * @private\n        */\n        this.isSelectionToolDisabled = false;\n        this.isScrollingToolDisabled = false;\n        this.isOpenBtnVisible = true;\n        this.isNavigationToolVisible = true;\n        this.isMagnificationToolVisible = true;\n        this.isSelectionBtnVisible = true;\n        this.isScrollingBtnVisible = true;\n        this.isDownloadBtnVisible = true;\n        this.isPrintBtnVisible = true;\n        this.isSearchBtnVisible = true;\n        this.isTextSearchBoxDisplayed = false;\n        this.isUndoRedoBtnsVisible = true;\n        this.isAnnotationEditBtnVisible = true;\n        this.isFormDesignerEditBtnVisible = true;\n        this.isCommentBtnVisible = true;\n        this.isSubmitbtnvisible = true;\n        this.toolItems = [];\n        this.itemsIndexArray = [];\n        this.onToolbarKeydown = function (event) {\n            // eslint-disable-next-line max-len\n            var isSkip = event.key === 'Tab' || event.shiftKey === true || event.key === 'Enter' || event.key === ' ' || event.key === 'ArrowUp' || event.key === 'ArrowDown' || event.key === 'ArrowLeft' || event.key === 'ArrowRight';\n            var targetId = event.target.id;\n            var customItem = _this.toolItems.filter(function (toolItem) { return toolItem.id === targetId; });\n            if (!(targetId === _this.pdfViewer.element.id + '_currentPageInput' || targetId === _this.pdfViewer.element.id + '_zoomDropDown' || customItem.length > 0) && !isSkip) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        };\n        this.toolbarClickHandler = function (args) {\n            // eslint-disable-next-line max-len\n            var isKeyBoardEvent = args.originalEvent && args.originalEvent.pointerType !== 'mouse' && args.originalEvent.pointerType !== 'touch';\n            if (!Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n                if (args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2]) {\n                    args.cancel = true;\n                }\n                else if (args.originalEvent.target.id === _this.pdfViewer.element.id + '_openIcon') {\n                    var tooltipData = args.originalEvent.target.parentElement.dataset;\n                    if (tooltipData && tooltipData.tooltipId) {\n                        var tooltipElement = document.getElementById(tooltipData.tooltipId);\n                        if (tooltipElement) {\n                            tooltipElement.style.display = 'none';\n                        }\n                    }\n                }\n            }\n            _this.handleToolbarBtnClick(args, isKeyBoardEvent);\n            // eslint-disable-next-line\n            var targetElement = args.originalEvent.target;\n            var customItem = [];\n            if (!isNullOrUndefined(args.item)) {\n                customItem = _this.toolItems.filter(function (toolItem) { return toolItem.id === args.item.id; });\n            }\n            if (!Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n                // eslint-disable-next-line max-len\n                if (!(args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2] || args.originalEvent.target === _this.currentPageBoxElement || args.originalEvent.target === _this.textSearchItem.childNodes[0] || customItem.length > 0)) {\n                    if (!isKeyBoardEvent && targetElement.parentElement.id !== _this.pdfViewer.element.id + '_toolbarContainer_nav' && targetElement.id !== _this.pdfViewer.element.id + '_toolbarContainer_nav') {\n                        args.originalEvent.target.blur();\n                        _this.pdfViewerBase.focusViewerContainer();\n                    }\n                }\n            }\n            else {\n                args.originalEvent.target.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        };\n        // eslint-disable-next-line\n        this.loadDocument = function (args) {\n            // eslint-disable-next-line\n            var upoadedFiles = args.target.files;\n            if (args.target.files[0] !== null) {\n                var uploadedFile = upoadedFiles[0];\n                if (uploadedFile) {\n                    _this.uploadedDocumentName = uploadedFile.name;\n                    var reader = new FileReader();\n                    reader.readAsDataURL(uploadedFile);\n                    // eslint-disable-next-line\n                    reader.onload = function (e) {\n                        var uploadedFileUrl = e.currentTarget.result;\n                        if (isBlazor()) {\n                            _this.pdfViewer._dotnetInstance.invokeMethodAsync(\"LoadDocumentFromClient\", uploadedFileUrl);\n                        }\n                        else {\n                            _this.uploadedFile = uploadedFileUrl;\n                            _this.pdfViewer.load(uploadedFileUrl, null);\n                            _this.pdfViewerBase.isSkipDocumentPath = true;\n                            _this.pdfViewer.documentPath = uploadedFileUrl;\n                        }\n                        if (!isNullOrUndefined(_this.fileInputElement)) {\n                            _this.fileInputElement.value = '';\n                        }\n                    };\n                }\n            }\n        };\n        this.navigateToPage = function (args) {\n            if (args.which === 13) {\n                // eslint-disable-next-line\n                var enteredValue = parseInt(_this.currentPageBoxElement.value);\n                if (enteredValue !== null) {\n                    if (enteredValue > 0 && enteredValue <= _this.pdfViewerBase.pageCount) {\n                        if (_this.pdfViewer.navigationModule) {\n                            _this.pdfViewer.navigationModule.goToPage(enteredValue);\n                        }\n                    }\n                    else {\n                        _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n                    }\n                }\n                else {\n                    _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n                }\n                _this.currentPageBoxElement.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        };\n        this.textBoxFocusOut = function () {\n            // eslint-disable-next-line\n            if (_this.currentPageBox.value === null || _this.currentPageBox.value >= _this.pdfViewerBase.pageCount || _this.currentPageBox.value !== _this.pdfViewerBase.currentPageNumber) {\n                _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n            }\n        };\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = viewerBase;\n    }\n    /**\n     * @param width\n     * @private\n     */\n    Toolbar.prototype.intializeToolbar = function (width) {\n        var toolbarDiv;\n        if (!isBlazor()) {\n            toolbarDiv = this.createToolbar(width);\n        }\n        else {\n            if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                toolbarDiv = this.pdfViewer.element.querySelector('.e-pv-toolbar');\n                this.toolbarElement = toolbarDiv;\n            }\n        }\n        // eslint-disable-next-line\n        var isIE = !!document.documentMode;\n        if (isIE) {\n            if (isBlazor()) {\n                this.pdfViewerBase.blazorUIAdaptor.totalPageElement.classList.add('e-pv-total-page-ms');\n            }\n            else {\n                if (!Browser.isDevice) {\n                    this.totalPageItem.classList.add('e-pv-total-page-ms');\n                }\n            }\n        }\n        this.createFileElement(toolbarDiv);\n        this.wireEvent();\n        if (!isBlazor()) {\n            this.updateToolbarItems();\n            if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                this.applyToolbarSettings();\n                this.initialEnableItems();\n                this.pdfViewerBase.navigationPane.adjustPane();\n            }\n            else {\n                this.initialEnableItems();\n            }\n            if (this.pdfViewer.annotationModule) {\n                this.annotationToolbarModule = new AnnotationToolbar(this.pdfViewer, this.pdfViewerBase, this);\n                if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                    this.annotationToolbarModule.initializeAnnotationToolbar();\n                }\n            }\n            if (this.pdfViewer.formDesignerModule) {\n                this.formDesignerToolbarModule = new FormDesignerToolbar(this.pdfViewer, this.pdfViewerBase, this);\n                if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                    this.formDesignerToolbarModule.initializeFormDesignerToolbar();\n                }\n            }\n        }\n        else {\n            if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                this.initialEnableItems();\n                this.pdfViewerBase.navigationPane.adjustPane();\n                if (this.pdfViewer.enableToolbar) {\n                    this.bindOpenIconEvent();\n                }\n            }\n            this.PanElement = document.getElementById(this.pdfViewer.element.id + '_handTool').children[0];\n            this.PanElement.classList.add('e-pv-tbar-btn');\n            this.SelectToolElement = document.getElementById(this.pdfViewer.element.id + '_selectTool').children[0];\n            this.SelectToolElement.classList.add('e-pv-tbar-btn');\n            this.CommentElement = document.getElementById(this.pdfViewer.element.id + '_comment').children[0];\n            this.CommentElement.classList.add('e-pv-tbar-btn');\n            this.annotationToolbarModule = new AnnotationToolbar(this.pdfViewer, this.pdfViewerBase, this);\n            if (this.pdfViewer.enableToolbar && this.pdfViewer.enableAnnotationToolbar || (this.pdfViewer.enableDesktopMode && Browser.isDevice)) {\n                this.annotationToolbarModule.afterAnnotationToolbarCreationInBlazor();\n            }\n        }\n        return toolbarDiv;\n    };\n    Toolbar.prototype.bindOpenIconEvent = function () {\n        var openElement = document.getElementById(this.pdfViewer.element.id + '_open');\n        if (openElement) {\n            openElement.addEventListener('click', this.openFileDialogBox.bind(this));\n        }\n    };\n    Toolbar.prototype.InitializeMobileToolbarInBlazor = function () {\n        var toolbarDiv;\n        toolbarDiv = this.pdfViewer.element.querySelector('.e-pv-mobile-toolbar');\n        this.createFileElement(toolbarDiv);\n        this.wireEvent();\n    };\n    /**\n     * Shows /hides the toolbar in the PdfViewer\n     *\n     * @param  {boolean} enableToolbar - If set true , its show the Toolbar\n     * @returns void\n     */\n    Toolbar.prototype.showToolbar = function (enableToolbar) {\n        var toolbar = this.toolbarElement;\n        if (enableToolbar) {\n            toolbar.style.display = 'block';\n            // eslint-disable-next-line max-len\n            if ((Browser.isDevice && !this.pdfViewer.enableDesktopMode) && this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.annotationToolbarModule) {\n                this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar();\n            }\n        }\n        else {\n            this.pdfViewerBase.toolbarHeight = 0;\n            if (enableToolbar) {\n                if (Browser.isDevice && this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar) {\n                    this.annotationToolbarModule.toolbarCreated = false;\n                    this.annotationToolbarModule.adjustMobileViewer();\n                    this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display = 'none';\n                }\n                if (Browser.isDevice && this.annotationToolbarModule.propertyToolbar) {\n                    this.annotationToolbarModule.propertyToolbar.element.style.display = 'none';\n                }\n            }\n            toolbar.style.display = 'none';\n        }\n    };\n    /**\n     * Shows/hides the Navigation toolbar in the PdfViewer\n     *\n     * @param  {boolean} enableNavigationToolbar - If set true , its show the Navigation Toolbar\n     * @returns void\n     */\n    Toolbar.prototype.showNavigationToolbar = function (enableNavigationToolbar) {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            var navigationToolbar = this.pdfViewerBase.navigationPane.sideBarToolbar;\n            var navigationToolbarSplitter = this.pdfViewerBase.navigationPane.sideBarToolbarSplitter;\n            if (enableNavigationToolbar) {\n                navigationToolbar.style.display = 'block';\n                navigationToolbarSplitter.style.display = 'block';\n                if (this.pdfViewerBase.navigationPane.isBookmarkOpen || this.pdfViewerBase.navigationPane.isThumbnailOpen) {\n                    this.pdfViewerBase.navigationPane.clear();\n                }\n            }\n            else {\n                navigationToolbar.style.display = 'none';\n                navigationToolbarSplitter.style.display = 'none';\n                if (this.pdfViewerBase.navigationPane.isBookmarkOpen || this.pdfViewerBase.navigationPane.isThumbnailOpen) {\n                    this.pdfViewerBase.navigationPane.updateViewerContainerOnClose();\n                }\n            }\n        }\n    };\n    /**\n     * Shows /hides the annotation toolbar in the PdfViewer\n     *\n     * @param  {boolean} enableAnnotationToolbar - If set true , its show the annotation Toolbar\n     * @returns void\n     */\n    Toolbar.prototype.showAnnotationToolbar = function (enableAnnotationToolbar) {\n        if (enableAnnotationToolbar) {\n            this.annotationToolbarModule.isToolbarHidden = true;\n            this.annotationToolbarModule.showAnnotationToolbar();\n        }\n        else {\n            this.annotationToolbarModule.isToolbarHidden = false;\n            this.annotationToolbarModule.showAnnotationToolbar();\n        }\n    };\n    /**\n     * Shows /hides the the toolbar items in the PdfViewer\n     *\n     * @param  {string[]} items - Defines the toolbar items in the toolbar\n     * @param  {boolean} isVisible - If set true, then its show the toolbar Items\n     * @returns void\n     */\n    Toolbar.prototype.showToolbarItem = function (items, isVisible) {\n        for (var i = 0; i < items.length; i++) {\n            switch (items[i]) {\n                case 'OpenOption':\n                    this.showOpenOption(isVisible);\n                    break;\n                case 'PageNavigationTool':\n                    this.showPageNavigationTool(isVisible);\n                    break;\n                case 'MagnificationTool':\n                    this.showMagnificationTool(isVisible);\n                    break;\n                case 'SelectionTool':\n                    this.showSelectionTool(isVisible);\n                    break;\n                case 'PanTool':\n                    this.showScrollingTool(isVisible);\n                    break;\n                case 'DownloadOption':\n                    this.showDownloadOption(isVisible);\n                    break;\n                case 'PrintOption':\n                    this.showPrintOption(isVisible);\n                    break;\n                case 'SearchOption':\n                    this.showSearchOption(isVisible);\n                    break;\n                case 'UndoRedoTool':\n                    this.showUndoRedoTool(isVisible);\n                    break;\n                case 'AnnotationEditTool':\n                    this.showAnnotationEditTool(isVisible);\n                    break;\n                case 'FormDesignerEditTool':\n                    this.showFormDesignerEditTool(isVisible);\n                    break;\n                case 'CommentTool':\n                    this.showCommentOption(isVisible);\n                    break;\n                case 'SubmitForm':\n                    this.showSubmitForm(isVisible);\n                    break;\n            }\n        }\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.applyHideToToolbar(true, this.itemsIndexArray[0].endIndex + 1, this.itemsIndexArray[0].endIndex + 1);\n            this.applyHideToToolbar(true, this.itemsIndexArray[1].endIndex + 1, this.itemsIndexArray[1].endIndex + 1);\n            this.applyHideToToolbar(true, this.itemsIndexArray[2].endIndex + 1, this.itemsIndexArray[2].endIndex + 1);\n            this.applyHideToToolbar(true, this.itemsIndexArray[4].endIndex + 1, this.itemsIndexArray[4].endIndex + 1);\n            this.applyHideToToolbar(true, this.itemsIndexArray[5].endIndex + 1, this.itemsIndexArray[5].endIndex + 1);\n        }\n        else {\n            this.applyHideToToolbar(true, 1, 1);\n            this.applyHideToToolbar(true, 8, 8);\n            this.applyHideToToolbar(true, 12, 12);\n            this.applyHideToToolbar(true, 15, 15);\n        }\n        this.showSeparator(items);\n    };\n    /**\n     * Enables /disables the the toolbar items in the PdfViewer\n     *\n     * @param  {string[]} items - Defines the toolbar items in the toolbar\n     * @param  {boolean} isEnable - If set true, then its Enable the toolbar Items\n     * @returns void\n     */\n    Toolbar.prototype.enableToolbarItem = function (items, isEnable) {\n        for (var i = 0; i < items.length; i++) {\n            switch (items[i]) {\n                case 'OpenOption':\n                    this.enableOpenOption(isEnable);\n                    break;\n                case 'PageNavigationTool':\n                    this.isPageNavigationToolDisabled = isEnable;\n                    this.enablePageNavigationTool(isEnable);\n                    break;\n                case 'MagnificationTool':\n                    this.isMagnificationToolDisabled = isEnable;\n                    this.enableMagnificationTool(isEnable);\n                    break;\n                case 'SelectionTool':\n                    this.isSelectionToolDisabled = isEnable;\n                    this.enableSelectionTool(isEnable);\n                    break;\n                case 'PanTool':\n                    this.isScrollingToolDisabled = isEnable;\n                    this.enableScrollingTool(isEnable);\n                    break;\n                case 'DownloadOption':\n                    this.enableDownloadOption(isEnable);\n                    break;\n                case 'PrintOption':\n                    this.enablePrintOption(isEnable);\n                    break;\n                case 'SearchOption':\n                    this.enableSearchOption(isEnable);\n                    break;\n                case 'UndoRedoTool':\n                    this.enableUndoRedoTool(isEnable);\n                    break;\n                case 'AnnotationEditTool':\n                    this.enableAnnotationEditTool(isEnable);\n                    break;\n                case 'FormDesignerEditTool':\n                    this.enableFormDesignerEditTool(isEnable);\n                    break;\n                case 'CommentTool':\n                    this.enableCommentsTool(isEnable);\n                    break;\n            }\n        }\n    };\n    /**\n     * @param restrictionSummary\n     * @param isEnable\n     * @param restrictionSummary\n     * @param isEnable\n     * @private\n     */\n    // eslint-disable-next-line\n    Toolbar.prototype.DisableToolbarItems = function (restrictionSummary, isEnable) {\n        switch (restrictionSummary) {\n            case 'Print':\n                this.enablePrintOption(isEnable);\n                break;\n            case 'CopyContent':\n                this.isSelectionToolDisabled = isEnable;\n                this.enableSelectionTool(isEnable);\n                if (isEnable) {\n                    this.pdfViewerBase.initiateTextSelectMode();\n                    this.updateInteractionTools(isEnable);\n                }\n                else {\n                    this.pdfViewerBase.initiatePanning();\n                    this.updateInteractionTools(isEnable);\n                }\n                break;\n            case 'EditAnnotations':\n                this.enableAnnotationEditTool(isEnable);\n                if (this.annotationToolbarModule && !this.annotationToolbarModule.isToolbarHidden) {\n                    this.annotationToolbarModule.showAnnotationToolbar();\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.showOpenOption = function (enableOpenOption) {\n        this.isOpenBtnVisible = enableOpenOption;\n        //For mobile devices, the default previous value for OpenOption has been passed as (0,0).\n        // eslint-disable-next-line max-len\n        this.applyHideToToolbar(enableOpenOption, !isNullOrUndefined(this.itemsIndexArray[0]) ? this.itemsIndexArray[0].startIndex : 0, !isNullOrUndefined(this.itemsIndexArray[0]) ? this.itemsIndexArray[0].endIndex : 0);\n    };\n    Toolbar.prototype.showPageNavigationTool = function (enablePageNavigationTool) {\n        this.isNavigationToolVisible = enablePageNavigationTool;\n        //For mobile devices, the default previous value for PageNavigationTool has been passed as (2,7).\n        // eslint-disable-next-line max-len\n        this.applyHideToToolbar(enablePageNavigationTool, !isNullOrUndefined(this.itemsIndexArray[1]) ? this.itemsIndexArray[1].startIndex : 2, !isNullOrUndefined(this.itemsIndexArray[1]) ? this.itemsIndexArray[1].endIndex : 7);\n    };\n    Toolbar.prototype.showMagnificationTool = function (enableMagnificationTool) {\n        this.isMagnificationToolVisible = enableMagnificationTool;\n        //For mobile devices, the default previous value for MagnificationTool has been passed as (9,11).\n        // eslint-disable-next-line max-len\n        this.applyHideToToolbar(enableMagnificationTool, !isNullOrUndefined(this.itemsIndexArray[2]) ? this.itemsIndexArray[2].startIndex : 9, !isNullOrUndefined(this.itemsIndexArray[2]) ? this.itemsIndexArray[2].endIndex : 11);\n    };\n    Toolbar.prototype.showSelectionTool = function (enableSelectionTool) {\n        this.isSelectionBtnVisible = enableSelectionTool;\n        //For mobile devices, the default previous value for SelectionTool has been passed as (13,13).\n        // eslint-disable-next-line max-len\n        this.applyHideToToolbar(enableSelectionTool, !isNullOrUndefined(this.itemsIndexArray[3]) ? this.itemsIndexArray[3].startIndex : 13, !isNullOrUndefined(this.itemsIndexArray[3]) ? this.itemsIndexArray[3].endIndex : 13);\n    };\n    Toolbar.prototype.showScrollingTool = function (enableScrollingTool) {\n        this.isScrollingBtnVisible = enableScrollingTool;\n        //For mobile devices, the default previous value for ScrollingTool has been passed as (14,14).\n        // eslint-disable-next-line max-len\n        this.applyHideToToolbar(enableScrollingTool, !isNullOrUndefined(this.itemsIndexArray[4]) ? this.itemsIndexArray[4].startIndex : 14, !isNullOrUndefined(this.itemsIndexArray[4]) ? this.itemsIndexArray[4].endIndex : 14);\n    };\n    Toolbar.prototype.showDownloadOption = function (enableDownloadOption) {\n        this.isDownloadBtnVisible = enableDownloadOption;\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            //The itemsIndexArray is null, the default previous value for DownloadOption has been passed as (26,26).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(enableDownloadOption, !isNullOrUndefined(this.itemsIndexArray[12]) ? this.itemsIndexArray[12].startIndex : 26, !isNullOrUndefined(this.itemsIndexArray[12]) ? this.itemsIndexArray[12].endIndex : 26);\n        }\n        else {\n            this.applyHideToToolbar(enableDownloadOption, 5, 5);\n        }\n    };\n    Toolbar.prototype.showPrintOption = function (enablePrintOption) {\n        this.isPrintBtnVisible = enablePrintOption;\n        //For mobile devices, the default previous value for PrintOption has been passed as (25,25).\n        // eslint-disable-next-line max-len\n        this.applyHideToToolbar(enablePrintOption, !isNullOrUndefined(this.itemsIndexArray[11]) ? this.itemsIndexArray[11].startIndex : 25, !isNullOrUndefined(this.itemsIndexArray[11]) ? this.itemsIndexArray[11].endIndex : 25);\n    };\n    Toolbar.prototype.showSearchOption = function (enableSearchOption) {\n        this.isSearchBtnVisible = enableSearchOption;\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            //The itemsIndexArray is null, the default previous value for SearchOption has been passed as (22,22).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(enableSearchOption, !isNullOrUndefined(this.itemsIndexArray[8]) ? this.itemsIndexArray[8].startIndex : 22, !isNullOrUndefined(this.itemsIndexArray[8]) ? this.itemsIndexArray[8].endIndex : 22);\n        }\n        else {\n            this.applyHideToToolbar(enableSearchOption, 5, 5);\n        }\n    };\n    Toolbar.prototype.showUndoRedoTool = function (isEnable) {\n        this.isUndoRedoBtnsVisible = isEnable;\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            //The itemsIndexArray is null, the default previous value for PageNavigationTool has been passed as (16,17).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[5]) ? this.itemsIndexArray[5].startIndex : 16, !isNullOrUndefined(this.itemsIndexArray[5]) ? this.itemsIndexArray[5].endIndex : 17);\n        }\n        else {\n            this.applyHideToToolbar(isEnable, 2, 3);\n        }\n    };\n    Toolbar.prototype.showCommentOption = function (isEnable) {\n        if (!this.pdfViewer.enableStickyNotesAnnotation) {\n            this.isCommentBtnVisible = isEnable;\n            //For mobile devices, the default previous value for CommentOption has been passed as (18,19).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(this.pdfViewer.enableStickyNotesAnnotation, !isNullOrUndefined(this.itemsIndexArray[6]) ? this.itemsIndexArray[6].startIndex : 18, !isNullOrUndefined(this.itemsIndexArray[6]) ? this.itemsIndexArray[6].endIndex : 19);\n        }\n        else {\n            this.isCommentBtnVisible = isEnable;\n            //For mobile devices, the default previous value for CommentOption has been passed as (18,19).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[6]) ? this.itemsIndexArray[6].startIndex : 18, !isNullOrUndefined(this.itemsIndexArray[6]) ? this.itemsIndexArray[6].endIndex : 19);\n        }\n    };\n    Toolbar.prototype.showAnnotationEditTool = function (isEnable) {\n        this.isAnnotationEditBtnVisible = isEnable;\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            //The itemsIndexArray is null, the default previous value for AnnotationEditTool has been passed as (23,23).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[9]) ? this.itemsIndexArray[9].startIndex : 23, !isNullOrUndefined(this.itemsIndexArray[9]) ? this.itemsIndexArray[9].endIndex : 23);\n        }\n        else {\n            this.applyHideToToolbar(isEnable, 4, 4);\n        }\n    };\n    Toolbar.prototype.showFormDesignerEditTool = function (isEnable) {\n        this.isFormDesignerEditBtnVisible = isEnable;\n        //For mobile devices, the default previous value for FormDesignerEditTool has been passed as (24,24).\n        // eslint-disable-next-line max-len\n        this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[10]) ? this.itemsIndexArray[10].startIndex : 24, !isNullOrUndefined(this.itemsIndexArray[10]) ? this.itemsIndexArray[10].endIndex : 24);\n    };\n    Toolbar.prototype.showSubmitForm = function (isEnable) {\n        this.isSubmitbtnvisible = isEnable;\n        //For mobile devices, the default previous value for SubmitForm has been passed as (20,21).\n        // eslint-disable-next-line max-len\n        this.applyHideToToolbar(isEnable, !isNullOrUndefined(this.itemsIndexArray[7]) ? this.itemsIndexArray[7].startIndex : 20, !isNullOrUndefined(this.itemsIndexArray[7]) ? this.itemsIndexArray[7].endIndex : 21);\n    };\n    Toolbar.prototype.enableOpenOption = function (enableOpenOption) {\n        this.enableItems(this.openDocumentItem.parentElement, enableOpenOption);\n    };\n    Toolbar.prototype.enablePageNavigationTool = function (enablePageNavigationTool) {\n        this.enableItems(this.firstPageItem.parentElement, enablePageNavigationTool);\n        this.enableItems(this.previousPageItem.parentElement, enablePageNavigationTool);\n        this.enableItems(this.nextPageItem.parentElement, enablePageNavigationTool);\n        this.enableItems(this.lastPageItem.parentElement, enablePageNavigationTool);\n        this.currentPageBox.readonly = !enablePageNavigationTool;\n    };\n    Toolbar.prototype.enableMagnificationTool = function (enableMagnificationTool) {\n        this.enableItems(this.zoomInItem.parentElement, enableMagnificationTool);\n        this.enableItems(this.zoomOutItem.parentElement, enableMagnificationTool);\n        this.zoomDropDown.readonly = !enableMagnificationTool;\n    };\n    Toolbar.prototype.enableSelectionTool = function (enableSelectionTool) {\n        if (this.textSelectItem && this.textSelectItem.parentElement) {\n            this.enableItems(this.textSelectItem.parentElement, enableSelectionTool);\n        }\n    };\n    Toolbar.prototype.enableScrollingTool = function (enableScrollingTool) {\n        this.enableItems(this.panItem.parentElement, enableScrollingTool);\n    };\n    Toolbar.prototype.enableDownloadOption = function (enableDownloadOption) {\n        this.enableItems(this.downloadItem.parentElement, enableDownloadOption);\n    };\n    Toolbar.prototype.enablePrintOption = function (enablePrintOption) {\n        this.enableItems(this.printItem.parentElement, enablePrintOption);\n    };\n    Toolbar.prototype.enableSearchOption = function (enableSearchOption) {\n        this.enableItems(this.textSearchItem.parentElement, enableSearchOption);\n    };\n    Toolbar.prototype.enableUndoRedoTool = function (isEnable) {\n        this.enableItems(this.undoItem.parentElement, isEnable);\n        this.enableItems(this.redoItem.parentElement, isEnable);\n    };\n    Toolbar.prototype.enableAnnotationEditTool = function (isEnable) {\n        this.enableItems(this.annotationItem.parentElement, isEnable);\n    };\n    Toolbar.prototype.enableFormDesignerEditTool = function (isEnable) {\n        this.enableItems(this.formDesignerItem.parentElement, isEnable);\n    };\n    Toolbar.prototype.enableCommentsTool = function (isEnable) {\n        if (this.pdfViewer.enableStickyNotesAnnotation) {\n            this.enableItems(this.annotationItem.parentElement, isEnable);\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.resetToolbar = function () {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (!isNullOrUndefined(this.currentPageBox)) {\n                this.currentPageBox.min = 0;\n                this.currentPageBox.value = 0;\n            }\n            this.updateTotalPage();\n            this.updateToolbarItems();\n            if (this.annotationToolbarModule) {\n                this.annotationToolbarModule.clear();\n            }\n            else {\n                if (this.annotationToolbarModule) {\n                    if (this.annotationToolbarModule.propertyToolbar) {\n                        this.annotationToolbarModule.propertyToolbar.destroy();\n                    }\n                    // eslint:disable-next-line\n                    var commentsContainer = document.getElementById(this.pdfViewer.element.id + '_commentscontentcontainer');\n                    if (commentsContainer) {\n                        commentsContainer.innerHTML = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateToolbarItems = function () {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (this.toolbar) {\n                if (this.pdfViewerBase.pageCount === 0) {\n                    this.enableItems(this.downloadItem.parentElement, false);\n                    this.enableItems(this.printItem.parentElement, false);\n                    this.enableItems(this.commentItem.parentElement, false);\n                    this.updateUndoRedoButtons();\n                    this.updateNavigationButtons();\n                    this.enableItems(this.zoomInItem.parentElement, false);\n                    this.enableItems(this.zoomOutItem.parentElement, false);\n                    if (this.pdfViewer.magnificationModule) {\n                        this.zoomDropDown.readonly = true;\n                    }\n                    this.enableItems(this.submitItem.parentElement, false);\n                    this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), false);\n                    this.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), false);\n                    this.enableItems(this.textSelectItem.parentElement, false);\n                    this.enableItems(this.annotationItem.parentElement, false);\n                    this.enableItems(this.formDesignerItem.parentElement, false);\n                    this.enableItems(this.panItem.parentElement, false);\n                    this.enableItems(this.textSearchItem.parentElement, false);\n                    this.deSelectItem(this.annotationItem);\n                    if (this.annotationToolbarModule) {\n                        this.annotationToolbarModule.resetToolbar();\n                    }\n                    this.deSelectItem(this.formDesignerItem);\n                    if (this.formDesignerToolbarModule) {\n                        this.formDesignerToolbarModule.resetFormDesignerToolbar();\n                    }\n                }\n                else if (this.pdfViewerBase.pageCount > 0) {\n                    var obj = this.pdfViewerBase.getElement('_currentPageInputContainer');\n                    if (obj) {\n                        this.enableItems(this.downloadItem.parentElement, true);\n                        this.enableItems(this.printItem.parentElement, true);\n                        this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), true);\n                        this.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), true);\n                        this.updateUndoRedoButtons();\n                        this.updateNavigationButtons();\n                        this.updateZoomButtons();\n                        if (this.pdfViewer.magnificationModule) {\n                            this.zoomDropDown.readonly = false;\n                        }\n                        this.updateInteractionItems();\n                        // modify this condition if new annotation types are added.\n                        if (this.pdfViewer.annotationModule && this.pdfViewer.enableAnnotation) {\n                            this.enableItems(this.annotationItem.parentElement, true);\n                        }\n                        if (this.pdfViewer.formDesignerModule && this.pdfViewer.enableFormDesigner) {\n                            this.enableItems(this.formDesignerItem.parentElement, true);\n                        }\n                        if (this.pdfViewer.textSearchModule && this.pdfViewer.enableTextSearch) {\n                            this.enableItems(this.textSearchItem.parentElement, true);\n                        }\n                        if (this.pdfViewer.annotationModule && this.pdfViewer.enableStickyNotesAnnotation) {\n                            this.enableItems(this.commentItem.parentElement, true);\n                        }\n                    }\n                }\n                if (this.pdfViewer.toolbarSettings.annotationToolbarItems) {\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.toolbarSettings.annotationToolbarItems.length === 0 || !this.pdfViewer.annotationModule || !this.pdfViewer.enableAnnotationToolbar) {\n                        this.enableToolbarItem(['AnnotationEditTool'], false);\n                    }\n                }\n                if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems) {\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.length === 0 || !this.pdfViewer.formDesignerModule || !this.pdfViewer.enableFormDesignerToolbar) {\n                        this.enableToolbarItem(['FormDesignerEditTool'], false);\n                    }\n                }\n                if (!this.pdfViewer.enableDownload) {\n                    this.enableDownloadOption(false);\n                }\n                if (!this.pdfViewer.enablePrint) {\n                    this.enablePrintOption(false);\n                }\n            }\n        }\n        else {\n            if (this.pdfViewerBase.pageCount === 0) {\n                this.enableItems(this.textSearchItem.parentElement, false);\n                this.enableItems(this.moreOptionItem.parentElement, false);\n                this.enableItems(this.annotationItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.pageCount > 0) {\n                this.enableItems(this.textSearchItem.parentElement, true);\n                this.enableItems(this.moreOptionItem.parentElement, true);\n                if (this.pdfViewer.annotationModule && this.pdfViewer.enableAnnotation) {\n                    this.enableItems(this.annotationItem.parentElement, true);\n                }\n                if (!this.pdfViewer.annotationModule || !this.pdfViewer.enableAnnotationToolbar) {\n                    this.enableToolbarItem(['AnnotationEditTool'], false);\n                }\n                this.updateUndoRedoButtons();\n                if (this.pdfViewer && this.pdfViewer.element && this.pdfViewer.element.id && this.pdfViewer.isAnnotationToolbarOpen) {\n                    var annotationId = this.pdfViewer.element.id + '_annotationIcon';\n                    this.annotationToolbarModule.createAnnotationToolbarForMobile(annotationId);\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateNavigationButtons = function () {\n        if (this.pdfViewer.navigationModule && !this.isPageNavigationToolDisabled) {\n            if (this.pdfViewerBase.pageCount === 0 || (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount === 1)) {\n                this.enableItems(this.firstPageItem.parentElement, false);\n                this.enableItems(this.previousPageItem.parentElement, false);\n                this.enableItems(this.nextPageItem.parentElement, false);\n                this.enableItems(this.lastPageItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount > 0) {\n                this.enableItems(this.firstPageItem.parentElement, false);\n                this.enableItems(this.previousPageItem.parentElement, false);\n                this.enableItems(this.nextPageItem.parentElement, true);\n                this.enableItems(this.lastPageItem.parentElement, true);\n            }\n            else if (this.pdfViewerBase.currentPageNumber === this.pdfViewerBase.pageCount && this.pdfViewerBase.pageCount > 0) {\n                this.enableItems(this.firstPageItem.parentElement, true);\n                this.enableItems(this.previousPageItem.parentElement, true);\n                this.enableItems(this.nextPageItem.parentElement, false);\n                this.enableItems(this.lastPageItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.currentPageNumber > 1 && this.pdfViewerBase.currentPageNumber < this.pdfViewerBase.pageCount) {\n                this.enableItems(this.firstPageItem.parentElement, true);\n                this.enableItems(this.previousPageItem.parentElement, true);\n                this.enableItems(this.nextPageItem.parentElement, true);\n                this.enableItems(this.lastPageItem.parentElement, true);\n            }\n        }\n        else {\n            this.enableItems(this.firstPageItem.parentElement, false);\n            this.enableItems(this.previousPageItem.parentElement, false);\n            this.enableItems(this.nextPageItem.parentElement, false);\n            this.enableItems(this.lastPageItem.parentElement, false);\n            this.currentPageBox.readonly = true;\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateZoomButtons = function () {\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.magnificationModule && !this.isMagnificationToolDisabled && (!Browser.isDevice || this.pdfViewer.enableDesktopMode)) {\n            if (this.pdfViewer.magnificationModule.zoomFactor <= 0.1) {\n                this.enableItems(this.zoomInItem.parentElement, true);\n                this.enableItems(this.zoomOutItem.parentElement, false);\n            }\n            else if (this.pdfViewer.magnificationModule.zoomFactor >= 4) {\n                this.enableItems(this.zoomInItem.parentElement, false);\n                this.enableItems(this.zoomOutItem.parentElement, true);\n            }\n            else {\n                this.enableItems(this.zoomInItem.parentElement, true);\n                this.enableItems(this.zoomOutItem.parentElement, true);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateUndoRedoButtons = function () {\n        if (this.pdfViewer.annotationModule) {\n            if (this.pdfViewerBase.pageCount > 0) {\n                if (isBlazor()) {\n                    this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.actionCollection, 'undo');\n                    this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.redoCollection, 'redo');\n                }\n                else {\n                    if (!isNullOrUndefined(this.undoItem) && !isNullOrUndefined(this.undoItem.parentElement)) {\n                        this.enableCollectionAvailable(this.pdfViewer.annotationModule.actionCollection, this.undoItem.parentElement);\n                    }\n                    if (!isNullOrUndefined(this.redoItem) && !isNullOrUndefined(this.redoItem.parentElement)) {\n                        this.enableCollectionAvailable(this.pdfViewer.annotationModule.redoCollection, this.redoItem.parentElement);\n                    }\n                }\n            }\n            else {\n                if (isBlazor()) {\n                    //this.pdfViewer._dotnetInstance.invokeMethodAsync('DisableUndoRedoButton', null);\n                    this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton();\n                }\n                else {\n                    this.disableUndoRedoButtons();\n                }\n            }\n        }\n        else {\n            if (isBlazor()) {\n                //this.pdfViewer._dotnetInstance.invokeMethodAsync('DisableUndoRedoButton', null);\n                this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton();\n            }\n            else {\n                this.disableUndoRedoButtons();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.enableCollectionAvailable = function (collection, item) {\n        if (collection.length > 0) {\n            this.toolbar.enableItems(item, true);\n        }\n        else {\n            this.toolbar.enableItems(item, false);\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.enableCollectionAvailableInBlazor = function (collection, item) {\n        if (collection.length > 0) {\n            //this.pdfViewer._dotnetInstance.invokeMethodAsync('UpdateUndoRedoButton', item, true);\n            this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(item, true);\n        }\n        else {\n            // this.pdfViewer._dotnetInstance.invokeMethodAsync('UpdateUndoRedoButton', item, false);\n            this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(item, false);\n        }\n    };\n    Toolbar.prototype.disableUndoRedoButtons = function () {\n        this.enableItems(this.undoItem.parentElement, false);\n        this.enableItems(this.redoItem.parentElement, false);\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (!isBlazor()) {\n            this.unWireEvent();\n            this.destroyComponent();\n            if (this.moreDropDown) {\n                this.moreDropDown.destroy();\n            }\n            if (this.annotationToolbarModule) {\n                this.annotationToolbarModule.destroy();\n            }\n            if (this.formDesignerToolbarModule) {\n                this.formDesignerToolbarModule.destroy();\n            }\n            if (this.toolbar) {\n                this.toolbar.destroy();\n            }\n            if (this.toolbarElement) {\n                this.toolbarElement.parentElement.removeChild(this.toolbarElement);\n            }\n        }\n    };\n    Toolbar.prototype.destroyComponent = function () {\n        // eslint-disable-next-line\n        var componentElement = [this.openDocumentItem, this.firstPageItem, this.previousPageItem, this.nextPageItem,\n            this.lastPageItem, this.currentPageBoxElement, this.zoomOutItem, this.zoomInItem, this.zoomDropdownItem, this.textSelectItem,\n            this.panItem, this.submitItem, this.undoItem, this.redoItem, this.commentItem, this.textSearchItem, this.annotationItem,\n            this.formDesignerItem, this.printItem, this.downloadItem];\n        for (var i = 0; i < componentElement.length; i++) {\n            if (componentElement[i]) {\n                this.destroyDependentComponent(componentElement[i]);\n            }\n        }\n    };\n    Toolbar.prototype.destroyDependentComponent = function (component) {\n        if (component.ej2_instances) {\n            for (var i = component.ej2_instances.length - 1; i >= 0; i--) {\n                component.ej2_instances[i].destroy();\n            }\n        }\n    };\n    /**\n     * @param pageIndex\n     * @private\n     */\n    Toolbar.prototype.updateCurrentPage = function (pageIndex) {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (!isBlazor()) {\n                if (!isNullOrUndefined(this.currentPageBox)) {\n                    if (this.currentPageBox.value === pageIndex) {\n                        this.currentPageBoxElement.value = pageIndex.toString();\n                    }\n                    this.currentPageBox.value = pageIndex;\n                }\n            }\n            else {\n                //this.pdfViewer._dotnetInstance.invokeMethodAsync('OnPageChanged', pageIndex);\n                this.pdfViewerBase.blazorUIAdaptor.pageChanged(pageIndex);\n            }\n            this.pdfViewerBase.currentPageNumber = pageIndex;\n            this.pdfViewer.currentPageNumber = pageIndex;\n        }\n        else {\n            this.pdfViewerBase.mobileSpanContainer.innerHTML = pageIndex.toString();\n            this.pdfViewerBase.mobilecurrentPageContainer.innerHTML = pageIndex.toString();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateTotalPage = function () {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (this.pdfViewerBase.pageCount > 0) {\n                if (!isNullOrUndefined(this.currentPageBox))\n                    this.currentPageBox.min = 1;\n            }\n            if (!isNullOrUndefined(this.totalPageItem))\n                this.totalPageItem.textContent = this.pdfViewer.localeObj.getConstant('of') + this.pdfViewerBase.pageCount.toString();\n        }\n    };\n    /**\n     * @param event\n     * @private\n     */\n    Toolbar.prototype.openFileDialogBox = function (event) {\n        event.preventDefault();\n        this.fileInputElement.click();\n    };\n    Toolbar.prototype.createToolbar = function (controlWidth) {\n        var _this = this;\n        // eslint-disable-next-line max-len\n        this.toolbarElement = createElement('div', { id: this.pdfViewer.element.id + '_toolbarContainer', className: 'e-pv-toolbar' });\n        this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.toolbar = new tool({\n                clicked: this.toolbarClickHandler, width: '', height: '', overflowMode: 'Popup', cssClass: 'e-pv-toolbar-scroll',\n                items: this.createToolbarItems(), created: function () {\n                    _this.createZoomDropdown();\n                    _this.createNumericTextBox();\n                    _this.toolbar.refreshOverflow();\n                }\n            });\n            this.toolbar.isStringTemplate = true;\n            if (this.pdfViewer.enableRtl) {\n                this.toolbar.enableRtl = true;\n            }\n            this.toolbar.appendTo(this.toolbarElement);\n            this.applyToolbarSettings();\n            this.afterToolbarCreation();\n            this.updateTotalPage();\n            this.toolbarElement.addEventListener('keydown', this.onToolbarKeydown);\n            this.toolbarElement.setAttribute('aria-label', 'Toolbar');\n        }\n        else {\n            this.createToolbarItemsForMobile();\n            this.afterToolbarCreationInMobile();\n            if (this.pdfViewer.enableRtl) {\n                this.toolbar.enableRtl = true;\n            }\n            this.applyToolbarSettingsForMobile();\n            this.disableUndoRedoButtons();\n        }\n        return this.toolbarElement;\n    };\n    /**\n     * Create a custom toolbar item in the PdfViewer\n     *\n     * @param  {number} startIndex\n     * @returns void\n     */\n    Toolbar.prototype.createCustomItem = function (startIndex) {\n        for (var j = startIndex; j < this.pdfViewer.toolbarSettings.toolbarItems.length; j++) {\n            if (typeof (this.pdfViewer.toolbarSettings.toolbarItems[j]) === 'object') {\n                var customToolbarItem = this.pdfViewer.toolbarSettings.toolbarItems[j];\n                if (!isNullOrUndefined(customToolbarItem.prefixIcon) && customToolbarItem.prefixIcon != '') {\n                    customToolbarItem.prefixIcon += ' e-pv-icon';\n                }\n                //Generate a text button template\n                if ((isNullOrUndefined(customToolbarItem.prefixIcon) || customToolbarItem.prefixIcon == '') && isNullOrUndefined(customToolbarItem.template)) {\n                    var text = !isNullOrUndefined(customToolbarItem.text) ? customToolbarItem.text : \"Custom Toolbar Item\";\n                    customToolbarItem.template = '<button id=\"Custom\" class=\"e-tbar-btn\" style=\"font-size:14px\"><span>' + text + '</span></button>';\n                }\n                this.toolItems.push(customToolbarItem);\n                if (isNullOrUndefined(customToolbarItem.align) || customToolbarItem.align === 'left' || customToolbarItem.align === 'Left') {\n                    this.toolItems.push({ type: 'Separator', align: 'Left' });\n                }\n            }\n            else {\n                break;\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.createToolbarItems = function () {\n        var currentPageInputTemplate = this.createCurrentPageInputTemplate();\n        var totalPageTemplate = this.createTotalPageTemplate();\n        var zoomDropDownTemplateString = this.createZoomDropdownElement();\n        // eslint-disable-next-line\n        var submitButton = '<button id=\"' + this.pdfViewer.element.id + '_submitForm\" class=\"e-tbar-btn\" style=\"font-size:15px\"><span id=\"' + this.pdfViewer.element.id + '_submitFormSpan\" class=\"e-tbar-btn-text e-pv-submitform-text\">' + this.pdfViewer.localeObj.getConstant('SubmitForm') + '</span></button>';\n        var defaultToolbarOrder = ['OpenOption', 'PageNavigationTool', 'MagnificationTool', 'SelectionTool', 'PanTool', 'UndoRedoTool', 'CommentTool', 'SubmitForm', 'SearchOption', 'AnnotationEditTool', 'FormDesignerEditTool', 'PrintOption', 'DownloadOption',];\n        for (var i = 0; i < defaultToolbarOrder.length; i++) {\n            if (i === 0) {\n                this.createCustomItem(i);\n            }\n            var toolbarItemOrder = i;\n            switch (toolbarItemOrder) {\n                case 0:\n                    this.itemsIndexArray.push({ item: 'OpenOption', startIndex: this.toolItems.length, endIndex: this.toolItems.length });\n                    this.toolItems.push({ prefixIcon: 'e-pv-open-document-icon e-pv-icon', cssClass: 'e-pv-open-document-container', id: this.pdfViewer.element.id + '_open', text: this.pdfViewer.localeObj.getConstant('Open text'), align: 'Left' });\n                    this.toolItems.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-open-separator-container' });\n                    break;\n                case 1:\n                    if (!this.pdfViewer.enableRtl) {\n                        this.itemsIndexArray.push({ item: 'PageNavigationTool', startIndex: this.toolItems.length, endIndex: this.toolItems.length + 5 });\n                        // eslint-disable-next-line max-len\n                        this.toolItems.push({ prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon', cssClass: 'e-pv-first-page-navigation-container', id: this.pdfViewer.element.id + '_firstPage', text: this.pdfViewer.localeObj.getConstant('First text'), align: 'Left' });\n                        this.toolItems.push({ prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon', cssClass: 'e-pv-previous-page-navigation-container', id: this.pdfViewer.element.id + '_previousPage', text: this.pdfViewer.localeObj.getConstant('Previous text'), align: 'Left' });\n                        // eslint-disable-next-line max-len\n                        this.toolItems.push({ prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon', cssClass: 'e-pv-next-page-navigation-container', id: this.pdfViewer.element.id + '_nextPage', text: this.pdfViewer.localeObj.getConstant('Next text'), align: 'Left' });\n                        this.toolItems.push({ prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon', cssClass: 'e-pv-last-page-navigation-container', id: this.pdfViewer.element.id + '_lastPage', text: this.pdfViewer.localeObj.getConstant('Last text'), align: 'Left' });\n                        this.toolItems.push({ template: currentPageInputTemplate, align: 'Left', cssClass: 'e-pv-current-page-container' });\n                        this.toolItems.push({ template: totalPageTemplate, align: 'Left', cssClass: 'e-pv-total-page-container' });\n                    }\n                    else {\n                        // eslint-disable-next-line max-len\n                        this.toolItems.push({ prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon', cssClass: 'e-pv-last-page-navigation-container', id: this.pdfViewer.element.id + '_firstPage', text: this.pdfViewer.localeObj.getConstant('First text'), align: 'Left' });\n                        this.toolItems.push({ prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon', cssClass: 'e-pv-next-page-navigation-container', id: this.pdfViewer.element.id + '_previousPage', text: this.pdfViewer.localeObj.getConstant('Previous text'), align: 'Left' });\n                        // eslint-disable-next-line max-len\n                        this.toolItems.push({ prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon', cssClass: 'e-pv-previous-page-navigation-container', id: this.pdfViewer.element.id + '_nextPage', text: this.pdfViewer.localeObj.getConstant('Next text'), align: 'Left' });\n                        this.toolItems.push({ prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon', cssClass: 'e-pv-first-page-navigation-container', id: this.pdfViewer.element.id + '_lastPage', text: this.pdfViewer.localeObj.getConstant('Last text'), align: 'Left' });\n                        this.toolItems.push({ template: totalPageTemplate, align: 'Left', cssClass: 'e-pv-total-page-container' });\n                        this.toolItems.push({ template: currentPageInputTemplate, align: 'Left', cssClass: 'e-pv-current-page-container' });\n                    }\n                    this.toolItems.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-navigation-separator-container' });\n                    break;\n                case 2:\n                    this.itemsIndexArray.push({ item: 'MagnificationTool', startIndex: this.toolItems.length, endIndex: this.toolItems.length + 2 });\n                    this.toolItems.push({ prefixIcon: 'e-pv-zoom-out-icon e-pv-icon', cssClass: 'e-pv-zoom-out-container', id: this.pdfViewer.element.id + '_zoomOut', text: this.pdfViewer.localeObj.getConstant('Zoom out text'), align: 'Left' });\n                    this.toolItems.push({ prefixIcon: 'e-pv-zoom-in-icon e-pv-icon', cssClass: 'e-pv-zoom-in-container', id: this.pdfViewer.element.id + '_zoomIn', text: this.pdfViewer.localeObj.getConstant('Zoom in text'), align: 'Left' });\n                    this.toolItems.push({ template: zoomDropDownTemplateString, cssClass: 'e-pv-zoom-drop-down-container', align: 'Left' });\n                    this.toolItems.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-magnification-separator-container' });\n                    break;\n                case 3:\n                    this.itemsIndexArray.push({ item: 'SelectionTool', startIndex: this.toolItems.length, endIndex: this.toolItems.length });\n                    this.toolItems.push({ prefixIcon: 'e-pv-text-select-tool-icon e-pv-icon', cssClass: 'e-pv-text-select-tool-container', id: this.pdfViewer.element.id + '_selectTool', text: this.pdfViewer.localeObj.getConstant('Selection text') });\n                    break;\n                case 4:\n                    this.itemsIndexArray.push({ item: 'PanTool', startIndex: this.toolItems.length, endIndex: this.toolItems.length });\n                    this.toolItems.push({ prefixIcon: 'e-pv-pan-tool-icon e-pv-icon', cssClass: 'e-pv-pan-tool-container', id: this.pdfViewer.element.id + '_handTool', text: this.pdfViewer.localeObj.getConstant('Pan text') });\n                    this.toolItems.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-pan-separator-container' });\n                    break;\n                case 5:\n                    this.itemsIndexArray.push({ item: 'UndoRedoTool', startIndex: this.toolItems.length, endIndex: this.toolItems.length + 1 });\n                    this.toolItems.push({ prefixIcon: 'e-pv-undo-icon e-pv-icon', cssClass: 'e-pv-undo-container', id: this.pdfViewer.element.id + '_undo', text: this.pdfViewer.localeObj.getConstant('Undo'), align: 'Left' });\n                    this.toolItems.push({ prefixIcon: 'e-pv-redo-icon e-pv-icon', cssClass: 'e-pv-redo-container', id: this.pdfViewer.element.id + '_redo', text: this.pdfViewer.localeObj.getConstant('Redo'), align: 'Left' });\n                    this.toolItems.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-undo-separator-container' });\n                    break;\n                case 6:\n                    this.itemsIndexArray.push({ item: 'CommentTool', startIndex: this.toolItems.length, endIndex: this.toolItems.length + 1 });\n                    this.toolItems.push({ prefixIcon: 'e-pv-comment-icon e-pv-icon', cssClass: 'e-pv-comment-container', id: this.pdfViewer.element.id + '_comment', text: this.pdfViewer.localeObj.getConstant('Add Comments'), align: 'Left' });\n                    this.toolItems.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-comment-separator-container' });\n                    break;\n                case 7:\n                    this.itemsIndexArray.push({ item: 'SubmitForm', startIndex: this.toolItems.length, endIndex: this.toolItems.length + 1 });\n                    this.toolItems.push({ template: submitButton, cssClass: 'e-pv-submit', align: 'Left' });\n                    break;\n                case 8:\n                    this.itemsIndexArray.push({ item: 'SearchOption', startIndex: this.toolItems.length, endIndex: this.toolItems.length });\n                    this.toolItems.push({ prefixIcon: 'e-pv-text-search-icon e-pv-icon', cssClass: 'e-pv-text-search-container', id: this.pdfViewer.element.id + '_search', text: this.pdfViewer.localeObj.getConstant('Search text'), align: 'Right' });\n                    break;\n                case 9:\n                    this.itemsIndexArray.push({ item: 'AnnotationEditTool', startIndex: this.toolItems.length, endIndex: this.toolItems.length });\n                    this.toolItems.push({ prefixIcon: 'e-pv-annotation-icon e-pv-icon', cssClass: 'e-pv-annotation-container', id: this.pdfViewer.element.id + '_annotation', text: this.pdfViewer.localeObj.getConstant('Annotation Edit text'), align: 'Right' });\n                    break;\n                case 10:\n                    this.itemsIndexArray.push({ item: 'FormDesignerEditTool', startIndex: this.toolItems.length, endIndex: this.toolItems.length });\n                    this.toolItems.push({ prefixIcon: 'e-pv-formdesigner-icon e-pv-icon', cssClass: 'e-pv-formdesigner-container', id: this.pdfViewer.element.id + '_formdesigner', text: this.pdfViewer.localeObj.getConstant('FormDesigner Edit text'), align: 'Right' });\n                    break;\n                case 11:\n                    this.itemsIndexArray.push({ item: 'PrintOption', startIndex: this.toolItems.length, endIndex: this.toolItems.length });\n                    this.toolItems.push({ prefixIcon: 'e-pv-print-document-icon e-pv-icon', cssClass: 'e-pv-print-document-container', id: this.pdfViewer.element.id + '_print', text: this.pdfViewer.localeObj.getConstant('Print text'), align: 'Right' });\n                    break;\n                case 12:\n                    this.itemsIndexArray.push({ item: 'DownloadOption', startIndex: this.toolItems.length, endIndex: this.toolItems.length });\n                    this.toolItems.push({ prefixIcon: 'e-pv-download-document-icon e-pv-icon', cssClass: 'e-pv-download-document-container', id: this.pdfViewer.element.id + '_download', text: this.pdfViewer.localeObj.getConstant('Download'), align: 'Right' });\n                    break;\n            }\n            for (var k = 0; k < this.pdfViewer.toolbarSettings.toolbarItems.length; k++) {\n                if (defaultToolbarOrder[i] === this.pdfViewer.toolbarSettings.toolbarItems[k]) {\n                    if (typeof (this.pdfViewer.toolbarSettings.toolbarItems[k + 1]) === 'object') {\n                        this.createCustomItem(k + 1);\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        return this.toolItems;\n    };\n    Toolbar.prototype.afterToolbarCreationInMobile = function () {\n        this.itemsContainer = this.toolbar.element.childNodes[0];\n        this.itemsContainer.id = this.pdfViewer.element.id + '_toolbarItemsContainer';\n        this.openDocumentItem = this.addClassToolbarItem('_open', 'e-pv-open-document', this.pdfViewer.localeObj.getConstant('Open'));\n        this.undoItem = this.addClassToolbarItem('_undo', 'e-pv-undo', this.pdfViewer.localeObj.getConstant('Undo'));\n        this.redoItem = this.addClassToolbarItem('_redo', 'e-pv-redo', this.pdfViewer.localeObj.getConstant('Redo'));\n        this.annotationItem = this.addClassToolbarItem('_annotation', 'e-pv-annotation', this.pdfViewer.localeObj.getConstant('Annotation'));\n        this.textSearchItem = this.addClassToolbarItem('_search', 'e-pv-text-search', this.pdfViewer.localeObj.getConstant('Text Search'));\n    };\n    Toolbar.prototype.afterToolbarCreation = function () {\n        this.itemsContainer = this.toolbar.element.childNodes[0];\n        this.itemsContainer.id = this.pdfViewer.element.id + '_toolbarItemsContainer';\n        this.openDocumentItem = this.addClassToolbarItem('_open', 'e-pv-open-document', this.pdfViewer.localeObj.getConstant('Open'));\n        this.undoItem = this.addClassToolbarItem('_undo', 'e-pv-undo', this.pdfViewer.localeObj.getConstant('Undo'));\n        this.redoItem = this.addClassToolbarItem('_redo', 'e-pv-redo', this.pdfViewer.localeObj.getConstant('Redo'));\n        if (!this.pdfViewer.enableRtl) {\n            // eslint-disable-next-line max-len\n            this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n            this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page'));\n            // eslint-disable-next-line max-len\n            this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n            this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n        }\n        else {\n            // eslint-disable-next-line max-len\n            this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n            this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page'));\n            // eslint-disable-next-line max-len\n            this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n            this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n        }\n        this.zoomOutItem = this.addClassToolbarItem('_zoomOut', 'e-pv-zoom-out', this.pdfViewer.localeObj.getConstant('Zoom Out'));\n        this.zoomInItem = this.addClassToolbarItem('_zoomIn', 'e-pv-zoom-in', this.pdfViewer.localeObj.getConstant('Zoom In'));\n        // eslint-disable-next-line max-len\n        this.textSelectItem = this.addClassToolbarItem('_selectTool', 'e-pv-text-select-tool', this.pdfViewer.localeObj.getConstant('Text Selection'));\n        this.panItem = this.addClassToolbarItem('_handTool', 'e-pv-pan-tool', this.pdfViewer.localeObj.getConstant('Panning'));\n        this.commentItem = this.addClassToolbarItem('_comment', 'e-pv-comment', this.pdfViewer.localeObj.getConstant('Add Comments'));\n        // eslint-disable-next-line max-len\n        this.textSearchItem = this.addClassToolbarItem('_search', 'e-pv-text-search', this.pdfViewer.localeObj.getConstant('Text Search'));\n        this.textSearchItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Search text'));\n        this.annotationItem = this.addClassToolbarItem('_annotation', 'e-pv-annotation', this.pdfViewer.localeObj.getConstant('Annotation'));\n        this.annotationItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Annotation Edit text'));\n        this.formDesignerItem = this.addClassToolbarItem('_formdesigner', 'e-pv-formdesigner', this.pdfViewer.localeObj.getConstant('FormDesigner'));\n        // eslint-disable-next-line max-len\n        this.printItem = this.addClassToolbarItem('_print', 'e-pv-print-document', this.pdfViewer.localeObj.getConstant('Print'));\n        this.downloadItem = this.addClassToolbarItem('_download', 'e-pv-download-document', this.pdfViewer.localeObj.getConstant('Download file'));\n        this.zoomDropdownItem = this.pdfViewerBase.getElement('_zoomDropDown');\n        this.createTooltip(this.zoomDropdownItem, this.pdfViewer.localeObj.getConstant('Zoom'));\n        this.zoomDropdownItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Zoom'));\n        // eslint-disable-next-line max-len\n        this.addPropertiesToolItemContainer(this.zoomDropdownItem.parentElement.parentElement, null, '_zoomDropDownContainer');\n        this.pdfViewerBase.getElement('_zoomDropDownContainer').style.minWidth = '';\n        this.createTooltip(this.currentPageBoxElement, this.pdfViewer.localeObj.getConstant('Page Number'));\n        this.currentPageBoxElement.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Page Number'));\n        this.submitItem = this.pdfViewerBase.getElement('_submitForm');\n        this.addPropertiesToolItemContainer(this.submitItem.parentElement, 'e-pv-submit', '_submitFormContainer');\n        this.createTooltip(this.submitItem, this.pdfViewer.localeObj.getConstant('SubmitForm'));\n        this.submitItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('SubmitForm'));\n        // eslint-disable-next-line max-len\n        this.addPropertiesToolItemContainer(this.currentPageBoxElement.parentElement.parentElement, 'e-pv-current-page-container', '_currentPageInputContainer');\n        this.pdfViewerBase.getElement('_currentPageInputContainer').style.minWidth = '20px';\n        this.totalPageItem = this.pdfViewerBase.getElement('_totalPage');\n        this.addPropertiesToolItemContainer(this.totalPageItem.parentElement, 'e-pv-total-page-container', '_totalPageContainer');\n    };\n    /**\n     * @param idString\n     * @param className\n     * @param tooltipText\n     * @param idString\n     * @param className\n     * @param tooltipText\n     * @private\n     */\n    Toolbar.prototype.addClassToolbarItem = function (idString, className, tooltipText) {\n        var element = this.pdfViewerBase.getElement(idString);\n        element.classList.add(className);\n        element.classList.add('e-pv-tbar-btn');\n        element.setAttribute('aria-label', tooltipText);\n        element.parentElement.classList.add(className + '-container');\n        element.parentElement.classList.add('e-popup-text');\n        element.parentElement.id = this.pdfViewer.element.id + idString + 'Container';\n        if (element.childNodes.length > 0) {\n            var spanElement = element.childNodes[0];\n            spanElement.id = this.pdfViewer.element.id + idString + 'Icon';\n            spanElement.classList.remove('e-icons');\n            spanElement.classList.remove('e-btn-icon');\n            if (this.pdfViewer.enableRtl) {\n                spanElement.classList.add('e-right');\n            }\n            var textElement = element.childNodes[1];\n            if (textElement) {\n                if (textElement.classList.contains('e-tbar-btn-text')) {\n                    textElement.id = this.pdfViewer.element.id + idString + 'Text';\n                }\n            }\n        }\n        element.style.width = '';\n        this.createTooltip(element, tooltipText);\n        return element;\n    };\n    Toolbar.prototype.addPropertiesToolItemContainer = function (element, className, idString) {\n        if (className !== null) {\n            element.classList.add(className);\n        }\n        element.classList.add('e-popup-text');\n        element.id = this.pdfViewer.element.id + idString;\n    };\n    Toolbar.prototype.createZoomDropdownElement = function () {\n        // eslint-disable-next-line max-len\n        var zoomDropdownElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_zoomDropDown', null);\n        return zoomDropdownElement.outerHTML;\n    };\n    Toolbar.prototype.createZoomDropdown = function () {\n        var proxy = this;\n        // eslint-disable-next-line max-len\n        var items = [{ percent: '10%', id: '0' }, { percent: '25%', id: '1' }, { percent: '50%', id: '2' }, { percent: '75%', id: '3' }, { percent: '100%', id: '4' }, { percent: '125%', id: '5' },\n            // eslint-disable-next-line max-len\n            { percent: '150%', id: '6' }, { percent: '200%', id: '7' }, { percent: '400%', id: '8' }, { percent: proxy.pdfViewer.localeObj.getConstant('Fit Page'), id: '9' }, { percent: proxy.pdfViewer.localeObj.getConstant('Fit Width'), id: '10' }, { percent: proxy.pdfViewer.localeObj.getConstant('Automatic'), id: '11' }\n        ];\n        // eslint-disable-next-line max-len\n        if (!proxy.pdfViewer.enableRtl) {\n            proxy.zoomDropDown = new ComboBox({ dataSource: items, text: '100%', fields: { text: 'percent', value: 'id' }, readonly: true, cssClass: 'e-pv-zoom-drop-down', popupHeight: '450px', showClearButton: false, open: proxy.openZoomDropdown.bind(proxy), select: function (args) {\n                    if (args.e.type == 'keydown' && args.itemData.percent !== proxy.zoomDropDown.element.value) {\n                        proxy.zoomDropDownChange(proxy.zoomDropDown.element.value);\n                        args.cancel = true;\n                    }\n                }\n            });\n        }\n        else {\n            proxy.zoomDropDown = new ComboBox({ dataSource: items, text: '100%', enableRtl: true, fields: { text: 'percent', value: 'id' }, readonly: true, cssClass: 'e-pv-zoom-drop-down-rtl', popupHeight: '450px', showClearButton: false, open: proxy.openZoomDropdown.bind(proxy), select: function (args) {\n                    if (args.e.type == 'keydown' && args.itemData.percent !== proxy.zoomDropDown.element.value) {\n                        proxy.zoomDropDownChange(proxy.zoomDropDown.element.value);\n                        args.cancel = true;\n                    }\n                }\n            });\n        }\n        proxy.zoomDropDown.appendTo(proxy.pdfViewerBase.getElement('_zoomDropDown'));\n    };\n    Toolbar.prototype.createCurrentPageInputTemplate = function () {\n        // eslint-disable-next-line max-len\n        var goToPageElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_currentPageInput', null);\n        return goToPageElement.outerHTML;\n    };\n    Toolbar.prototype.createTotalPageTemplate = function () {\n        // eslint-disable-next-line max-len\n        var totalPageElement = this.createToolbarItem('span', this.pdfViewer.element.id + '_totalPage', 'e-pv-total-page');\n        return totalPageElement.outerHTML;\n    };\n    Toolbar.prototype.createNumericTextBox = function () {\n        this.currentPageBox = new NumericTextBox({ value: 0, format: '##', cssClass: 'e-pv-current-page-box', showSpinButton: false });\n        this.currentPageBoxElement = this.pdfViewerBase.getElement('_currentPageInput');\n        this.currentPageBox.appendTo(this.currentPageBoxElement);\n    };\n    Toolbar.prototype.createToolbarItemsForMobile = function () {\n        this.toolbarElement.classList.add('e-pv-mobile-toolbar');\n        var template = '<button id=\"' + this.pdfViewer.element.id + '_more_option\" class=\"e-tbar-btn\"></button>';\n        this.toolbar = new tool({\n            // eslint-disable-next-line max-len\n            items: [{ prefixIcon: 'e-pv-open-document-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Open'), id: this.pdfViewer.element.id + '_open' },\n                { type: 'Separator', align: 'Left' },\n                // eslint-disable-next-line max-len\n                { prefixIcon: 'e-pv-undo-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Undo'), id: this.pdfViewer.element.id + '_undo' },\n                // eslint-disable-next-line max-len\n                { prefixIcon: 'e-pv-redo-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Redo'), id: this.pdfViewer.element.id + '_redo' },\n                // eslint-disable-next-line max-len\n                { prefixIcon: 'e-pv-annotation-icon e-pv-icon', cssClass: 'e-pv-annotation-container', tooltipText: this.pdfViewer.localeObj.getConstant('Annotation'), id: this.pdfViewer.element.id + '_annotation', align: 'Right' },\n                // eslint-disable-next-line max-len\n                { prefixIcon: 'e-pv-text-search-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Text Search'), id: this.pdfViewer.element.id + '_search', align: 'Right' },\n                { template: template, align: 'Right' }\n            ], clicked: this.toolbarClickHandler, width: '', height: '', overflowMode: 'Popup'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.appendTo(this.toolbarElement);\n        this.openDocumentItem = this.pdfViewerBase.getElement('_open');\n        this.openDocumentItem.classList.add('e-pv-open-document');\n        this.openDocumentItem.firstElementChild.id = this.pdfViewer.element.id + '_openIcon';\n        this.annotationItem = this.pdfViewerBase.getElement('_annotation');\n        this.annotationItem.classList.add('e-pv-annotation');\n        this.annotationItem.firstElementChild.id = this.pdfViewer.element.id + '_annotationIcon';\n        this.textSearchItem = this.pdfViewerBase.getElement('_search');\n        this.textSearchItem.classList.add('e-pv-text-search');\n        this.textSearchItem.firstElementChild.id = this.pdfViewer.element.id + '_searchIcon';\n        this.undoItem = this.pdfViewerBase.getElement('_undo');\n        this.undoItem.classList.add('e-pv-undo');\n        this.redoItem = this.pdfViewerBase.getElement('_redo');\n        this.redoItem.classList.add('e-pv-redo');\n        this.redoItem.firstElementChild.id = this.pdfViewer.element.id + '_redoIcon';\n        this.undoItem.firstElementChild.id = this.pdfViewer.element.id + '_undoIcon';\n        this.createMoreOption(this.pdfViewer.element.id + '_more_option');\n    };\n    Toolbar.prototype.createMoreOption = function (idString) {\n        var _this = this;\n        this.moreOptionItem = document.getElementById(idString);\n        var items = [\n            {\n                text: this.pdfViewer.localeObj.getConstant('Download'), id: this.pdfViewer.element.id + '_menu_download',\n                iconCss: 'e-icons e-pv-download-document-icon e-pv-icon'\n            },\n            {\n                text: this.pdfViewer.localeObj.getConstant('Bookmarks'), id: this.pdfViewer.element.id + '_menu_bookmarks',\n                iconCss: 'e-icons e-pv-bookmark-icon e-pv-icon'\n            }\n        ];\n        this.moreDropDown = new DropDownButton({\n            items: items, iconCss: 'e-pv-more-icon e-pv-icon', cssClass: 'e-caret-hide',\n            open: function (args) {\n                var dropdownButtonPosition = _this.moreDropDown.element.getBoundingClientRect();\n                // eslint-disable-next-line max-len\n                if (!_this.pdfViewer.enableRtl) {\n                    args.element.parentElement.style.left = dropdownButtonPosition.left + dropdownButtonPosition.width - args.element.parentElement.offsetWidth + 'px';\n                }\n            }, select: function (args) {\n                switch (args.item.id) {\n                    case _this.pdfViewer.element.id + '_menu_download':\n                        _this.pdfViewerBase.download();\n                        break;\n                    case _this.pdfViewer.element.id + '_menu_bookmarks':\n                        _this.showToolbar(false);\n                        _this.pdfViewerBase.navigationPane.createNavigationPaneMobile('bookmarks');\n                        break;\n                    default:\n                        break;\n                }\n            }, beforeItemRender: function (args) {\n                if (args.item.id === _this.pdfViewer.element.id + '_menu_bookmarks') {\n                    if (!_this.pdfViewer.bookmarkViewModule || !_this.pdfViewer.bookmarkViewModule.bookmarks) {\n                        args.element.classList.add('e-disabled');\n                    }\n                    else {\n                        args.element.classList.remove('e-disabled');\n                    }\n                }\n            }, close: function (args) {\n                _this.moreOptionItem.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        });\n        this.moreDropDown.appendTo('#' + idString);\n    };\n    Toolbar.prototype.createToolbarItem = function (elementName, id, className) {\n        var toolbarItem = createElement(elementName, { id: id });\n        if (className !== null) {\n            toolbarItem.className = className;\n        }\n        if (elementName === 'input' && id !== this.pdfViewer.element.id + '_zoomDropDown') {\n            toolbarItem.type = 'text';\n        }\n        return toolbarItem;\n    };\n    /**\n     * @param toolbarItem\n     * @param tooltipText\n     * @param toolbarItem\n     * @param tooltipText\n     * @private\n     */\n    Toolbar.prototype.createTooltip = function (toolbarItem, tooltipText) {\n        if (tooltipText !== null) {\n            // eslint-disable-next-line\n            var tooltip = new Tooltip({ content: initializeCSPTemplate(function () { return tooltipText; }), opensOn: 'Hover', beforeOpen: this.onTooltipBeforeOpen.bind(this) });\n            tooltip.appendTo(toolbarItem);\n        }\n    };\n    Toolbar.prototype.onTooltipBeforeOpen = function (args) {\n        if (!this.pdfViewer.toolbarSettings.showTooltip && this.toolbarElement.contains(args.target)) {\n            args.cancel = true;\n        }\n        if (this.annotationToolbarModule) {\n            // eslint-disable-next-line max-len\n            if (!this.pdfViewer.toolbarSettings.showTooltip && ((this.annotationToolbarModule.toolbarElement && this.annotationToolbarModule.toolbarElement.contains(args.target)) || (this.annotationToolbarModule.shapeToolbarElement && this.annotationToolbarModule.shapeToolbarElement.contains(args.target)))) {\n                args.cancel = true;\n            }\n        }\n        if (this.formDesignerToolbarModule) {\n            // eslint-disable-next-line max-len\n            if (!this.pdfViewer.toolbarSettings.showTooltip && (this.formDesignerToolbarModule.toolbarElement && this.formDesignerToolbarModule.toolbarElement.contains(args.target))) {\n                args.cancel = true;\n            }\n        }\n    };\n    Toolbar.prototype.createFileElement = function (toolbarElement) {\n        if (toolbarElement) {\n            if (!isBlazor()) {\n                // eslint-disable-next-line max-len\n                this.fileInputElement = createElement('input', { id: this.pdfViewer.element.id + '_fileUploadElement', styles: 'position:fixed; left:-100em', attrs: { 'type': 'file' } });\n                this.fileInputElement.setAttribute('accept', '.pdf');\n                this.fileInputElement.setAttribute('aria-label', 'file upload element');\n                this.fileInputElement.setAttribute('tabindex', '-1');\n            }\n            else {\n                this.fileInputElement = this.pdfViewer.element.querySelector('.e-pv-fileupload-element');\n            }\n            if (toolbarElement) {\n                toolbarElement.appendChild(this.fileInputElement);\n            }\n        }\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.fileInputElement) {\n            this.fileInputElement.addEventListener('change', this.loadDocument);\n        }\n        if (!isBlazor()) {\n            if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                this.toolbarElement.addEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n                this.currentPageBoxElement.addEventListener('focusout', this.textBoxFocusOut);\n                this.currentPageBoxElement.addEventListener('keypress', this.navigateToPage);\n                this.zoomDropDown.change = this.zoomPercentSelect.bind(this);\n                this.zoomDropDown.element.addEventListener('keypress', this.onZoomDropDownInput.bind(this));\n                this.zoomDropDown.element.addEventListener('click', this.onZoomDropDownInputClick.bind(this));\n            }\n        }\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.fileInputElement) {\n            this.fileInputElement.removeEventListener('change', this.loadDocument);\n        }\n        if ((!Browser.isDevice || this.pdfViewer.enableDesktopMode) && !isBlazor()) {\n            if (!isNullOrUndefined(this.toolbarElement)) {\n                this.toolbarElement.removeEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n            }\n            if (!isNullOrUndefined(this.currentPageBoxElement)) {\n                this.currentPageBoxElement.removeEventListener('focusout', this.textBoxFocusOut);\n                this.currentPageBoxElement.removeEventListener('keypress', this.navigateToPage);\n            }\n            if (!isNullOrUndefined(this.zoomDropDown)) {\n                this.zoomDropDown.removeEventListener('change', this.zoomPercentSelect);\n                this.zoomDropDown.element.removeEventListener('keypress', this.onZoomDropDownInput);\n                this.zoomDropDown.element.removeEventListener('click', this.onZoomDropDownInputClick);\n            }\n        }\n    };\n    /**\n     * @param viewerWidth\n     * @private\n     */\n    Toolbar.prototype.onToolbarResize = function (viewerWidth) {\n        if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n            this.pdfViewerBase.navigationPane.toolbarResize();\n        }\n        else {\n            if (!isNullOrUndefined(this.toolbar)) {\n                this.toolbar.refreshOverflow();\n            }\n        }\n    };\n    Toolbar.prototype.toolbarOnMouseup = function (event) {\n        if (event.target === this.itemsContainer || event.target === this.toolbarElement) {\n            this.pdfViewerBase.focusViewerContainer();\n        }\n    };\n    Toolbar.prototype.applyHideToToolbar = function (show, startIndex, endIndex) {\n        var isHide = !show;\n        for (var index = startIndex; index <= endIndex; index++) {\n            if (this.toolbar.items[index]) {\n                var className = this.toolbar.items[index].cssClass;\n                if (className && className !== '') {\n                    // Querying the toolbar item\n                    var element = this.toolbar.element.querySelector('.' + className);\n                    if (element) {\n                        this.toolbar.hideItem(element, isHide);\n                    }\n                }\n                else {\n                    this.toolbar.hideItem(index, isHide);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.handleOpenIconClick = function (args, isKeyBoardEvent) {\n        this.fileInputElement.click();\n        if (Browser.isDevice && !this.pdfViewer.enableDesktopMode && !isKeyBoardEvent) {\n            if (!isBlazor()) {\n                args.originalEvent.target.blur();\n            }\n            this.pdfViewerBase.focusViewerContainer();\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.handleToolbarBtnClick = function (args, isKeyBoardEvent) {\n        this.addInkAnnotation();\n        this.deSelectCommentAnnotation();\n        switch (args.originalEvent.target.id || (!isNullOrUndefined(args.item) && args.item.id)) {\n            case this.pdfViewer.element.id + '_open':\n            case this.pdfViewer.element.id + '_openIcon':\n            case this.pdfViewer.element.id + '_openText':\n                this.handleOpenIconClick(args, isKeyBoardEvent);\n                break;\n            case this.pdfViewer.element.id + '_download':\n            case this.pdfViewer.element.id + '_downloadIcon':\n            case this.pdfViewer.element.id + '_downloadText':\n                this.pdfViewerBase.download();\n                break;\n            case this.pdfViewer.element.id + '_print':\n            case this.pdfViewer.element.id + '_printIcon':\n            case this.pdfViewer.element.id + '_printText':\n                if (this.pdfViewer.printModule) {\n                    this.pdfViewer.firePrintStart();\n                }\n                break;\n            case this.pdfViewer.element.id + '_undo':\n            case this.pdfViewer.element.id + '_undoIcon':\n            case this.pdfViewer.element.id + '_undoText':\n                if (this.pdfViewer.annotationModule) {\n                    this.pdfViewer.annotationModule.undo();\n                }\n                break;\n            case this.pdfViewer.element.id + '_redo':\n            case this.pdfViewer.element.id + '_redoIcon':\n            case this.pdfViewer.element.id + '_redoText':\n                if (this.pdfViewer.annotationModule) {\n                    this.pdfViewer.annotationModule.redo();\n                }\n                break;\n            case this.pdfViewer.element.id + '_firstPage':\n            case this.pdfViewer.element.id + '_firstPageIcon':\n            case this.pdfViewer.element.id + '_firstPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToFirstPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_previousPage':\n            case this.pdfViewer.element.id + '_previousPageIcon':\n            case this.pdfViewer.element.id + '_previousPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToPreviousPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_nextPage':\n            case this.pdfViewer.element.id + '_nextPageIcon':\n            case this.pdfViewer.element.id + '_nextPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToNextPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_lastPage':\n            case this.pdfViewer.element.id + '_lastPageIcon':\n            case this.pdfViewer.element.id + '_lastPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToLastPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_zoomIn':\n            case this.pdfViewer.element.id + '_zoomInIcon':\n            case this.pdfViewer.element.id + '_zoomInText':\n                this.pdfViewer.magnificationModule.zoomIn();\n                break;\n            case this.pdfViewer.element.id + '_zoomOut':\n            case this.pdfViewer.element.id + '_zoomOutIcon':\n            case this.pdfViewer.element.id + '_zoomOutText':\n                this.pdfViewer.magnificationModule.zoomOut();\n                break;\n            case this.pdfViewer.element.id + '_selectTool':\n            case this.pdfViewer.element.id + '_selectToolIcon':\n            case this.pdfViewer.element.id + '_selectToolText':\n                if (!this.isSelectionToolDisabled) {\n                    this.pdfViewerBase.initiateTextSelectMode();\n                    this.updateInteractionTools(true);\n                }\n                break;\n            case this.pdfViewer.element.id + '_handTool':\n            case this.pdfViewer.element.id + '_handToolIcon':\n            case this.pdfViewer.element.id + '_handToolText':\n                if (!(this.isScrollingToolDisabled || this.getStampMode())) {\n                    this.pdfViewerBase.initiatePanning();\n                    this.updateInteractionTools(false);\n                }\n                break;\n            case this.pdfViewer.element.id + '_search':\n            case this.pdfViewer.element.id + '_searchIcon':\n            case this.pdfViewer.element.id + '_searchText':\n                this.textSearchButtonHandler();\n                break;\n            case this.pdfViewer.element.id + '_annotation':\n            case this.pdfViewer.element.id + '_annotationIcon':\n            case this.pdfViewer.element.id + '_annotationText':\n                this.initiateAnnotationMode(args.originalEvent.target.id, isKeyBoardEvent);\n                break;\n            case this.pdfViewer.element.id + '_formdesigner':\n            case this.pdfViewer.element.id + '_formdesignerIcon':\n            case this.pdfViewer.element.id + '_formdesignerText':\n                this.initiateFormDesignerMode(isKeyBoardEvent);\n                this.formDesignerToolbarModule.showHideDeleteIcon(false);\n                break;\n            case this.pdfViewer.element.id + '_comment':\n            case this.pdfViewer.element.id + '_commentIcon':\n                this.pdfViewerBase.isAddComment = true;\n                this.pdfViewerBase.isCommentIconAdded = true;\n                this.annotationToolbarModule.deselectAllItems();\n                this.pdfViewer.annotation.triggerAnnotationUnselectEvent();\n                this.addComments(args.originalEvent.target);\n                break;\n            case this.pdfViewer.element.id + '_submitForm':\n            case this.pdfViewer.element.id + '_submitFormSpan':\n                var data = void 0;\n                this.pdfViewerBase.exportFormFields(data, FormFieldDataFormat.Json);\n                break;\n            default:\n                this.pdfViewer.fireCustomToolbarClickEvent(args);\n                break;\n        }\n    };\n    Toolbar.prototype.addInkAnnotation = function () {\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.inkAnnotationModule) {\n            // eslint-disable-next-line\n            var currentPageNumber = parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber);\n            this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(currentPageNumber);\n        }\n        if (this.annotationToolbarModule) {\n            this.pdfViewer.toolbar.annotationToolbarModule.deselectInkAnnotation();\n            this.annotationToolbarModule.inkAnnotationSelected = false;\n        }\n    };\n    Toolbar.prototype.deSelectCommentAnnotation = function () {\n        if (!isBlazor()) {\n            this.pdfViewer.toolbar.deSelectItem(this.commentItem);\n        }\n        else {\n            this.pdfViewer.toolbar.deSelectItem(this.CommentElement);\n        }\n        this.pdfViewerBase.isCommentIconAdded = false;\n    };\n    /**\n    * @private\n    */\n    // eslint-disable-next-line\n    Toolbar.prototype.addComments = function (targetElement) {\n        if (!isBlazor()) {\n            // eslint-disable-next-line max-len\n            if (targetElement.id === this.pdfViewer.element.id + '_comment' || targetElement.id === this.pdfViewer.element.id + '_commentIcon') {\n                if (targetElement.id === this.pdfViewer.element.id + '_commentIcon' && targetElement.parentElement) {\n                    targetElement.parentElement.classList.add('e-pv-select');\n                }\n                else {\n                    targetElement.classList.add('e-pv-select');\n                }\n            }\n            else {\n                if (this.pdfViewer.enableRtl) {\n                    targetElement.className = 'e-pv-comment-selection-icon e-pv-icon e-icon-left e-right';\n                }\n                else {\n                    targetElement.className = 'e-pv-comment-selection-icon e-pv-icon e-icon-left';\n                }\n            }\n        }\n        else {\n            this.pdfViewerBase.isCommentIconAdded = true;\n            this.pdfViewerBase.isAddComment = true;\n            this.annotationToolbarModule.deselectAllItemsInBlazor();\n            var commentsButton = this.CommentElement;\n            commentsButton.classList.add('e-pv-select');\n        }\n        this.updateStampItems();\n        document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1)).addEventListener('mousedown', this.pdfViewer.annotationModule.stickyNotesAnnotationModule.drawIcons.bind(this));\n    };\n    Toolbar.prototype.openZoomDropdown = function () {\n        var toolbarData = this;\n        if (document.fullscreen) {\n            if (isBlazor()) {\n                // eslint-disable-next-line\n                var fullscreenElement = document.fullscreenElement;\n                if (fullscreenElement && fullscreenElement.tagName !== 'BODY' && fullscreenElement.tagName !== 'HTML') {\n                    setTimeout(function () {\n                        // eslint-disable-next-line\n                        var popupElement = document.getElementById(toolbarData.pdfViewer.element.id + \"_zoomCombo_popup\");\n                        var targetElement = document.getElementById(toolbarData.toolbarElement.id);\n                        // eslint-disable-next-line\n                        if (popupElement && targetElement && popupElement.ej2_instances) {\n                            targetElement.appendChild(popupElement);\n                            popupElement.ej2_instances[0].refreshPosition();\n                        }\n                    }, 100);\n                }\n            }\n            else {\n                var popupElement = document.getElementById(this.pdfViewer.element.id + \"_zoomDropDown_popup\");\n                var targetElement = document.getElementById(this.toolbarElement.id);\n                if (popupElement) {\n                    targetElement.appendChild(popupElement);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.onZoomDropDownInput = function (event) {\n        if ((event.which < 48 || event.which > 57) && event.which !== 8 && event.which !== 13 && event.which !== 32) {\n            event.preventDefault();\n            return false;\n        }\n        else {\n            if (event.which === 13) {\n                event.preventDefault();\n                var value = this.zoomDropDown.element.value.trim();\n                this.zoomDropDownChange(value);\n            }\n            return true;\n        }\n    };\n    Toolbar.prototype.onZoomDropDownInputClick = function () {\n        this.zoomDropDown.element.select();\n    };\n    Toolbar.prototype.zoomPercentSelect = function (args) {\n        if (this.pdfViewerBase.pageCount > 0) {\n            if (args.isInteracted) {\n                if (args.itemData) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var zoomText = args.itemData.percent;\n                    this.zoomDropDownChange(zoomText);\n                }\n            }\n            else {\n                this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n            }\n        }\n    };\n    Toolbar.prototype.zoomDropDownChange = function (zoomText) {\n        // eslint-disable-next-line max-len\n        if (zoomText !== this.pdfViewer.localeObj.getConstant('Fit Width') && zoomText !== this.pdfViewer.localeObj.getConstant('Fit Page') && zoomText !== this.pdfViewer.localeObj.getConstant('Automatic')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = false;\n            this.pdfViewer.magnificationModule.zoomTo(parseFloat(zoomText));\n            this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Width')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = false;\n            this.pdfViewer.magnificationModule.fitToWidth();\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Page')) {\n            this.pdfViewer.magnificationModule.fitToPage();\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Automatic')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = true;\n            this.pdfViewer.magnificationModule.fitToAuto();\n            this.zoomDropDown.focusOut();\n        }\n    };\n    /**\n     * @param zoomFactor\n     * @private\n     */\n    Toolbar.prototype.updateZoomPercentage = function (zoomFactor) {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            // eslint-disable-next-line radix\n            var currentPercent = parseInt((zoomFactor * 100).toString()) + '%';\n            if (isBlazor()) {\n                // eslint-disable-next-line\n                var blazorZoomDropDown = this.pdfViewerBase.getElement('_zoomDropDown');\n                if (blazorZoomDropDown && blazorZoomDropDown.children.length > 0) {\n                    blazorZoomDropDown.children[0].children[0].value = currentPercent;\n                }\n            }\n            else {\n                if (this.zoomDropDown.text === currentPercent) {\n                    this.zoomDropDown.element.value = currentPercent;\n                }\n                if (this.zoomDropDown.index === 11) {\n                    this.zoomDropDown.value = 4;\n                }\n                if (zoomFactor <= 0.25) {\n                    this.pdfViewerBase.isMinimumZoom = true;\n                }\n                else {\n                    this.pdfViewerBase.isMinimumZoom = false;\n                }\n                // eslint-disable-next-line\n                this.zoomDropDown.text = currentPercent;\n            }\n        }\n    };\n    Toolbar.prototype.updateInteractionItems = function () {\n        if (this.pdfViewer.textSelectionModule) {\n            if (this.pdfViewer.enableTextSelection) {\n                this.enableItems(this.textSelectItem.parentElement, true);\n            }\n            else {\n                this.enableItems(this.textSelectItem.parentElement, false);\n            }\n        }\n        else {\n            this.enableItems(this.textSelectItem.parentElement, false);\n        }\n        this.enableItems(this.panItem.parentElement, true);\n        if (this.pdfViewer.interactionMode === 'TextSelection' && this.pdfViewer.enableTextSelection) {\n            this.selectItem(this.textSelectItem);\n            this.textSelectItem.setAttribute('tabindex', '-1');\n            this.deSelectItem(this.panItem);\n            this.panItem.setAttribute('tabindex', '0');\n        }\n        else {\n            this.selectItem(this.panItem);\n            this.panItem.setAttribute('tabindex', '-1');\n            this.deSelectItem(this.textSelectItem);\n            this.textSelectItem.setAttribute('tabindex', '0');\n            this.pdfViewerBase.initiatePanning();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.textSearchButtonHandler = function () {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (this.pdfViewer.textSearchModule && this.pdfViewerBase.pageCount > 0) {\n                this.isTextSearchBoxDisplayed = !this.isTextSearchBoxDisplayed;\n                this.pdfViewer.textSearchModule.showSearchBox(this.isTextSearchBoxDisplayed);\n                if (this.isTextSearchBoxDisplayed) {\n                    if (!isBlazor()) {\n                        this.selectItem(this.textSearchItem);\n                        this.textSearchItem.setAttribute('tabindex', '0');\n                    }\n                    // eslint-disable-next-line max-len\n                    var searchInputElement = document.getElementById(this.pdfViewer.element.id + '_search_input');\n                    searchInputElement.select();\n                    searchInputElement.focus();\n                }\n                else {\n                    if (!isBlazor()) {\n                        this.deSelectItem(this.textSearchItem);\n                        this.textSearchItem.blur();\n                    }\n                    else {\n                        var searchItem = this.pdfViewerBase.getElement('_search');\n                        searchItem.firstElementChild.blur();\n                    }\n                }\n            }\n        }\n        else {\n            this.showToolbar(false);\n            this.pdfViewerBase.navigationPane.createNavigationPaneMobile('search');\n        }\n    };\n    Toolbar.prototype.initiateAnnotationMode = function (id, isKeyBoardEvent) {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (this.annotationToolbarModule && this.pdfViewer.enableAnnotationToolbar) {\n                this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem);\n                this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.refreshOverflow();\n                if (isKeyBoardEvent && this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items.length > 0) {\n                    document.getElementById(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items[0].id).focus();\n                }\n                if (this.pdfViewer.isAnnotationToolbarVisible && this.pdfViewer.isFormDesignerToolbarVisible) {\n                    var formDesignerMainDiv = document.getElementById(this.pdfViewer.element.id + \"_formdesigner_toolbar\");\n                    formDesignerMainDiv.style.display = \"none\";\n                    this.formDesignerToolbarModule.isToolbarHidden = false;\n                    this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem);\n                    this.annotationToolbarModule.adjustViewer(true);\n                }\n            }\n        }\n        else {\n            if (!isBlazor()) {\n                if (id === this.pdfViewer.element.id + '_annotation') {\n                    id = this.pdfViewer.element.id + '_annotationIcon';\n                }\n                this.annotationToolbarModule.createAnnotationToolbarForMobile(id);\n            }\n        }\n    };\n    Toolbar.prototype.initiateFormDesignerMode = function (isKeyBoardEvent) {\n        if (this.formDesignerToolbarModule && this.pdfViewer.enableFormDesignerToolbar) {\n            this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem);\n            if (this.pdfViewer.isAnnotationToolbarVisible && this.pdfViewer.isFormDesignerToolbarVisible) {\n                var annotationMainDiv = document.getElementById(this.pdfViewer.element.id + \"_annotation_toolbar\");\n                annotationMainDiv.style.display = \"none\";\n                var commentPanel = document.getElementById(this.pdfViewer.element.id + '_commantPanel');\n                if (!isNullOrUndefined(commentPanel) && !isNullOrUndefined(this.pdfViewerBase.navigationPane)) {\n                    if (commentPanel.style.display === 'block') {\n                        this.pdfViewerBase.navigationPane.closeCommentPanelContainer();\n                    }\n                }\n                this.annotationToolbarModule.isToolbarHidden = false;\n                this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem);\n                this.formDesignerToolbarModule.adjustViewer(true);\n            }\n            if (isKeyBoardEvent && this.pdfViewer.toolbarModule.formDesignerToolbarModule.toolbar.items.length > 0) {\n                document.getElementById(this.pdfViewer.toolbarModule.formDesignerToolbarModule.toolbar.items[0].id).focus();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.DisableInteractionTools = function () {\n        this.deSelectItem(this.textSelectItem);\n        this.deSelectItem(this.panItem);\n    };\n    /**\n     * @param element\n     * @private\n     */\n    Toolbar.prototype.selectItem = function (element) {\n        if (element) {\n            element.classList.add('e-pv-select');\n        }\n    };\n    /**\n     * @param element\n     * @private\n     */\n    Toolbar.prototype.deSelectItem = function (element) {\n        if (element) {\n            element.classList.remove('e-pv-select');\n        }\n    };\n    /**\n     * @param isTextSelect\n     * @private\n     */\n    Toolbar.prototype.updateInteractionTools = function (isTextSelect) {\n        var isBlazorPlatform = isBlazor();\n        if (isTextSelect) {\n            if (isBlazorPlatform) {\n                this.selectItem(this.SelectToolElement);\n                this.deSelectItem(this.PanElement);\n            }\n            else {\n                this.selectItem(this.textSelectItem);\n                if (!isNullOrUndefined(this.textSelectItem)) {\n                    this.textSelectItem.setAttribute('tabindex', '-1');\n                }\n                this.deSelectItem(this.panItem);\n                if (!isNullOrUndefined(this.panItem)) {\n                    this.panItem.setAttribute('tabindex', '0');\n                }\n            }\n        }\n        else {\n            if (isBlazorPlatform) {\n                this.selectItem(this.PanElement);\n                this.deSelectItem(this.SelectToolElement);\n            }\n            else {\n                this.selectItem(this.panItem);\n                if (!isNullOrUndefined(this.panItem)) {\n                    this.panItem.setAttribute('tabindex', '-1');\n                }\n                this.deSelectItem(this.textSelectItem);\n                if (!isNullOrUndefined(this.textSelectItem)) {\n                    this.textSelectItem.setAttribute('tabindex', '0');\n                }\n            }\n        }\n    };\n    Toolbar.prototype.initialEnableItems = function () {\n        if (this.pdfViewer.enableToolbar) {\n            this.showToolbar(true);\n        }\n        else {\n            this.showToolbar(false);\n        }\n        if (this.pdfViewer.enableNavigationToolbar) {\n            this.showNavigationToolbar(true);\n        }\n        else {\n            this.showNavigationToolbar(false);\n        }\n        if (!isBlazor()) {\n            if (this.isPrintBtnVisible) {\n                this.showPrintOption(true);\n            }\n            else {\n                this.showPrintOption(false);\n            }\n            if (this.isDownloadBtnVisible) {\n                this.showDownloadOption(true);\n            }\n            else {\n                this.showDownloadOption(false);\n            }\n            if (this.isSearchBtnVisible) {\n                this.showSearchOption(true);\n            }\n            else {\n                this.showSearchOption(false);\n            }\n            if (this.isCommentBtnVisible) {\n                this.showCommentOption(true);\n            }\n            else {\n                this.showCommentOption(false);\n            }\n        }\n    };\n    Toolbar.prototype.showSeparator = function (toolbarItems) {\n        // eslint-disable-next-line max-len\n        if (!this.isOpenBtnVisible || (!this.isNavigationToolVisible && !this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible && !this.isUndoRedoBtnsVisible)) {\n            //For mobile devices, the default previous value has been passed as (1,1).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(false, !isNullOrUndefined(this.itemsIndexArray[0]) ? this.itemsIndexArray[0].endIndex + 1 : 1, !isNullOrUndefined(this.itemsIndexArray[0]) ? this.itemsIndexArray[0].endIndex + 1 : 1);\n        }\n        if (((!this.isNavigationToolVisible && !this.isMagnificationToolVisible) && !this.isOpenBtnVisible) ||\n            (this.isOpenBtnVisible && !this.isNavigationToolVisible) ||\n            // eslint-disable-next-line max-len\n            ((!this.isOpenBtnVisible && !this.isNavigationToolVisible) || (!this.isMagnificationToolVisible && !this.isScrollingBtnVisible && !this.isSelectionBtnVisible))) {\n            //For mobile devices, the default previous value has been passed as (8,8).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(false, !isNullOrUndefined(this.itemsIndexArray[1]) ? this.itemsIndexArray[1].endIndex + 1 : 8, !isNullOrUndefined(this.itemsIndexArray[1]) ? this.itemsIndexArray[1].endIndex + 1 : 8);\n        }\n        if ((!this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible) ||\n            (this.isMagnificationToolVisible && (!this.isSelectionBtnVisible && !this.isScrollingBtnVisible)) ||\n            (!this.isMagnificationToolVisible && (this.isSelectionBtnVisible || this.isScrollingBtnVisible))) {\n            //For mobile devices, the default previous value has been passed as (12,12).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(false, !isNullOrUndefined(this.itemsIndexArray[2]) ? this.itemsIndexArray[2].endIndex + 1 : 12, !isNullOrUndefined(this.itemsIndexArray[2]) ? this.itemsIndexArray[2].endIndex + 1 : 12);\n        }\n        if (((!this.isMagnificationToolVisible && !this.isNavigationToolVisible && !this.isScrollingBtnVisible\n            && !this.isSelectionBtnVisible) && this.isUndoRedoBtnsVisible || !this.isUndoRedoBtnsVisible)) {\n            //For mobile devices, the default previous value has been passed as (15,15).\n            // eslint-disable-next-line max-len\n            this.applyHideToToolbar(false, !isNullOrUndefined(this.itemsIndexArray[4]) ? this.itemsIndexArray[4].endIndex + 1 : 15, !isNullOrUndefined(this.itemsIndexArray[4]) ? this.itemsIndexArray[4].endIndex + 1 : 15);\n        }\n        if (!this.isUndoRedoBtnsVisible || (this.isUndoRedoBtnsVisible && !this.isCommentBtnVisible && !this.isSubmitbtnvisible)) {\n            this.applyHideToToolbar(false, this.itemsIndexArray[5].endIndex + 1, this.itemsIndexArray[5].endIndex + 1);\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.applyToolbarSettings = function () {\n        var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItems;\n        if (toolbarSettingsItems) {\n            if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n                this.showOpenOption(true);\n            }\n            else {\n                this.showOpenOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('PageNavigationTool') !== -1) {\n                this.showPageNavigationTool(true);\n            }\n            else {\n                this.showPageNavigationTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('MagnificationTool') !== -1) {\n                this.showMagnificationTool(true);\n            }\n            else {\n                this.showMagnificationTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('SelectionTool') !== -1) {\n                this.showSelectionTool(true);\n            }\n            else {\n                this.showSelectionTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('PanTool') !== -1) {\n                this.showScrollingTool(true);\n            }\n            else {\n                this.showScrollingTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('PrintOption') !== -1) {\n                this.showPrintOption(true);\n            }\n            else {\n                this.showPrintOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('DownloadOption') !== -1) {\n                this.showDownloadOption(true);\n            }\n            else {\n                this.showDownloadOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n                this.showSearchOption(true);\n            }\n            else {\n                this.showSearchOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('UndoRedoTool') !== -1) {\n                this.showUndoRedoTool(true);\n            }\n            else {\n                this.showUndoRedoTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('AnnotationEditTool') !== -1) {\n                this.showAnnotationEditTool(true);\n            }\n            else {\n                this.showAnnotationEditTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('FormDesignerEditTool') !== -1) {\n                this.showFormDesignerEditTool(true);\n            }\n            else {\n                this.showFormDesignerEditTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('CommentTool') !== -1) {\n                this.showCommentOption(true);\n            }\n            else {\n                this.showCommentOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('SubmitForm') !== -1) {\n                this.showSubmitForm(true);\n            }\n            else {\n                this.showSubmitForm(false);\n            }\n            this.showSeparator(toolbarSettingsItems);\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.applyToolbarSettingsForMobile = function () {\n        var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItems;\n        if (toolbarSettingsItems) {\n            if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n                this.showOpenOption(true);\n            }\n            else {\n                this.showOpenOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('UndoRedoTool') !== -1) {\n                this.showUndoRedoTool(true);\n            }\n            else {\n                this.showUndoRedoTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('AnnotationEditTool') !== -1) {\n                this.showAnnotationEditTool(true);\n            }\n            else {\n                this.showAnnotationEditTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n                this.showSearchOption(true);\n            }\n            else {\n                this.showSearchOption(false);\n            }\n        }\n    };\n    Toolbar.prototype.getStampMode = function () {\n        if (this.pdfViewer.annotation && this.pdfViewer.annotation.stampAnnotationModule) {\n            return this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode;\n        }\n        else {\n            return false;\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.stampBeforeOpen = function (args) {\n        this.annotationToolbarModule.resetFreeTextAnnot();\n        if (args.ParentItem.Text === '' && this.pdfViewer.customStampSettings.isAddToMenu && args.Items.length > 0) {\n            // eslint-disable-next-line\n            var currentElements = null;\n            for (var i = 0; i < args.Items.length; i++) {\n                if (args.Items[i].Text === 'Custom Stamp') {\n                    args.Items[i].Items = [];\n                    currentElements = args.Items[i];\n                    break;\n                }\n            }\n            // eslint-disable-next-line\n            var elements = this.pdfViewerBase.customStampCollection;\n            // eslint-disable-next-line\n            var stampElements = this.pdfViewer.customStampSettings.customStamps;\n            if (elements.length === 0 && stampElements && stampElements.length > 0) {\n                for (var n = 0; n < stampElements.length; n++) {\n                    // eslint-disable-next-line max-len\n                    elements.push({ customStampName: stampElements[n].customStampName, customStampImageSource: stampElements[n].customStampImageSource });\n                }\n            }\n            for (var m = 0; m < elements.length; m++) {\n                if (currentElements != null) {\n                    currentElements.Items.push({ text: elements[m].customStampName });\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.stampBeforeClose = function (args, showItemOnClick) {\n        // eslint-disable-next-line max-len\n        if ((args.ParentItem && args.ParentItem.Text !== 'Custom Stamp' && args.ParentItem.Text !== 'Standard Business' && args.ParentItem.Text !== 'Dynamic' && args.ParentItem.Text !== 'Sign Here') || !args.ParentItem) {\n            showItemOnClick = true;\n        }\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line\n    Toolbar.prototype.updateStampItems = function () {\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.stampAnnotationModule && this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot) {\n            if (this.pdfViewer.selectedItems.annotations[0]) {\n                this.pdfViewer.remove(this.pdfViewer.selectedItems.annotations[0]);\n                this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber - 1);\n                this.pdfViewer.renderDrawing();\n                this.pdfViewerBase.tool = null;\n            }\n            this.pdfViewerBase.isAlreadyAdded = false;\n            this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot = false;\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.stampSelect = function (args, stampParentID) {\n        this.pdfViewerBase.isAlreadyAdded = false;\n        this.updateStampItems();\n        if (args.Item.Text === 'Custom Stamp') {\n            this.annotationToolbarModule.checkStampAnnotations();\n            this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n            // eslint-disable-next-line\n            var stampImage = createElement('input', { id: this.pdfViewer.element.id + '_stampElement', attrs: { 'type': 'file' } });\n            stampImage.setAttribute('accept', '.jpg,.jpeg,.png');\n            stampImage.style.position = 'absolute';\n            stampImage.style.left = '0px';\n            stampImage.style.top = '0px';\n            stampImage.style.visibility = 'hidden';\n            document.body.appendChild(stampImage);\n            stampImage.click();\n            stampImage.addEventListener('change', this.annotationToolbarModule.addStampImage);\n            document.body.removeChild(stampImage);\n            // eslint-disable-next-line max-len\n        }\n        else if (stampParentID === 'Custom Stamp' && args.Item.Text !== '') {\n            // eslint-disable-next-line\n            var elements = this.pdfViewerBase.customStampCollection;\n            for (var n = 0; n < elements.length; n++) {\n                if (elements[n].customStampName === args.Item.Text) {\n                    this.pdfViewer.annotationModule.stampAnnotationModule.customStampName = args.Item.Text;\n                    this.annotationToolbarModule.checkStampAnnotations();\n                    this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n                    this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected = true;\n                    this.pdfViewerBase.stampAdded = true;\n                    this.pdfViewerBase.isAlreadyAdded = true;\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(elements[n].customStampImageSource);\n                    this.pdfViewerBase.stampAdded = false;\n                }\n            }\n            // eslint-disable-next-line max-len\n        }\n        else if (args.Item.Text !== 'Dynamic' && args.Item.Text !== '' && args.Item.Text !== 'Standard Business' && (stampParentID === 'Sign Here' || args.Item.Text !== 'Sign Here')) {\n            this.annotationToolbarModule.checkStampAnnotations();\n            this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n            this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected = true;\n            this.pdfViewerBase.stampAdded = true;\n            if (stampParentID === 'Dynamic') {\n                this.pdfViewerBase.isDynamicStamp = true;\n                this.pdfViewer.annotationModule.stampAnnotationModule.retrieveDynamicStampAnnotation(args.Item.Text);\n            }\n            else {\n                this.pdfViewerBase.isDynamicStamp = false;\n                this.pdfViewer.annotationModule.stampAnnotationModule.retrievestampAnnotation(args.Item.Text);\n            }\n        }\n    };\n    Toolbar.prototype.enableItems = function (element, isEnable) {\n        this.toolbar.enableItems(element, isEnable);\n        if (element && element.id === this.pdfViewer.element.id + '_zoomDropDownContainer') {\n            this.pdfViewerBase.getElement('_zoomDropDown').setAttribute('tabindex', isEnable ? '0' : '-1');\n            this.pdfViewerBase.getElement('_zoomDropDown').setAttribute('data-tabindex', isEnable ? '0' : '-1');\n        }\n        else if (element.firstElementChild && element.id !== this.pdfViewer.element.id + '_zoomDropDownContainer') {\n            element.firstElementChild.setAttribute('tabindex', isEnable ? '0' : '-1');\n            element.firstElementChild.setAttribute('data-tabindex', isEnable ? '0' : '-1');\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'Toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}