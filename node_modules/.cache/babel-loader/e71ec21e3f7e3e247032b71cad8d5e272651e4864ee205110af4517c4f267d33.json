{"ast":null,"code":"import React,{useState}from'react';import data from\"../data/hero.json\";import{useNavigate}from'react-router-dom';import axios from'axios';import Flipbook from'./cusComponents/3d-flipbook/3d-flipbook';import CustomModal from'./cusComponents/modal/modal';import'./ultimate.css';// import './3d-ultimateFB.css';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UltimateHero=_ref=>{let{isBg,ultimateData,heroData={}}=_ref;const{herov2}=data;// Make sure 'data' is properly defined\nconst navigate=useNavigate();const[showModal,setShowModal]=useState(false);const[checkboxError,setCheckboxError]=useState(\"\");const[nameError,setNameError]=useState(\"\");const[emailError,setEmailError]=useState(\"\");const[acceptTerms,setAcceptTerms]=useState(false);const[submitError,setSubmitError]=useState(\"\");const[showTermsError,setShowTermsError]=useState(false);const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const handleLinkClick=link=>{navigate(link);};const handleCloseModal=()=>{setName(\"\");setEmail(\"\");setShowModal(false);};const validateInputs=()=>{let isValid=true;// Validate acceptance of terms\nif(!acceptTerms){setCheckboxError(true);isValid=false;}else{setCheckboxError(false);}// Validate Name\nif(!name.trim()){setNameError(true);isValid=false;}else{setNameError(false);}// Validate Email\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!email.trim()||!emailRegex.test(email)){setEmailError(true);isValid=false;}else{setEmailError(false);}return isValid;};const handleSubmit=async()=>{try{var _paymentResponse$data,_paymentResponse$data2;setSubmitError(\"\");if(!validateInputs()){setShowTermsError(!acceptTerms);return;}const paymentResponse=await axios.get(\"http://localhost:7000/payment/createPaymentIntent/?email=\".concat(email,\"&name=\").concat(name));window.location.href=paymentResponse===null||paymentResponse===void 0?void 0:(_paymentResponse$data=paymentResponse.data)===null||_paymentResponse$data===void 0?void 0:(_paymentResponse$data2=_paymentResponse$data.data)===null||_paymentResponse$data2===void 0?void 0:_paymentResponse$data2.url;}catch(error){console.log(error);if(error.response.data.message)setSubmitError(error.response.data.message);else setSubmitError(\"Error creating payment intent\");}};return/*#__PURE__*/_jsxs(\"section\",{id:\"hero\",className:\"hero hero__padding overflow-hidden position-relative custom-ultimate \".concat(isBg===\"yes\"?\"bg-one\":\"\"),style:{background:\"url('/assets/images/background-img.jpg')\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"container  position-relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center justify-content-between ultimate-cont-cus\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-7 col-lg-6 m-0px-b md-m-40px-b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero__content position-relative\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 mb-4 text-capitalize\",id:\"ultimate-title\",children:ultimateData.titleText}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-5 fs-5\",id:\"ultimate-text\",children:ultimateData.shortDescription}),/*#__PURE__*/_jsx(\"div\",{className:\"ulti-btn\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"glightbox3 btn__secondary\",onClick:()=>setShowModal(true),children:ultimateData.button})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5 offset-lg-15 text-center badge-image\",children:/*#__PURE__*/_jsx(Flipbook,{heroData:heroData})})]})}),/*#__PURE__*/_jsx(CustomModal,{showModal:showModal,handleCloseModal:handleCloseModal,handleLinkClick:handleLinkClick,heroData:heroData})]});};export default UltimateHero;","map":{"version":3,"names":["React","useState","data","useNavigate","axios","Flipbook","CustomModal","jsx","_jsx","jsxs","_jsxs","UltimateHero","_ref","isBg","ultimateData","heroData","herov2","navigate","showModal","setShowModal","checkboxError","setCheckboxError","nameError","setNameError","emailError","setEmailError","acceptTerms","setAcceptTerms","submitError","setSubmitError","showTermsError","setShowTermsError","name","setName","email","setEmail","handleLinkClick","link","handleCloseModal","validateInputs","isValid","trim","emailRegex","test","handleSubmit","_paymentResponse$data","_paymentResponse$data2","paymentResponse","get","concat","window","location","href","url","error","console","log","response","message","id","className","style","background","children","titleText","shortDescription","onClick","button"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/src/components/ultimateHero.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport data from \"../data/hero.json\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Flipbook from './cusComponents/3d-flipbook/3d-flipbook';\r\nimport CustomModal from './cusComponents/modal/modal';\r\nimport './ultimate.css';\r\n// import './3d-ultimateFB.css';\r\n\r\nconst UltimateHero = ({ isBg, ultimateData,heroData = {} }) => {\r\n  const { herov2 } = data; // Make sure 'data' is properly defined\r\n  const navigate = useNavigate();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [checkboxError, setCheckboxError] = useState(\"\")\r\n  const [nameError, setNameError] = useState(\"\");\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [acceptTerms, setAcceptTerms] = useState(false);\r\n  const [submitError, setSubmitError] = useState(\"\");\r\n  const [showTermsError, setShowTermsError] = useState(false); const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const handleLinkClick = (link) => {\r\n    navigate(link);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setName(\"\");\r\n    setEmail(\"\");\r\n    setShowModal(false);\r\n  };\r\n\r\n  const validateInputs = () => {\r\n    let isValid = true;\r\n\r\n    // Validate acceptance of terms\r\n    if (!acceptTerms) {\r\n      setCheckboxError(true);\r\n      isValid = false;\r\n    } else {\r\n      setCheckboxError(false);\r\n    }\r\n\r\n    // Validate Name\r\n    if (!name.trim()) {\r\n      setNameError(true);\r\n      isValid = false;\r\n    } else {\r\n      setNameError(false);\r\n    }\r\n\r\n    // Validate Email\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!email.trim() || !emailRegex.test(email)) {\r\n      setEmailError(true);\r\n      isValid = false;\r\n    } else {\r\n      setEmailError(false);\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setSubmitError(\"\");\r\n      if (!validateInputs()) {\r\n        setShowTermsError(!acceptTerms);\r\n        return;\r\n      }\r\n      const paymentResponse = await axios.get(`http://localhost:7000/payment/createPaymentIntent/?email=${email}&name=${name}`)\r\n      window.location.href = paymentResponse?.data?.data?.url;\r\n    }\r\n    catch (error) {\r\n      console.log(error)\r\n      if (error.response.data.message)\r\n        setSubmitError(error.response.data.message);\r\n      else\r\n        setSubmitError(\"Error creating payment intent\")\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <section\r\n      id=\"hero\"\r\n      className={`hero hero__padding overflow-hidden position-relative custom-ultimate ${isBg === \"yes\" ? \"bg-one\" : \"\"\r\n        }`}\r\n      style={{ background: `url('/assets/images/background-img.jpg')` }}\r\n    >\r\n      <div className=\"container  position-relative\">\r\n        <div className=\"row align-items-center justify-content-between ultimate-cont-cus\">\r\n          <div className=\"col-md-7 col-lg-6 m-0px-b md-m-40px-b\">\r\n            <div className=\"hero__content position-relative\">\r\n              <h1 className=\"display-4 mb-4 text-capitalize\" id=\"ultimate-title\">{ultimateData.titleText}</h1>\r\n              <p className=\"text-muted mb-5 fs-5\" id='ultimate-text'>{ultimateData.shortDescription}</p>\r\n              <div className='ulti-btn'>\r\n                <a href=\"#\" className=\"glightbox3 btn__secondary\" onClick={() => setShowModal(true)}>\r\n                  {ultimateData.button}\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-5 offset-lg-15 text-center badge-image\">\r\n            <Flipbook heroData={heroData} />\r\n            {/* <div className=\"hero__images--badge\" onClick={(e) => handleLinkClick('/book', e)}>\r\n                <span>\r\n                  <span className=\"hero__images--badge--text1\">\r\n                    {herov2.tagTitle}\r\n                  </span>\r\n                  <span className=\"hero__images--badge--text2\">\r\n                    {herov2.tagText}\r\n                  </span>\r\n                </span>\r\n            </div> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <CustomModal\r\n        showModal={showModal}\r\n        handleCloseModal={handleCloseModal}\r\n        handleLinkClick={handleLinkClick}\r\n        heroData={heroData}\r\n      />\r\n    </section>\r\n  );\r\n};\r\n\r\n\r\nexport default UltimateHero;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}