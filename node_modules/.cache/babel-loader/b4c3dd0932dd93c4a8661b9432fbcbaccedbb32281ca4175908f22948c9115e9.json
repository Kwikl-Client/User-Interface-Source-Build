{"ast":null,"code":"import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { AjaxHandler } from '../index';\n/**\n * Print module\n */\nvar Print = /** @class */function () {\n  /**\n   * @param viewer\n   * @param base\n   * @private\n   */\n  function Print(viewer, base) {\n    this.printHeight = 1056;\n    this.printWidth = 816;\n    this.pdfViewer = viewer;\n    this.pdfViewerBase = base;\n  }\n  /**\n   * Print the PDF document being loaded in the ejPdfViewer control.\n   *\n   * @returns void\n   */\n  Print.prototype.print = function () {\n    var _this = this;\n    var pageIndex;\n    if (this.pdfViewerBase.pageCount > 0) {\n      // eslint-disable-next-line max-len\n      this.printViewerContainer = createElement('div', {\n        id: this.pdfViewer.element.id + '_print_viewer_container',\n        className: 'e-pv-print-viewer-container'\n      });\n      if (this.pdfViewer.printMode === 'Default') {\n        this.pdfViewerBase.showPrintLoadingIndicator(true);\n        this.iframe = document.createElement('iframe');\n        this.iframe.className = 'iframeprint';\n        this.iframe.id = 'iframePrint';\n        this.iframe.style.position = 'fixed';\n        this.iframe.style.top = '-100000000px';\n        document.body.appendChild(this.iframe);\n        this.frameDoc = this.iframe.contentWindow ? this.iframe.contentWindow : this.iframe.contentDocument;\n        this.frameDoc.document.open();\n      } else {\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n        this.createPrintLoadingIndicator(this.printWindow.document.body);\n      }\n      setTimeout(function () {\n        for (pageIndex = 0; pageIndex < _this.pdfViewerBase.pageCount; pageIndex++) {\n          var pageWidth = _this.pdfViewerBase.pageSize[pageIndex].width;\n          var pageHeight = _this.pdfViewerBase.pageSize[pageIndex].height;\n          // Check if the document is A4 by comparing the A4 standard values with the buffer value\n          var a4StdWidth = 793;\n          var a4StdHeight = 1122;\n          var bufferWidth = 10;\n          var bufferHeight = 10;\n          //Reduced the A4 standard width and height to prevent blank pages while printing\n          var a4PrintWidth = 783;\n          var a4PrintHeight = 1110;\n          _this.printWidth = 816;\n          _this.printHeight = 1056;\n          // Check if the A4 document is protrait or landscape\n          if (pageWidth > pageHeight) {\n            a4StdWidth = 1122;\n            a4StdHeight = 793;\n          }\n          if (!(pageWidth >= a4StdWidth + bufferWidth || pageWidth <= a4StdWidth - bufferWidth) && !(pageHeight >= a4StdHeight + bufferHeight || pageHeight <= a4StdHeight - bufferHeight)) {\n            _this.printWidth = a4PrintWidth;\n            _this.printHeight = a4PrintHeight;\n          }\n          _this.pdfViewer.printModule.createRequestForPrint(pageIndex, pageWidth, pageHeight, _this.pdfViewerBase.pageCount, _this.pdfViewer.printScaleRatio);\n        }\n        _this.pdfViewer.firePrintEnd(_this.pdfViewer.downloadFileName);\n      }, 100);\n    }\n  };\n  Print.prototype.createRequestForPrint = function (pageIndex, pageWidth, pageHeight, pageCount, printScaleFactor) {\n    var proxy = this;\n    // tslint: disable-next-line:max-line-length\n    // set default zoomFactor value.\n    var jsonObject = {\n      pageNumber: pageIndex.toString(),\n      documentId: this.pdfViewerBase.documentId,\n      hashId: this.pdfViewerBase.hashId,\n      zoomFactor: \"1\",\n      action: 'PrintImages',\n      elementId: this.pdfViewer.element.id,\n      uniqueId: this.pdfViewerBase.documentId,\n      digitalSignaturePresent: this.pdfViewerBase.digitalSignaturePresent(pageIndex)\n    };\n    if (this.pdfViewerBase.jsonDocumentId) {\n      // eslint-disable-next-line\n      jsonObject.documentId = this.pdfViewerBase.jsonDocumentId;\n    }\n    proxy.pdfViewerBase.createFormfieldsJsonData();\n    proxy.printRequestHandler = new AjaxHandler(proxy.pdfViewer);\n    proxy.printRequestHandler.url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.print;\n    proxy.printRequestHandler.responseType = null;\n    proxy.printRequestHandler.mode = false;\n    if (this.pdfViewerBase.validateForm && this.pdfViewer.enableFormFieldsValidation) {\n      this.pdfViewer.fireValidatedFailed(proxy.pdfViewer.serverActionSettings.download);\n      this.pdfViewerBase.validateForm = false;\n      this.pdfViewerBase.showPrintLoadingIndicator(false);\n    } else {\n      if (proxy.pdfViewerBase.clientSideRendering) {\n        this.pdfViewerBase.pdfViewerRunner.postMessage({\n          pageIndex: pageIndex,\n          message: 'printImage',\n          printScaleFactor: printScaleFactor >= 1 ? printScaleFactor : 1\n        });\n      } else {\n        proxy.printRequestHandler.send(jsonObject);\n      }\n    }\n    // eslint-disable-next-line\n    proxy.printRequestHandler.onSuccess = function (result) {\n      proxy.printSuccess(result, pageWidth, pageHeight, pageIndex);\n    };\n    // eslint-disable-next-line\n    this.printRequestHandler.onFailure = function (result) {\n      proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.print);\n    };\n    // eslint-disable-next-line\n    this.printRequestHandler.onError = function (result) {\n      proxy.pdfViewerBase.openNotificationPopup();\n      proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.print);\n    };\n  };\n  /**\n   * @private\n   */\n  Print.prototype.printOnMessage = function (event) {\n    var canvas = document.createElement('canvas');\n    var _a = event.data,\n      value = _a.value,\n      width = _a.width,\n      height = _a.height,\n      pageIndex = _a.pageIndex,\n      pageWidth = _a.pageWidth,\n      pageHeight = _a.pageHeight;\n    canvas.width = width;\n    canvas.height = height;\n    var canvasContext = canvas.getContext('2d');\n    var imageData = canvasContext.createImageData(width, height);\n    imageData.data.set(value);\n    canvasContext.putImageData(imageData, 0, 0);\n    var imageUrl = canvas.toDataURL();\n    var data = {\n      image: imageUrl,\n      pageNumber: pageIndex,\n      uniqueId: this.pdfViewerBase.documentId,\n      pageWidth: width\n    };\n    this.printSuccess(data, pageWidth, pageHeight, pageIndex);\n  };\n  Print.prototype.printSuccess = function (result, pageWidth, pageHeight, pageIndex) {\n    var _this = this;\n    this.pdfViewerBase.isPrint = true;\n    // eslint-disable-next-line\n    var printImage = this.pdfViewerBase.clientSideRendering ? result : result.data;\n    var redirect = this.pdfViewerBase.checkRedirection(printImage);\n    if (redirect) {\n      this.pdfViewerBase.showPrintLoadingIndicator(false);\n    } else {\n      if (printImage) {\n        if (typeof printImage !== 'object') {\n          try {\n            printImage = JSON.parse(printImage);\n            if (typeof printImage !== 'object') {\n              this.pdfViewerBase.onControlError(500, printImage, this.pdfViewer.serverActionSettings.print);\n              printImage = null;\n            }\n          } catch (error) {\n            this.pdfViewerBase.onControlError(500, printImage, this.pdfViewer.serverActionSettings.print);\n            printImage = null;\n          }\n        }\n      }\n      if (printImage && printImage.uniqueId === this.pdfViewerBase.documentId) {\n        this.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.print, printImage);\n        var annotationSource_1 = '';\n        if (!this.pdfViewer.annotationSettings.skipPrint) {\n          // eslint-disable-next-line\n          var annotationCollections = this.pdfViewerBase.documentAnnotationCollections;\n          if (annotationCollections && annotationCollections[printImage.pageNumber] && this.pdfViewerBase.isTextMarkupAnnotationModule()) {\n            // eslint-disable-next-line\n            var printCollection = annotationCollections[printImage.pageNumber];\n            if (this.pdfViewerBase.isImportAction) {\n              var textMarkupAnnotation = printCollection.textMarkupAnnotation;\n              var shapeAnnotation = printCollection.shapeAnnotation;\n              var measureShapeAnnotation = printCollection.measureShapeAnnotation;\n              var stampAnnotation = printCollection.stampAnnotations;\n              var freeTextAnnotation = printCollection.freeTextAnnotation;\n              // eslint-disable-next-line\n              var stickyNoteAnnotation = printCollection.stickyNotesAnnotation;\n              // eslint-disable-next-line max-len\n              annotationSource_1 = this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(textMarkupAnnotation, printImage.pageNumber, stampAnnotation, shapeAnnotation, measureShapeAnnotation, stickyNoteAnnotation, freeTextAnnotation);\n            } else {\n              // eslint-disable-next-line max-len\n              annotationSource_1 = this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(printCollection.textMarkupAnnotation, printImage.pageNumber, printCollection.stampAnnotations, printCollection.shapeAnnotation, printCollection.measureShapeAnnotation, printCollection.stickyNoteAnnotation, printCollection.freeTextAnnotation);\n            }\n          }\n          if (this.pdfViewerBase.isAnnotationCollectionRemoved) {\n            // eslint-disable-next-line max-len\n            annotationSource_1 = this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(null, printImage.pageNumber, null, null, null, null, null);\n          }\n        }\n        var currentPageNumber_1 = printImage.pageNumber;\n        // eslint-disable-next-line max-len\n        this.printCanvas = createElement('canvas', {\n          id: this.pdfViewer.element.id + '_printCanvas_' + pageIndex,\n          className: 'e-pv-print-canvas'\n        });\n        this.printCanvas.style.width = pageWidth + 'px';\n        this.printCanvas.style.height = pageHeight + 'px';\n        var printScaleValue = 2;\n        if (this.pdfViewerBase.clientSideRendering) {\n          //An A0 piece of paper measures 33.1 Ã— 46.8 inches, with 46.8 inches being the greater dimension. The pixel value of 46.8 inches is 4493px. If the document size is too large, we may not be able to display the image. Therefore, we should consider the maximum size of A0 paper if the page size is greater than 4493 pixels.\n          var maxPageSize = 4493;\n          var whichIsBigger = pageWidth > pageHeight ? 'Width' : 'Height';\n          var maxWidth = pageWidth;\n          var maxHeight = pageHeight;\n          if (whichIsBigger === 'Width') {\n            maxWidth = pageWidth > maxPageSize ? maxPageSize : pageWidth;\n            if (maxWidth === maxPageSize) {\n              maxHeight = pageHeight / (pageWidth / maxPageSize);\n            }\n          } else {\n            maxHeight = pageHeight > maxPageSize ? maxPageSize : pageHeight;\n            if (maxHeight === maxPageSize) {\n              maxWidth = pageWidth / (pageHeight / maxPageSize);\n            }\n          }\n          if (pageHeight < pageWidth && this.pdfViewer.enablePrintRotation) {\n            this.printCanvas.height = pageWidth * printScaleValue * window.devicePixelRatio;\n            this.printCanvas.width = pageHeight * printScaleValue * window.devicePixelRatio;\n          } else {\n            this.printCanvas.height = maxHeight * printScaleValue * window.devicePixelRatio;\n            this.printCanvas.width = maxWidth * printScaleValue * window.devicePixelRatio;\n          }\n        } else {\n          this.printCanvas.height = this.printHeight * printScaleValue * window.devicePixelRatio;\n          this.printCanvas.width = this.printWidth * printScaleValue * window.devicePixelRatio;\n        }\n        var context_1 = this.printCanvas.getContext('2d');\n        var pageImage_1 = new Image();\n        var annotationImage_1 = new Image();\n        pageImage_1.onload = function () {\n          if (pageHeight > pageWidth || !_this.pdfViewer.enablePrintRotation) {\n            context_1.drawImage(pageImage_1, 0, 0, _this.printCanvas.width, _this.printCanvas.height);\n            if (annotationSource_1) {\n              context_1.drawImage(annotationImage_1, 0, 0, _this.printCanvas.width, _this.printCanvas.height);\n            }\n          } else {\n            // translate to center canvas\n            context_1.translate(_this.printCanvas.width * 0.5, _this.printCanvas.height * 0.5);\n            // rotate the canvas to - 90 degree\n            context_1.rotate(-0.5 * Math.PI);\n            // un translate the canvas back to origin\n            context_1.translate(-_this.printCanvas.height * 0.5, -_this.printCanvas.width * 0.5);\n            // draw the image\n            context_1.drawImage(pageImage_1, 0, 0, _this.printCanvas.height, _this.printCanvas.width);\n            if (annotationSource_1) {\n              context_1.drawImage(annotationImage_1, 0, 0, _this.printCanvas.height, _this.printCanvas.width);\n            }\n          }\n          if (currentPageNumber_1 === _this.pdfViewerBase.pageCount - 1) {\n            _this.printWindowOpen();\n          }\n          _this.pdfViewer.renderDrawing(null, pageIndex);\n        };\n        pageImage_1.src = printImage.image;\n        annotationImage_1.src = annotationSource_1;\n        this.printViewerContainer.appendChild(this.printCanvas);\n      }\n    }\n    this.pdfViewerBase.isPrint = false;\n  };\n  // eslint-disable-next-line\n  Print.prototype.renderFieldsForPrint = function (pageIndex, heightRatio, widthRatio) {\n    // eslint-disable-next-line\n    var data = null;\n    var targetField;\n    if (this.pdfViewer.printMode === 'Default') {\n      targetField = this.frameDoc.document.getElementById('fields_' + pageIndex);\n    } else {\n      targetField = this.printWindow.document.getElementById('fields_' + pageIndex);\n    }\n    if (this.pdfViewer.formFieldsModule) {\n      data = this.pdfViewerBase.getItemFromSessionStorage('_formfields');\n    }\n    if (!this.pdfViewer.formDesignerModule) {\n      if (data) {\n        // eslint-disable-next-line\n        var formFieldsData = JSON.parse(data);\n        for (var i = 0; i < formFieldsData.length; i++) {\n          // eslint-disable-next-line\n          var currentData = formFieldsData[i];\n          // eslint-disable-next-line\n          if (parseFloat(currentData['PageIndex']) === pageIndex) {\n            // eslint-disable-next-line\n            var field = this.pdfViewer.formFieldsModule.createFormFields(currentData, pageIndex, i, targetField);\n            // eslint-disable-next-line\n            var inputField = field.currentField;\n            if (inputField) {\n              // eslint-disable-next-line\n              var bounds = currentData['LineBounds'];\n              // eslint-disable-next-line\n              var font = currentData['Font'];\n              this.applyPosition(inputField, bounds, font, heightRatio, widthRatio);\n              inputField.InsertSpaces = currentData.InsertSpaces;\n              if (inputField.InsertSpaces) {\n                // eslint-disable-next-line\n                var font_1 = parseInt(inputField.style.width) / inputField.maxLength - parseFloat(inputField.style.fontSize) / 2 - 0.6;\n                inputField.style.letterSpacing = '' + font_1 + 'px';\n                inputField.style.fontFamily = 'monospace';\n              }\n              // eslint-disable-next-line\n              var pageDetails = this.pdfViewerBase.pageSize[pageIndex];\n              if (pageDetails.width > pageDetails.height && this.pdfViewer.enablePrintRotation) {\n                /*\n                The below logig have been modified for the bug https://syncfusion.atlassian.net/browse/EJ2-57986\n                This code changes is specific for form field elements.\n                         inputField.style.transform = 'rotate(-90deg)';\n                    let previousLeft: number = parseFloat(inputField.style.left);\n                    let currentWidthPosition: number = parseFloat(inputField.style.width) / 2;\n                    let currentHeightPosition: number = parseFloat(inputField.style.height) / 2;\n                    let currentTop: number = parseFloat(inputField.style.top);\n                    let currentHeight: number = parseFloat(inputField.style.height);\n                    inputField.style.left = (currentHeightPosition - currentWidthPosition + currentTop) + 'px';\n                    inputField.style.top = (pageDetails.width / widthRatio) - (currentHeight / heightRatio) - ((currentWidthPosition / heightRatio) - (currentHeightPosition / heightRatio) + previousLeft) + 'px';\n                */\n                var x = this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.X);\n                var y = this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Y);\n                var width = this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Width);\n                var height = this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Height);\n                var pageHeight = pageDetails.width;\n                var top = pageHeight - x - height;\n                var left = y + height;\n                var width = width;\n                var height = height;\n                inputField.style.transform = \"rotate(-90deg)\";\n                inputField.style.transformOrigin = \"left bottom\";\n                inputField.style.left = left + 'px';\n                inputField.style.top = top + 'px';\n                inputField.style.height = height + 'px';\n                inputField.style.width = width + 'px';\n              }\n              inputField.style.backgroundColor = 'transparent';\n              if (!currentData.IsSignatureField) {\n                inputField.style.borderColor = 'transparent';\n              }\n              targetField.appendChild(inputField);\n            }\n          }\n        }\n      }\n    } else {\n      var formDesignerData = null;\n      if (this.pdfViewer.formDesignerModule) {\n        formDesignerData = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n      }\n      if (formDesignerData) {\n        var formDesignerFieldsData = JSON.parse(formDesignerData);\n        for (var i = 0; i < formDesignerFieldsData.length; i++) {\n          // eslint-disable-next-line\n          var currentData = formDesignerFieldsData[i].FormField;\n          if (currentData.pageNumber - 1 === pageIndex && currentData.isPrint) {\n            var signatureField = this.pdfViewer.nameTable[formDesignerFieldsData[i].Key.split(\"_\")[0]];\n            var element = signatureField.wrapper.children[0];\n            var htmlElement = void 0;\n            if (element) {\n              if (currentData.formFieldAnnotationType === \"RadioButton\") {\n                for (var j = 0; j < currentData.radiobuttonItem.length; j++) {\n                  signatureField = this.pdfViewer.nameTable[currentData.radiobuttonItem[j].id.split(\"_\")[0]];\n                  htmlElement = this.createFormDesignerFields(currentData.radiobuttonItem[j], element, signatureField);\n                  if (htmlElement) {\n                    // eslint-disable-next-line\n                    var bounds = currentData.radiobuttonItem[j].lineBound;\n                    // eslint-disable-next-line\n                    var font = currentData.radiobuttonItem[j].fontFamily;\n                    this.applyPosition(htmlElement, bounds, font, heightRatio, widthRatio, true, currentData.radiobuttonItem[j].zoomValue, currentData.pageNumber - 1);\n                    targetField.appendChild(htmlElement);\n                  }\n                }\n              } else {\n                htmlElement = this.createFormDesignerFields(currentData, element, signatureField);\n                if (htmlElement) {\n                  // eslint-disable-next-line\n                  var bounds = currentData.lineBound;\n                  // eslint-disable-next-line\n                  var font = currentData.fontFamily;\n                  this.applyPosition(htmlElement, bounds, font, heightRatio, widthRatio, true, currentData.zoomValue, currentData.pageNumber - 1);\n                  targetField.appendChild(htmlElement);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n  Print.prototype.createFormDesignerFields = function (currentData, element, signatureField) {\n    var htmlElement;\n    var parentHtmlElement;\n    var parentHtmlElementAttribute = {\n      'id': \"form_field_\" + element.id + '_html_element',\n      'class': 'foreign-object'\n    };\n    parentHtmlElement = this.pdfViewer.formDesignerModule.createHtmlElement('div', parentHtmlElementAttribute);\n    var HtmlElementAttribute = {\n      'id': element.id + '_html_element',\n      'class': 'foreign-object'\n    };\n    htmlElement = this.pdfViewer.formDesignerModule.createHtmlElement('div', HtmlElementAttribute);\n    if (currentData.formFieldAnnotationType === \"SignatureField\" || currentData.formFieldAnnotationType === \"InitialField\") {\n      this.pdfViewer.formDesignerModule.disableSignatureClickEvent = true;\n      element.template = htmlElement.appendChild(this.pdfViewer.formDesignerModule.createSignatureDialog(this.pdfViewer, signatureField, null, true));\n      this.pdfViewer.formDesignerModule.disableSignatureClickEvent = false;\n    } else if (currentData.formFieldAnnotationType === \"DropdownList\") {\n      element.template = htmlElement.appendChild(this.pdfViewer.formDesignerModule.createDropDownList(element, signatureField, true));\n    } else if (currentData.formFieldAnnotationType === \"ListBox\") {\n      element.template = htmlElement.appendChild(this.pdfViewer.formDesignerModule.createListBox(element, signatureField, true));\n    } else {\n      element.template = htmlElement.appendChild(this.pdfViewer.formDesignerModule.createInputElement(currentData.formFieldAnnotationType, signatureField, null, true));\n    }\n    parentHtmlElement.appendChild(htmlElement);\n    return htmlElement;\n  };\n  /**\n   * @param inputField\n   * @param bounds\n   * @param font\n   * @param heightRatio\n   * @param widthRatio\n   * @param inputField\n   * @param bounds\n   * @param font\n   * @param heightRatio\n   * @param widthRatio\n   * @private\n   */\n  // eslint-disable-next-line\n  Print.prototype.applyPosition = function (inputField, bounds, font, heightRatio, widthRatio, isFormDesignerField, zoomValue, pageIndex) {\n    if (bounds) {\n      var pageHeight = void 0;\n      var left = void 0;\n      var top_1;\n      var width = void 0;\n      var height = void 0;\n      // This code changes is specific for form designer elements. https://syncfusion.atlassian.net/browse/EJ2-57986 \n      var pageDetails = this.pdfViewerBase.pageSize[pageIndex];\n      var actualWidth = pageDetails ? pageDetails.width : 0;\n      var actualHeight = pageDetails ? pageDetails.height : 0;\n      if (isFormDesignerField && actualHeight < actualWidth && this.pdfViewer.enablePrintRotation) {\n        /*\n        The below logig have been modified for the bug https://syncfusion.atlassian.net/browse/EJ2-57986\n        This code changes is specific for form designer elements.\n        pageHeight = actualWidth;\n        top=  pageHeight - bounds.X / zoomValue;\n        left = bounds.Y / zoomValue;\n        width = (bounds.Width / zoomValue);\n        height = (bounds.Height / zoomValue);\n        inputField.style.transform = \"rotate(-90deg)\";\n        inputField.style.transformOrigin = \"top left\";\n        */\n        // need to set inverse page height and width  \n        pageHeight = actualWidth;\n        top_1 = pageHeight - bounds.X / zoomValue - bounds.Height / zoomValue;\n        left = (bounds.Y + bounds.Height) / zoomValue;\n        width = bounds.Width / zoomValue;\n        height = bounds.Height / zoomValue;\n        inputField.style.transform = \"rotate(-90deg)\";\n        inputField.style.transformOrigin = \"left bottom\";\n      } else {\n        left = isFormDesignerField ? bounds.X / zoomValue / widthRatio : this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.X) / widthRatio;\n        top_1 = isFormDesignerField ? bounds.Y / zoomValue / heightRatio : this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Y) / heightRatio;\n        width = isFormDesignerField ? bounds.Width / zoomValue / widthRatio : this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Width) / widthRatio;\n        height = isFormDesignerField ? bounds.Height / zoomValue / heightRatio : this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Height) / heightRatio;\n      }\n      var fontHeight = 0;\n      if (font !== null && font.Height) {\n        inputField.style.fontFamily = font.Name;\n        if (font.Italic) {\n          inputField.style.fontStyle = 'italic';\n        }\n        if (font.Bold) {\n          inputField.style.fontWeight = 'Bold';\n        }\n        fontHeight = this.pdfViewerBase.ConvertPointToPixel(font.Size);\n      }\n      if (Browser.isIE) {\n        top_1 = top_1 - 1;\n      }\n      this.pdfViewerBase.setStyleToTextDiv(inputField, left, top_1, fontHeight, width, height, true);\n    }\n  };\n  Print.prototype.printWindowOpen = function () {\n    var _this = this;\n    var browserUserAgent = navigator.userAgent;\n    // eslint-disable-next-line\n    var printDocument;\n    if (this.pdfViewer.printMode === 'Default') {\n      printDocument = this.frameDoc.document;\n    } else {\n      printDocument = this.printWindow.document;\n    }\n    for (var i = 0; i < this.printViewerContainer.children.length; i++) {\n      /*\n      Create a new Base64-encoded image with increased quality\n      Also help to reduce the file size while save as pdf\n      */\n      // eslint-disable-next-line max-len\n      var canvasUrl = this.printViewerContainer.children[i].toDataURL('image/jpeg', 0.75);\n      printDocument.write('<div style=\"margin:0mm;width:' + this.printWidth.toString() + 'px;height:' + this.printHeight.toString() + 'px;position:relative\"><img src=\"' + canvasUrl + '\" id=\"' + 'image_' + i + '\" /><div id=\"' + 'fields_' + i + '\" style=\"margin:0px;top:0px;left:0px;position:absolute;width:' + this.printWidth.toString() + 'px;height:' + this.printHeight.toString() + 'px;z-index:2\"></div></div>');\n      if (this.pdfViewer.formFieldsModule || this.pdfViewer.formDesignerModule) {\n        var pageWidth = this.pdfViewerBase.pageSize[i].width;\n        var pageHeight = this.pdfViewerBase.pageSize[i].height;\n        var heightRatio;\n        var widthRatio;\n        if (pageHeight < pageWidth && this.pdfViewer.enablePrintRotation) {\n          heightRatio = pageHeight / this.printWidth;\n          widthRatio = pageWidth / this.printHeight;\n        } else {\n          heightRatio = pageHeight / this.printHeight;\n          widthRatio = pageWidth / this.printWidth;\n        }\n        this.renderFieldsForPrint(i, heightRatio, widthRatio);\n      }\n      if (i === 0) {\n        if (browserUserAgent.indexOf('Chrome') !== -1 || browserUserAgent.indexOf('Safari') !== -1 || browserUserAgent.indexOf('Firefox') !== -1) {\n          printDocument.write('<!DOCTYPE html>');\n          printDocument.write('<html moznomarginboxes mozdisallowselectionprint><head><style>html, body { height: 100%; width:100% }' + ' img { height: 100%; width: 100%; display: block; }@media print { body { margin: 0cm; }' + ' img { width:100%; width:100%; box-sizing: border-box; }br, button { display: none; }' + ' div{ page-break-inside: avoid; }} @page{margin:0mm;  size:' + this.printWidth.toString() + 'px ' + this.printHeight.toString() + 'px; }</style></head><body>');\n        } else {\n          printDocument.write('<!DOCTYPE html>');\n          printDocument.write('<html><head>' + '<style>html, body { height: 100%; } img { height: 100%; width: 100%; }@media print { body { margin: 0cm; }' + 'img { width:100%; width:100%; box-sizing: border-box; }br, button { display: none; } ' + 'div{ page-break-inside: avoid; }} @page{margin:0mm;  size:' + this.printWidth.toString() + 'px ' + this.printHeight.toString() + 'px; }</style></head><body>');\n        }\n      }\n    }\n    if (Browser.isIE || Browser.info.name === 'edge') {\n      try {\n        if (this.pdfViewer.printMode === 'Default') {\n          this.pdfViewerBase.showPrintLoadingIndicator(false);\n          this.iframe.contentWindow.document.execCommand('print', false, null);\n        } else {\n          this.printWindow.document.execCommand('print', false, null);\n        }\n      } catch (e) {\n        if (this.pdfViewer.printMode === 'Default') {\n          this.pdfViewerBase.showPrintLoadingIndicator(false);\n          this.iframe.contentWindow.print();\n        } else {\n          this.printWindow.print();\n        }\n      }\n    } else {\n      setTimeout(function () {\n        if (_this.pdfViewer.printMode === 'Default') {\n          _this.pdfViewerBase.showPrintLoadingIndicator(false);\n          _this.iframe.contentWindow.print();\n          _this.iframe.contentWindow.focus();\n          if (_this.pdfViewerBase.isDeviceiOS || Browser.isDevice) {\n            var proxy_1 = _this;\n            window.onafterprint = function (event) {\n              document.body.removeChild(proxy_1.iframe);\n            };\n          } else {\n            document.body.removeChild(_this.iframe);\n          }\n        } else {\n          if (_this.printWindow) {\n            _this.printWindow.print();\n            _this.printWindow.focus();\n            if (!Browser.isDevice || _this.pdfViewerBase.isDeviceiOS) {\n              _this.printWindow.close();\n            }\n          }\n        }\n      }, 200);\n    }\n  };\n  // eslint-disable-next-line\n  Print.prototype.createPrintLoadingIndicator = function (element) {\n    // eslint-disable-next-line\n    var printWindowContainer = createElement('div', {\n      id: this.pdfViewer.element.id + '_printWindowcontainer'\n    });\n    printWindowContainer.style.height = '100%';\n    printWindowContainer.style.width = '100%';\n    printWindowContainer.style.position = 'absolute';\n    printWindowContainer.style.zIndex = 2000;\n    printWindowContainer.style.left = 0;\n    printWindowContainer.style.top = 0;\n    printWindowContainer.style.overflow = 'auto';\n    printWindowContainer.style.backgroundColor = 'rgba(0, 0, 0, 0.3)';\n    element.appendChild(printWindowContainer);\n    var printWaitingPopup = createElement('div', {\n      id: this.pdfViewer.element.id + '_printLoadingContainer'\n    });\n    printWaitingPopup.style.position = 'absolute';\n    printWaitingPopup.style.width = '50px';\n    printWaitingPopup.style.height = '50px';\n    printWaitingPopup.style.left = '46%';\n    printWaitingPopup.style.top = '45%';\n    printWindowContainer.style.zIndex = 3000;\n    printWindowContainer.appendChild(printWaitingPopup);\n    // eslint-disable-next-line\n    var printImageContainer = new Image();\n    // eslint-disable-next-line\n    printImageContainer.src = 'data:image/gif;base64,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';\n    printImageContainer.style.width = '50px';\n    printImageContainer.style.height = '50px';\n    printWaitingPopup.appendChild(printImageContainer);\n    var printLabelContainer = createElement('div', {\n      id: this.pdfViewer.element.id + '_printLabelContainer'\n    });\n    printLabelContainer.style.position = 'absolute';\n    printLabelContainer.textContent = 'Loading ...';\n    printLabelContainer.style.fontWeight = 'Bold';\n    printLabelContainer.style.left = '46%';\n    printLabelContainer.style.top = '54.5%';\n    printLabelContainer.style.zIndex = '3000';\n    printWindowContainer.appendChild(printLabelContainer);\n  };\n  /**\n   * @private\n   */\n  Print.prototype.destroy = function () {\n    this.printViewerContainer = undefined;\n    this.frameDoc = undefined;\n    this.printWindow = undefined;\n  };\n  /**\n   * @private\n   */\n  Print.prototype.getModuleName = function () {\n    return 'Print';\n  };\n  return Print;\n}();\nexport { Print };","map":{"version":3,"names":["createElement","Browser","AjaxHandler","Print","viewer","base","printHeight","printWidth","pdfViewer","pdfViewerBase","prototype","print","_this","pageIndex","pageCount","printViewerContainer","id","element","className","printMode","showPrintLoadingIndicator","iframe","document","style","position","top","body","appendChild","frameDoc","contentWindow","contentDocument","open","printWindow","window","outerHeight","outerWidth","moveTo","resizeTo","screen","availWidth","availHeight","createPrintLoadingIndicator","setTimeout","pageWidth","pageSize","width","pageHeight","height","a4StdWidth","a4StdHeight","bufferWidth","bufferHeight","a4PrintWidth","a4PrintHeight","printModule","createRequestForPrint","printScaleRatio","firePrintEnd","downloadFileName","printScaleFactor","proxy","jsonObject","pageNumber","toString","documentId","hashId","zoomFactor","action","elementId","uniqueId","digitalSignaturePresent","jsonDocumentId","createFormfieldsJsonData","printRequestHandler","url","serviceUrl","serverActionSettings","responseType","mode","validateForm","enableFormFieldsValidation","fireValidatedFailed","download","clientSideRendering","pdfViewerRunner","postMessage","message","send","onSuccess","result","printSuccess","onFailure","fireAjaxRequestFailed","status","statusText","onError","openNotificationPopup","printOnMessage","event","canvas","_a","data","value","canvasContext","getContext","imageData","createImageData","set","putImageData","imageUrl","toDataURL","image","isPrint","printImage","redirect","checkRedirection","JSON","parse","onControlError","error","fireAjaxRequestSuccess","annotationSource_1","annotationSettings","skipPrint","annotationCollections","documentAnnotationCollections","isTextMarkupAnnotationModule","printCollection","isImportAction","textMarkupAnnotation","shapeAnnotation","measureShapeAnnotation","stampAnnotation","stampAnnotations","freeTextAnnotation","stickyNoteAnnotation","stickyNotesAnnotation","annotationModule","textMarkupAnnotationModule","printTextMarkupAnnotations","isAnnotationCollectionRemoved","currentPageNumber_1","printCanvas","printScaleValue","maxPageSize","whichIsBigger","maxWidth","maxHeight","enablePrintRotation","devicePixelRatio","context_1","pageImage_1","Image","annotationImage_1","onload","drawImage","translate","rotate","Math","PI","printWindowOpen","renderDrawing","src","renderFieldsForPrint","heightRatio","widthRatio","targetField","getElementById","formFieldsModule","getItemFromSessionStorage","formDesignerModule","formFieldsData","i","length","currentData","parseFloat","field","createFormFields","inputField","currentField","bounds","font","applyPosition","InsertSpaces","font_1","parseInt","maxLength","fontSize","letterSpacing","fontFamily","pageDetails","x","ConvertPointToPixel","X","y","Y","Width","Height","left","transform","transformOrigin","backgroundColor","IsSignatureField","borderColor","formDesignerData","formDesignerFieldsData","FormField","signatureField","nameTable","Key","split","wrapper","children","htmlElement","formFieldAnnotationType","j","radiobuttonItem","createFormDesignerFields","lineBound","zoomValue","parentHtmlElement","parentHtmlElementAttribute","createHtmlElement","HtmlElementAttribute","disableSignatureClickEvent","template","createSignatureDialog","createDropDownList","createListBox","createInputElement","isFormDesignerField","top_1","actualWidth","actualHeight","fontHeight","Name","Italic","fontStyle","Bold","fontWeight","Size","isIE","setStyleToTextDiv","browserUserAgent","navigator","userAgent","printDocument","canvasUrl","write","indexOf","info","name","execCommand","e","focus","isDeviceiOS","isDevice","proxy_1","onafterprint","removeChild","close","printWindowContainer","zIndex","overflow","printWaitingPopup","printImageContainer","printLabelContainer","textContent","destroy","undefined","getModuleName"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/node_modules/@syncfusion/ej2-pdfviewer/src/pdfviewer/print/print.js"],"sourcesContent":["import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { AjaxHandler } from '../index';\n/**\n * Print module\n */\nvar Print = /** @class */ (function () {\n    /**\n     * @param viewer\n     * @param base\n     * @private\n     */\n    function Print(viewer, base) {\n        this.printHeight = 1056;\n        this.printWidth = 816;\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = base;\n    }\n    /**\n     * Print the PDF document being loaded in the ejPdfViewer control.\n     *\n     * @returns void\n     */\n    Print.prototype.print = function () {\n        var _this = this;\n        var pageIndex;\n        if (this.pdfViewerBase.pageCount > 0) {\n            // eslint-disable-next-line max-len\n            this.printViewerContainer = createElement('div', {\n                id: this.pdfViewer.element.id + '_print_viewer_container',\n                className: 'e-pv-print-viewer-container'\n            });\n            if (this.pdfViewer.printMode === 'Default') {\n                this.pdfViewerBase.showPrintLoadingIndicator(true);\n                this.iframe = document.createElement('iframe');\n                this.iframe.className = 'iframeprint';\n                this.iframe.id = 'iframePrint';\n                this.iframe.style.position = 'fixed';\n                this.iframe.style.top = '-100000000px';\n                document.body.appendChild(this.iframe);\n                this.frameDoc = this.iframe.contentWindow ? this.iframe.contentWindow : this.iframe.contentDocument;\n                this.frameDoc.document.open();\n            }\n            else {\n                this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n                this.printWindow.moveTo(0, 0);\n                this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n                this.createPrintLoadingIndicator(this.printWindow.document.body);\n            }\n            setTimeout(function () {\n                for (pageIndex = 0; pageIndex < _this.pdfViewerBase.pageCount; pageIndex++) {\n                    var pageWidth = _this.pdfViewerBase.pageSize[pageIndex].width;\n                    var pageHeight = _this.pdfViewerBase.pageSize[pageIndex].height;\n                    // Check if the document is A4 by comparing the A4 standard values with the buffer value\n                    var a4StdWidth = 793;\n                    var a4StdHeight = 1122;\n                    var bufferWidth = 10;\n                    var bufferHeight = 10;\n                    //Reduced the A4 standard width and height to prevent blank pages while printing\n                    var a4PrintWidth = 783;\n                    var a4PrintHeight = 1110;\n                    _this.printWidth = 816;\n                    _this.printHeight = 1056;\n                    // Check if the A4 document is protrait or landscape\n                    if (pageWidth > pageHeight) {\n                        a4StdWidth = 1122;\n                        a4StdHeight = 793;\n                    }\n                    if (!(pageWidth >= (a4StdWidth + bufferWidth) || pageWidth <= (a4StdWidth - bufferWidth)) && !(pageHeight >= (a4StdHeight + bufferHeight) || pageHeight <= (a4StdHeight - bufferHeight))) {\n                        _this.printWidth = a4PrintWidth;\n                        _this.printHeight = a4PrintHeight;\n                    }\n                    _this.pdfViewer.printModule.createRequestForPrint(pageIndex, pageWidth, pageHeight, _this.pdfViewerBase.pageCount, _this.pdfViewer.printScaleRatio);\n                }\n                _this.pdfViewer.firePrintEnd(_this.pdfViewer.downloadFileName);\n            }, 100);\n        }\n    };\n    Print.prototype.createRequestForPrint = function (pageIndex, pageWidth, pageHeight, pageCount, printScaleFactor) {\n        var proxy = this;\n        // tslint: disable-next-line:max-line-length\n        // set default zoomFactor value.\n        var jsonObject = {\n            pageNumber: pageIndex.toString(), documentId: this.pdfViewerBase.documentId,\n            hashId: this.pdfViewerBase.hashId, zoomFactor: \"1\",\n            action: 'PrintImages',\n            elementId: this.pdfViewer.element.id,\n            uniqueId: this.pdfViewerBase.documentId,\n            digitalSignaturePresent: this.pdfViewerBase.digitalSignaturePresent(pageIndex)\n        };\n        if (this.pdfViewerBase.jsonDocumentId) {\n            // eslint-disable-next-line\n            jsonObject.documentId = this.pdfViewerBase.jsonDocumentId;\n        }\n        proxy.pdfViewerBase.createFormfieldsJsonData();\n        proxy.printRequestHandler = new AjaxHandler(proxy.pdfViewer);\n        proxy.printRequestHandler.url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.print;\n        proxy.printRequestHandler.responseType = null;\n        proxy.printRequestHandler.mode = false;\n        if (this.pdfViewerBase.validateForm && this.pdfViewer.enableFormFieldsValidation) {\n            this.pdfViewer.fireValidatedFailed(proxy.pdfViewer.serverActionSettings.download);\n            this.pdfViewerBase.validateForm = false;\n            this.pdfViewerBase.showPrintLoadingIndicator(false);\n        }\n        else {\n            if (proxy.pdfViewerBase.clientSideRendering) {\n                this.pdfViewerBase.pdfViewerRunner.postMessage({ pageIndex: pageIndex, message: 'printImage', printScaleFactor: printScaleFactor >= 1 ? printScaleFactor : 1 });\n            }\n            else {\n                proxy.printRequestHandler.send(jsonObject);\n            }\n        }\n        // eslint-disable-next-line\n        proxy.printRequestHandler.onSuccess = function (result) {\n            proxy.printSuccess(result, pageWidth, pageHeight, pageIndex);\n        };\n        // eslint-disable-next-line\n        this.printRequestHandler.onFailure = function (result) {\n            proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.print);\n        };\n        // eslint-disable-next-line\n        this.printRequestHandler.onError = function (result) {\n            proxy.pdfViewerBase.openNotificationPopup();\n            proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.print);\n        };\n    };\n    /**\n     * @private\n     */\n    Print.prototype.printOnMessage = function (event) {\n        var canvas = document.createElement('canvas');\n        var _a = event.data, value = _a.value, width = _a.width, height = _a.height, pageIndex = _a.pageIndex, pageWidth = _a.pageWidth, pageHeight = _a.pageHeight;\n        canvas.width = width;\n        canvas.height = height;\n        var canvasContext = canvas.getContext('2d');\n        var imageData = canvasContext.createImageData(width, height);\n        imageData.data.set(value);\n        canvasContext.putImageData(imageData, 0, 0);\n        var imageUrl = canvas.toDataURL();\n        var data = ({ image: imageUrl, pageNumber: pageIndex, uniqueId: this.pdfViewerBase.documentId, pageWidth: width });\n        this.printSuccess(data, pageWidth, pageHeight, pageIndex);\n    };\n    Print.prototype.printSuccess = function (result, pageWidth, pageHeight, pageIndex) {\n        var _this = this;\n        this.pdfViewerBase.isPrint = true;\n        // eslint-disable-next-line\n        var printImage = this.pdfViewerBase.clientSideRendering ? result : result.data;\n        var redirect = this.pdfViewerBase.checkRedirection(printImage);\n        if (redirect) {\n            this.pdfViewerBase.showPrintLoadingIndicator(false);\n        }\n        else {\n            if (printImage) {\n                if (typeof printImage !== 'object') {\n                    try {\n                        printImage = JSON.parse(printImage);\n                        if (typeof printImage !== 'object') {\n                            this.pdfViewerBase.onControlError(500, printImage, this.pdfViewer.serverActionSettings.print);\n                            printImage = null;\n                        }\n                    }\n                    catch (error) {\n                        this.pdfViewerBase.onControlError(500, printImage, this.pdfViewer.serverActionSettings.print);\n                        printImage = null;\n                    }\n                }\n            }\n            if (printImage && printImage.uniqueId === this.pdfViewerBase.documentId) {\n                this.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.print, printImage);\n                var annotationSource_1 = '';\n                if (!this.pdfViewer.annotationSettings.skipPrint) {\n                    // eslint-disable-next-line\n                    var annotationCollections = this.pdfViewerBase.documentAnnotationCollections;\n                    if (annotationCollections && annotationCollections[printImage.pageNumber] && this.pdfViewerBase.isTextMarkupAnnotationModule()) {\n                        // eslint-disable-next-line\n                        var printCollection = annotationCollections[printImage.pageNumber];\n                        if (this.pdfViewerBase.isImportAction) {\n                            var textMarkupAnnotation = printCollection.textMarkupAnnotation;\n                            var shapeAnnotation = printCollection.shapeAnnotation;\n                            var measureShapeAnnotation = printCollection.measureShapeAnnotation;\n                            var stampAnnotation = printCollection.stampAnnotations;\n                            var freeTextAnnotation = printCollection.freeTextAnnotation;\n                            // eslint-disable-next-line\n                            var stickyNoteAnnotation = printCollection.stickyNotesAnnotation;\n                            // eslint-disable-next-line max-len\n                            annotationSource_1 = this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(textMarkupAnnotation, printImage.pageNumber, stampAnnotation, shapeAnnotation, measureShapeAnnotation, stickyNoteAnnotation, freeTextAnnotation);\n                        }\n                        else {\n                            // eslint-disable-next-line max-len\n                            annotationSource_1 = this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(printCollection.textMarkupAnnotation, printImage.pageNumber, printCollection.stampAnnotations, printCollection.shapeAnnotation, printCollection.measureShapeAnnotation, printCollection.stickyNoteAnnotation, printCollection.freeTextAnnotation);\n                        }\n                    }\n                    if (this.pdfViewerBase.isAnnotationCollectionRemoved) {\n                        // eslint-disable-next-line max-len\n                        annotationSource_1 = this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(null, printImage.pageNumber, null, null, null, null, null);\n                    }\n                }\n                var currentPageNumber_1 = printImage.pageNumber;\n                // eslint-disable-next-line max-len\n                this.printCanvas = createElement('canvas', { id: this.pdfViewer.element.id + '_printCanvas_' + pageIndex, className: 'e-pv-print-canvas' });\n                this.printCanvas.style.width = pageWidth + 'px';\n                this.printCanvas.style.height = pageHeight + 'px';\n                var printScaleValue = 2;\n                if (this.pdfViewerBase.clientSideRendering) {\n                    //An A0 piece of paper measures 33.1 Ã— 46.8 inches, with 46.8 inches being the greater dimension. The pixel value of 46.8 inches is 4493px. If the document size is too large, we may not be able to display the image. Therefore, we should consider the maximum size of A0 paper if the page size is greater than 4493 pixels.\n                    var maxPageSize = 4493;\n                    var whichIsBigger = (pageWidth > pageHeight) ? 'Width' : 'Height';\n                    var maxWidth = pageWidth;\n                    var maxHeight = pageHeight;\n                    if (whichIsBigger === 'Width') {\n                        maxWidth = (pageWidth > maxPageSize) ? maxPageSize : pageWidth;\n                        if (maxWidth === maxPageSize) {\n                            maxHeight = pageHeight / (pageWidth / maxPageSize);\n                        }\n                    }\n                    else {\n                        maxHeight = (pageHeight > maxPageSize) ? maxPageSize : pageHeight;\n                        if (maxHeight === maxPageSize) {\n                            maxWidth = pageWidth / (pageHeight / maxPageSize);\n                        }\n                    }\n                    if ((pageHeight < pageWidth) && this.pdfViewer.enablePrintRotation) {\n                        this.printCanvas.height = pageWidth * printScaleValue * window.devicePixelRatio;\n                        this.printCanvas.width = pageHeight * printScaleValue * window.devicePixelRatio;\n                    }\n                    else {\n                        this.printCanvas.height = maxHeight * printScaleValue * window.devicePixelRatio;\n                        this.printCanvas.width = maxWidth * printScaleValue * window.devicePixelRatio;\n                    }\n                }\n                else {\n                    this.printCanvas.height = this.printHeight * printScaleValue * window.devicePixelRatio;\n                    this.printCanvas.width = this.printWidth * printScaleValue * window.devicePixelRatio;\n                }\n                var context_1 = this.printCanvas.getContext('2d');\n                var pageImage_1 = new Image();\n                var annotationImage_1 = new Image();\n                pageImage_1.onload = function () {\n                    if ((pageHeight > pageWidth) || !_this.pdfViewer.enablePrintRotation) {\n                        context_1.drawImage(pageImage_1, 0, 0, _this.printCanvas.width, _this.printCanvas.height);\n                        if (annotationSource_1) {\n                            context_1.drawImage(annotationImage_1, 0, 0, _this.printCanvas.width, _this.printCanvas.height);\n                        }\n                    }\n                    else {\n                        // translate to center canvas\n                        context_1.translate(_this.printCanvas.width * 0.5, _this.printCanvas.height * 0.5);\n                        // rotate the canvas to - 90 degree\n                        context_1.rotate(-0.5 * Math.PI);\n                        // un translate the canvas back to origin\n                        context_1.translate(-_this.printCanvas.height * 0.5, -_this.printCanvas.width * 0.5);\n                        // draw the image\n                        context_1.drawImage(pageImage_1, 0, 0, _this.printCanvas.height, _this.printCanvas.width);\n                        if (annotationSource_1) {\n                            context_1.drawImage(annotationImage_1, 0, 0, _this.printCanvas.height, _this.printCanvas.width);\n                        }\n                    }\n                    if (currentPageNumber_1 === (_this.pdfViewerBase.pageCount - 1)) {\n                        _this.printWindowOpen();\n                    }\n                    _this.pdfViewer.renderDrawing(null, pageIndex);\n                };\n                pageImage_1.src = printImage.image;\n                annotationImage_1.src = annotationSource_1;\n                this.printViewerContainer.appendChild(this.printCanvas);\n            }\n        }\n        this.pdfViewerBase.isPrint = false;\n    };\n    // eslint-disable-next-line\n    Print.prototype.renderFieldsForPrint = function (pageIndex, heightRatio, widthRatio) {\n        // eslint-disable-next-line\n        var data = null;\n        var targetField;\n        if (this.pdfViewer.printMode === 'Default') {\n            targetField = this.frameDoc.document.getElementById('fields_' + pageIndex);\n        }\n        else {\n            targetField = this.printWindow.document.getElementById('fields_' + pageIndex);\n        }\n        if (this.pdfViewer.formFieldsModule) {\n            data = this.pdfViewerBase.getItemFromSessionStorage('_formfields');\n        }\n        if (!this.pdfViewer.formDesignerModule) {\n            if (data) {\n                // eslint-disable-next-line\n                var formFieldsData = JSON.parse(data);\n                for (var i = 0; i < formFieldsData.length; i++) {\n                    // eslint-disable-next-line\n                    var currentData = formFieldsData[i];\n                    // eslint-disable-next-line\n                    if (parseFloat(currentData['PageIndex']) === pageIndex) {\n                        // eslint-disable-next-line\n                        var field = this.pdfViewer.formFieldsModule.createFormFields(currentData, pageIndex, i, targetField);\n                        // eslint-disable-next-line\n                        var inputField = field.currentField;\n                        if (inputField) {\n                            // eslint-disable-next-line\n                            var bounds = currentData['LineBounds'];\n                            // eslint-disable-next-line\n                            var font = currentData['Font'];\n                            this.applyPosition(inputField, bounds, font, heightRatio, widthRatio);\n                            inputField.InsertSpaces = currentData.InsertSpaces;\n                            if (inputField.InsertSpaces) {\n                                // eslint-disable-next-line\n                                var font_1 = ((parseInt(inputField.style.width) / inputField.maxLength) - (parseFloat(inputField.style.fontSize) / 2)) - 0.6;\n                                inputField.style.letterSpacing = '' + font_1 + 'px';\n                                inputField.style.fontFamily = 'monospace';\n                            }\n                            // eslint-disable-next-line\n                            var pageDetails = this.pdfViewerBase.pageSize[pageIndex];\n                            if ((pageDetails.width > pageDetails.height) && this.pdfViewer.enablePrintRotation) {\n                                /*\n                                The below logig have been modified for the bug https://syncfusion.atlassian.net/browse/EJ2-57986\n                                This code changes is specific for form field elements.\n    \n                                    inputField.style.transform = 'rotate(-90deg)';\n                                    let previousLeft: number = parseFloat(inputField.style.left);\n                                    let currentWidthPosition: number = parseFloat(inputField.style.width) / 2;\n                                    let currentHeightPosition: number = parseFloat(inputField.style.height) / 2;\n                                    let currentTop: number = parseFloat(inputField.style.top);\n                                    let currentHeight: number = parseFloat(inputField.style.height);\n                                    inputField.style.left = (currentHeightPosition - currentWidthPosition + currentTop) + 'px';\n                                    inputField.style.top = (pageDetails.width / widthRatio) - (currentHeight / heightRatio) - ((currentWidthPosition / heightRatio) - (currentHeightPosition / heightRatio) + previousLeft) + 'px';\n                                */\n                                var x = this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.X);\n                                var y = this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Y);\n                                var width = this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Width);\n                                var height = this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Height);\n                                var pageHeight = pageDetails.width;\n                                var top = pageHeight - x - height;\n                                var left = (y + height);\n                                var width = (width);\n                                var height = (height);\n                                inputField.style.transform = \"rotate(-90deg)\";\n                                inputField.style.transformOrigin = \"left bottom\";\n                                inputField.style.left = left + 'px';\n                                inputField.style.top = top + 'px';\n                                inputField.style.height = height + 'px';\n                                inputField.style.width = width + 'px';\n                            }\n                            inputField.style.backgroundColor = 'transparent';\n                            if (!currentData.IsSignatureField) {\n                                inputField.style.borderColor = 'transparent';\n                            }\n                            targetField.appendChild(inputField);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            var formDesignerData = null;\n            if (this.pdfViewer.formDesignerModule) {\n                formDesignerData = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n            }\n            if (formDesignerData) {\n                var formDesignerFieldsData = JSON.parse(formDesignerData);\n                for (var i = 0; i < formDesignerFieldsData.length; i++) {\n                    // eslint-disable-next-line\n                    var currentData = formDesignerFieldsData[i].FormField;\n                    if (currentData.pageNumber - 1 === pageIndex && currentData.isPrint) {\n                        var signatureField = this.pdfViewer.nameTable[formDesignerFieldsData[i].Key.split(\"_\")[0]];\n                        var element = signatureField.wrapper.children[0];\n                        var htmlElement = void 0;\n                        if (element) {\n                            if (currentData.formFieldAnnotationType === \"RadioButton\") {\n                                for (var j = 0; j < currentData.radiobuttonItem.length; j++) {\n                                    signatureField = this.pdfViewer.nameTable[currentData.radiobuttonItem[j].id.split(\"_\")[0]];\n                                    htmlElement = this.createFormDesignerFields(currentData.radiobuttonItem[j], element, signatureField);\n                                    if (htmlElement) {\n                                        // eslint-disable-next-line\n                                        var bounds = currentData.radiobuttonItem[j].lineBound;\n                                        // eslint-disable-next-line\n                                        var font = currentData.radiobuttonItem[j].fontFamily;\n                                        this.applyPosition(htmlElement, bounds, font, heightRatio, widthRatio, true, currentData.radiobuttonItem[j].zoomValue, currentData.pageNumber - 1);\n                                        targetField.appendChild(htmlElement);\n                                    }\n                                }\n                            }\n                            else {\n                                htmlElement = this.createFormDesignerFields(currentData, element, signatureField);\n                                if (htmlElement) {\n                                    // eslint-disable-next-line\n                                    var bounds = currentData.lineBound;\n                                    // eslint-disable-next-line\n                                    var font = currentData.fontFamily;\n                                    this.applyPosition(htmlElement, bounds, font, heightRatio, widthRatio, true, currentData.zoomValue, currentData.pageNumber - 1);\n                                    targetField.appendChild(htmlElement);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Print.prototype.createFormDesignerFields = function (currentData, element, signatureField) {\n        var htmlElement;\n        var parentHtmlElement;\n        var parentHtmlElementAttribute = {\n            'id': \"form_field_\" + element.id + '_html_element',\n            'class': 'foreign-object'\n        };\n        parentHtmlElement = this.pdfViewer.formDesignerModule.createHtmlElement('div', parentHtmlElementAttribute);\n        var HtmlElementAttribute = {\n            'id': element.id + '_html_element',\n            'class': 'foreign-object'\n        };\n        htmlElement = this.pdfViewer.formDesignerModule.createHtmlElement('div', HtmlElementAttribute);\n        if (currentData.formFieldAnnotationType === \"SignatureField\" || currentData.formFieldAnnotationType === \"InitialField\") {\n            this.pdfViewer.formDesignerModule.disableSignatureClickEvent = true;\n            element.template = htmlElement.appendChild(this.pdfViewer.formDesignerModule.createSignatureDialog(this.pdfViewer, signatureField, null, true));\n            this.pdfViewer.formDesignerModule.disableSignatureClickEvent = false;\n        }\n        else if (currentData.formFieldAnnotationType === \"DropdownList\") {\n            element.template = htmlElement.appendChild(this.pdfViewer.formDesignerModule.createDropDownList(element, signatureField, true));\n        }\n        else if (currentData.formFieldAnnotationType === \"ListBox\") {\n            element.template = htmlElement.appendChild(this.pdfViewer.formDesignerModule.createListBox(element, signatureField, true));\n        }\n        else {\n            element.template = htmlElement.appendChild(this.pdfViewer.formDesignerModule.createInputElement(currentData.formFieldAnnotationType, signatureField, null, true));\n        }\n        parentHtmlElement.appendChild(htmlElement);\n        return htmlElement;\n    };\n    /**\n     * @param inputField\n     * @param bounds\n     * @param font\n     * @param heightRatio\n     * @param widthRatio\n     * @param inputField\n     * @param bounds\n     * @param font\n     * @param heightRatio\n     * @param widthRatio\n     * @private\n     */\n    // eslint-disable-next-line\n    Print.prototype.applyPosition = function (inputField, bounds, font, heightRatio, widthRatio, isFormDesignerField, zoomValue, pageIndex) {\n        if (bounds) {\n            var pageHeight = void 0;\n            var left = void 0;\n            var top_1;\n            var width = void 0;\n            var height = void 0;\n            // This code changes is specific for form designer elements. https://syncfusion.atlassian.net/browse/EJ2-57986 \n            var pageDetails = this.pdfViewerBase.pageSize[pageIndex];\n            var actualWidth = pageDetails ? pageDetails.width : 0;\n            var actualHeight = pageDetails ? pageDetails.height : 0;\n            if (isFormDesignerField && actualHeight < actualWidth && this.pdfViewer.enablePrintRotation) {\n                /*\n                The below logig have been modified for the bug https://syncfusion.atlassian.net/browse/EJ2-57986\n                This code changes is specific for form designer elements.\n                pageHeight = actualWidth;\n                top=  pageHeight - bounds.X / zoomValue;\n                left = bounds.Y / zoomValue;\n                width = (bounds.Width / zoomValue);\n                height = (bounds.Height / zoomValue);\n                inputField.style.transform = \"rotate(-90deg)\";\n                inputField.style.transformOrigin = \"top left\";\n                */\n                // need to set inverse page height and width  \n                pageHeight = actualWidth;\n                top_1 = pageHeight - bounds.X / zoomValue - bounds.Height / zoomValue;\n                left = (bounds.Y + bounds.Height) / zoomValue;\n                width = (bounds.Width / zoomValue);\n                height = (bounds.Height / zoomValue);\n                inputField.style.transform = \"rotate(-90deg)\";\n                inputField.style.transformOrigin = \"left bottom\";\n            }\n            else {\n                left = isFormDesignerField ? (bounds.X / zoomValue) / widthRatio : (this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.X)) / widthRatio;\n                top_1 = isFormDesignerField ? (bounds.Y / zoomValue) / heightRatio : (this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Y)) / heightRatio;\n                width = isFormDesignerField ? (bounds.Width / zoomValue) / widthRatio : (this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Width)) / widthRatio;\n                height = isFormDesignerField ? (bounds.Height / zoomValue) / heightRatio : (this.pdfViewer.formFieldsModule.ConvertPointToPixel(bounds.Height)) / heightRatio;\n            }\n            var fontHeight = 0;\n            if (font !== null && font.Height) {\n                inputField.style.fontFamily = font.Name;\n                if (font.Italic) {\n                    inputField.style.fontStyle = 'italic';\n                }\n                if (font.Bold) {\n                    inputField.style.fontWeight = 'Bold';\n                }\n                fontHeight = this.pdfViewerBase.ConvertPointToPixel(font.Size);\n            }\n            if (Browser.isIE) {\n                top_1 = top_1 - 1;\n            }\n            this.pdfViewerBase.setStyleToTextDiv(inputField, left, top_1, fontHeight, width, height, true);\n        }\n    };\n    Print.prototype.printWindowOpen = function () {\n        var _this = this;\n        var browserUserAgent = navigator.userAgent;\n        // eslint-disable-next-line\n        var printDocument;\n        if (this.pdfViewer.printMode === 'Default') {\n            printDocument = this.frameDoc.document;\n        }\n        else {\n            printDocument = this.printWindow.document;\n        }\n        for (var i = 0; i < this.printViewerContainer.children.length; i++) {\n            /*\n            Create a new Base64-encoded image with increased quality\n            Also help to reduce the file size while save as pdf\n            */\n            // eslint-disable-next-line max-len\n            var canvasUrl = this.printViewerContainer.children[i].toDataURL('image/jpeg', 0.75);\n            printDocument.write('<div style=\"margin:0mm;width:' + this.printWidth.toString() + 'px;height:' + this.printHeight.toString() + 'px;position:relative\"><img src=\"' + canvasUrl + '\" id=\"' + 'image_' + i + '\" /><div id=\"' + 'fields_' + i + '\" style=\"margin:0px;top:0px;left:0px;position:absolute;width:' + this.printWidth.toString() + 'px;height:' + this.printHeight.toString() + 'px;z-index:2\"></div></div>');\n            if (this.pdfViewer.formFieldsModule || this.pdfViewer.formDesignerModule) {\n                var pageWidth = this.pdfViewerBase.pageSize[i].width;\n                var pageHeight = this.pdfViewerBase.pageSize[i].height;\n                var heightRatio;\n                var widthRatio;\n                if ((pageHeight < pageWidth) && this.pdfViewer.enablePrintRotation) {\n                    heightRatio = pageHeight / this.printWidth;\n                    widthRatio = pageWidth / this.printHeight;\n                }\n                else {\n                    heightRatio = pageHeight / this.printHeight;\n                    widthRatio = pageWidth / this.printWidth;\n                }\n                this.renderFieldsForPrint(i, heightRatio, widthRatio);\n            }\n            if (i === 0) {\n                if ((browserUserAgent.indexOf('Chrome') !== -1) || (browserUserAgent.indexOf('Safari') !== -1) ||\n                    (browserUserAgent.indexOf('Firefox')) !== -1) {\n                    printDocument.write('<!DOCTYPE html>');\n                    printDocument.write('<html moznomarginboxes mozdisallowselectionprint><head><style>html, body { height: 100%; width:100% }'\n                        + ' img { height: 100%; width: 100%; display: block; }@media print { body { margin: 0cm; }'\n                        + ' img { width:100%; width:100%; box-sizing: border-box; }br, button { display: none; }'\n                        + ' div{ page-break-inside: avoid; }} @page{margin:0mm;  size:' + this.printWidth.toString() + 'px ' + this.printHeight.toString() + 'px; }</style></head><body>');\n                }\n                else {\n                    printDocument.write('<!DOCTYPE html>');\n                    printDocument.write('<html><head>'\n                        + '<style>html, body { height: 100%; } img { height: 100%; width: 100%; }@media print { body { margin: 0cm; }'\n                        + 'img { width:100%; width:100%; box-sizing: border-box; }br, button { display: none; } '\n                        + 'div{ page-break-inside: avoid; }} @page{margin:0mm;  size:' + this.printWidth.toString() + 'px ' + this.printHeight.toString() + 'px; }</style></head><body>');\n                }\n            }\n        }\n        if (Browser.isIE || Browser.info.name === 'edge') {\n            try {\n                if (this.pdfViewer.printMode === 'Default') {\n                    this.pdfViewerBase.showPrintLoadingIndicator(false);\n                    this.iframe.contentWindow.document.execCommand('print', false, null);\n                }\n                else {\n                    this.printWindow.document.execCommand('print', false, null);\n                }\n            }\n            catch (e) {\n                if (this.pdfViewer.printMode === 'Default') {\n                    this.pdfViewerBase.showPrintLoadingIndicator(false);\n                    this.iframe.contentWindow.print();\n                }\n                else {\n                    this.printWindow.print();\n                }\n            }\n        }\n        else {\n            setTimeout(function () {\n                if (_this.pdfViewer.printMode === 'Default') {\n                    _this.pdfViewerBase.showPrintLoadingIndicator(false);\n                    _this.iframe.contentWindow.print();\n                    _this.iframe.contentWindow.focus();\n                    if (_this.pdfViewerBase.isDeviceiOS || Browser.isDevice) {\n                        var proxy_1 = _this;\n                        window.onafterprint = function (event) {\n                            document.body.removeChild(proxy_1.iframe);\n                        };\n                    }\n                    else {\n                        document.body.removeChild(_this.iframe);\n                    }\n                }\n                else {\n                    if (_this.printWindow) {\n                        _this.printWindow.print();\n                        _this.printWindow.focus();\n                        if (!Browser.isDevice || _this.pdfViewerBase.isDeviceiOS) {\n                            _this.printWindow.close();\n                        }\n                    }\n                }\n            }, 200);\n        }\n    };\n    // eslint-disable-next-line\n    Print.prototype.createPrintLoadingIndicator = function (element) {\n        // eslint-disable-next-line\n        var printWindowContainer = createElement('div', {\n            id: this.pdfViewer.element.id + '_printWindowcontainer'\n        });\n        printWindowContainer.style.height = '100%';\n        printWindowContainer.style.width = '100%';\n        printWindowContainer.style.position = 'absolute';\n        printWindowContainer.style.zIndex = 2000;\n        printWindowContainer.style.left = 0;\n        printWindowContainer.style.top = 0;\n        printWindowContainer.style.overflow = 'auto';\n        printWindowContainer.style.backgroundColor = 'rgba(0, 0, 0, 0.3)';\n        element.appendChild(printWindowContainer);\n        var printWaitingPopup = createElement('div', {\n            id: this.pdfViewer.element.id + '_printLoadingContainer'\n        });\n        printWaitingPopup.style.position = 'absolute';\n        printWaitingPopup.style.width = '50px';\n        printWaitingPopup.style.height = '50px';\n        printWaitingPopup.style.left = '46%';\n        printWaitingPopup.style.top = '45%';\n        printWindowContainer.style.zIndex = 3000;\n        printWindowContainer.appendChild(printWaitingPopup);\n        // eslint-disable-next-line\n        var printImageContainer = new Image();\n        // eslint-disable-next-line\n        printImageContainer.src = 'data:image/gif;base64,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';\n        printImageContainer.style.width = '50px';\n        printImageContainer.style.height = '50px';\n        printWaitingPopup.appendChild(printImageContainer);\n        var printLabelContainer = createElement('div', {\n            id: this.pdfViewer.element.id + '_printLabelContainer'\n        });\n        printLabelContainer.style.position = 'absolute';\n        printLabelContainer.textContent = 'Loading ...';\n        printLabelContainer.style.fontWeight = 'Bold';\n        printLabelContainer.style.left = '46%';\n        printLabelContainer.style.top = '54.5%';\n        printLabelContainer.style.zIndex = '3000';\n        printWindowContainer.appendChild(printLabelContainer);\n    };\n    /**\n     * @private\n     */\n    Print.prototype.destroy = function () {\n        this.printViewerContainer = undefined;\n        this.frameDoc = undefined;\n        this.printWindow = undefined;\n    };\n    /**\n     * @private\n     */\n    Print.prototype.getModuleName = function () {\n        return 'Print';\n    };\n    return Print;\n}());\nexport { Print };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}