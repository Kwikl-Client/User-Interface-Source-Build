{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Document,Page}from'react-pdf';import{useNavigate}from'react-router-dom';import CusFooter from'../../global/cusFooter';import{siteLogo}from'../../../global';import book from'../pdf-view/book.pdf';import{pdfjs}from'react-pdf';import'./pdf.css';import close from'../../pages/cusPages/book/assets/close.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";pdfjs.GlobalWorkerOptions.workerSrc=\"//unpkg.com/pdfjs-dist@\".concat(pdfjs.version,\"/build/pdf.worker.min.js\");const MyPdfViewer=()=>{const[numPages,setNumPages]=useState(null);const[viewportWidth,setViewportWidth]=useState(window.innerWidth);const[isHeaderSticky,setIsHeaderSticky]=useState(false);const navigate=useNavigate();useEffect(()=>{const handleResize=()=>{setViewportWidth(window.innerWidth);};const handleScroll=()=>{if(window.pageYOffset>0){setIsHeaderSticky(true);}else{setIsHeaderSticky(false);}};window.addEventListener('resize',handleResize);window.addEventListener('scroll',handleScroll);// Listen for scroll events\nreturn()=>{window.removeEventListener('resize',handleResize);window.removeEventListener('scroll',handleScroll);// Remove scroll event listener on component unmount\n};},[]);const onDocumentLoadSuccess=_ref=>{let{numPages}=_ref;setNumPages(numPages);};const handleLogout=()=>{localStorage.removeItem('tkn');localStorage.removeItem('name');navigate('/');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{className:isHeaderSticky?'sticky-usr-header':'',children:[/*#__PURE__*/_jsx(\"img\",{className:\"logout-div\",src:siteLogo.logo,alt:siteLogo.alt,onClick:()=>navigate('/dashboard')}),/*#__PURE__*/_jsx(\"div\",{className:\"logout-div\",onClick:handleLogout,style:{fontWeight:'600',fontSize:'16px'},children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:/*#__PURE__*/_jsx(\"button\",{className:\"clse-icn\",onClick:()=>navigate('/dashboard'),children:/*#__PURE__*/_jsx(\"img\",{src:close,className:\"close-img-svg-icon\",style:{width:'34px'}})})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{className:\"pdf-content\",style:{margin:'4% 0%',maxWidth:viewportWidth>1300?'800px':'100%',width:'100%',textAlign:viewportWidth>1300?'center':'left'},children:/*#__PURE__*/_jsx(Document,{file:book,onLoadSuccess:onDocumentLoadSuccess,children:Array(numPages).fill().map((_,i)=>/*#__PURE__*/_jsx(Page,{pageNumber:i+1,width:viewportWidth>1300?800:viewportWidth},i))})})}),/*#__PURE__*/_jsx(CusFooter,{})]});};export default MyPdfViewer;","map":{"version":3,"names":["React","useState","useEffect","Document","Page","useNavigate","CusFooter","siteLogo","book","pdfjs","close","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GlobalWorkerOptions","workerSrc","concat","version","MyPdfViewer","numPages","setNumPages","viewportWidth","setViewportWidth","window","innerWidth","isHeaderSticky","setIsHeaderSticky","navigate","handleResize","handleScroll","pageYOffset","addEventListener","removeEventListener","onDocumentLoadSuccess","_ref","handleLogout","localStorage","removeItem","children","className","src","logo","alt","onClick","style","fontWeight","fontSize","display","justifyContent","alignItems","width","margin","maxWidth","textAlign","file","onLoadSuccess","Array","fill","map","_","i","pageNumber"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/src/components/cusComponents/pdf-view/pdf.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Document, Page } from 'react-pdf';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CusFooter from '../../global/cusFooter';\r\nimport { siteLogo } from '../../../global';\r\nimport book from '../pdf-view/book.pdf';\r\nimport { pdfjs } from 'react-pdf';\r\nimport './pdf.css';\r\nimport close from '../../pages/cusPages/book/assets/close.svg';\r\npdfjs.GlobalWorkerOptions.workerSrc = `//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;\r\n\r\nconst MyPdfViewer = () => {\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [viewportWidth, setViewportWidth] = useState(window.innerWidth);\r\n  const [isHeaderSticky, setIsHeaderSticky] = useState(false); \r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setViewportWidth(window.innerWidth);\r\n    };\r\n    const handleScroll = () => {\r\n      if (window.pageYOffset > 0) {\r\n        setIsHeaderSticky(true);\r\n      } else {\r\n        setIsHeaderSticky(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    window.addEventListener('scroll', handleScroll); // Listen for scroll events\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      window.removeEventListener('scroll', handleScroll); // Remove scroll event listener on component unmount\r\n    };\r\n  }, []);\r\n\r\n\r\n\r\n  const onDocumentLoadSuccess = ({ numPages }) => {\r\n    setNumPages(numPages);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('tkn');\r\n    localStorage.removeItem('name');\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className={isHeaderSticky ? 'sticky-usr-header' : ''}> \r\n        <img className='logout-div' src={siteLogo.logo} alt={siteLogo.alt} onClick={() => navigate('/dashboard')} />\r\n        <div className='logout-div' onClick={handleLogout} style={{ fontWeight: '600', fontSize: '16px' }}>Logout</div>\r\n      </header>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <button className='clse-icn' onClick={() => navigate('/dashboard')}>\r\n          <img src={close} className='close-img-svg-icon' style={{ width: '34px' }} />\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <div className=\"pdf-content\" style={{ margin: '4% 0%', maxWidth: viewportWidth > 1300 ? '800px' : '100%', width: '100%', textAlign: viewportWidth > 1300 ? 'center' : 'left' }}>\r\n          <Document file={book} onLoadSuccess={onDocumentLoadSuccess}>\r\n            {\r\n              Array(numPages).fill().map((_, i) => (\r\n                <Page key={i} pageNumber={i + 1} width={viewportWidth > 1300 ? 800 : viewportWidth} />\r\n              ))\r\n            }\r\n          </Document>\r\n        </div>\r\n      </div>\r\n      <CusFooter />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyPdfViewer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}