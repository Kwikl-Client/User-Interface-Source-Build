{"ast":null,"code":"import React from'react';import axios from'axios';import{useState}from'react';import{useNavigate}from'react-router-dom';import CustomModal from'../cusComponents/modal/modal';import\"./refundBanner.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RefundBanner=_ref=>{let{refundData,heroData={}}=_ref;const navigate=useNavigate();const handleLinkClick=link=>{navigate(link);};const[checkboxError,setCheckboxError]=useState(\"\");const[nameError,setNameError]=useState(\"\");const[emailError,setEmailError]=useState(\"\");const[emailExists,setEmailExists]=useState(false);const[acceptTerms,setAcceptTerms]=useState(false);const[acceptTermsError,setAcceptTermsError]=useState(false);const[showTermsError,setShowTermsError]=useState(false);const[showModal,setShowModal]=useState(false);const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[submitError,setSubmitError]=useState(\"\");const handleCloseModal=()=>{setName(\"\");setEmail(\"\");setShowModal(false);setSubmitError(\"\");};const validateInputs=()=>{let isValid=true;// Validate acceptance of terms\nif(!acceptTerms){setCheckboxError(true);isValid=false;}else{setCheckboxError(false);}// Validate Name\nif(!name.trim()){setNameError(true);isValid=false;}else{setNameError(false);}// Validate Email\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!email.trim()||!emailRegex.test(email)){setEmailError(true);isValid=false;}else{setEmailError(false);}return isValid;};const handleSubmit=async()=>{try{var _paymentResponse$data,_paymentResponse$data2;setSubmitError(\"\");if(!validateInputs()){setShowTermsError(!acceptTerms);return;}const paymentResponse=await axios.get(\"http://localhost:7000/payment/createPaymentIntent/?email=\".concat(email,\"&name=\").concat(name));window.location.href=paymentResponse===null||paymentResponse===void 0?void 0:(_paymentResponse$data=paymentResponse.data)===null||_paymentResponse$data===void 0?void 0:(_paymentResponse$data2=_paymentResponse$data.data)===null||_paymentResponse$data2===void 0?void 0:_paymentResponse$data2.url;}catch(error){console.log(error);if(error.response.data.message)setSubmitError(error.response.data.message);else setSubmitError(\"Error creating payment intent\");}};const updateFormData=async formData=>{try{const formDataResponse=await axios.post(\"http://localhost:7000/content/formData\",formData);return formDataResponse.data;console.log(formDataResponse);}catch(error){console.error(\"Error updating form data:\",error);throw error;}};return/*#__PURE__*/_jsxs(\"section\",{id:\"refundd\",style:{backgroundColor:'#f8f9fb',padding:'60px 0px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"refund-space\",children:/*#__PURE__*/_jsx(\"div\",{className:\"margin\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-double-border-left border-gold bg-gold-on-hover color-gold\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"authorv3__content--badge\",children:refundData.heading}),/*#__PURE__*/_jsx(\"h3\",{className:\"display-5 mb-0\",children:refundData.subHeading}),/*#__PURE__*/_jsx(\"p\",{className:\"m-30px-b text-muted fs-5\",children:refundData.tagline}),/*#__PURE__*/_jsx(\"p\",{children:refundData.description}),/*#__PURE__*/_jsx(\"div\",{className:\"Refund-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"glightbox3 btn__secondary\",onClick:()=>setShowModal(true),children:refundData.button})})]})})}),/*#__PURE__*/_jsx(CustomModal,{showModal:showModal,handleCloseModal:handleCloseModal,handleLinkClick:handleLinkClick,heroData:heroData})]});};export default RefundBanner;","map":{"version":3,"names":["React","axios","useState","useNavigate","CustomModal","jsx","_jsx","jsxs","_jsxs","RefundBanner","_ref","refundData","heroData","navigate","handleLinkClick","link","checkboxError","setCheckboxError","nameError","setNameError","emailError","setEmailError","emailExists","setEmailExists","acceptTerms","setAcceptTerms","acceptTermsError","setAcceptTermsError","showTermsError","setShowTermsError","showModal","setShowModal","name","setName","email","setEmail","submitError","setSubmitError","handleCloseModal","validateInputs","isValid","trim","emailRegex","test","handleSubmit","_paymentResponse$data","_paymentResponse$data2","paymentResponse","get","concat","window","location","href","data","url","error","console","log","response","message","updateFormData","formData","formDataResponse","post","id","style","backgroundColor","padding","children","className","heading","subHeading","tagline","description","onClick","button"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/src/components/pages/refundBanner.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CustomModal from '../cusComponents/modal/modal';\r\nimport \"./refundBanner.css\"\r\n\r\nconst RefundBanner = ({refundData, heroData = {} }) => {\r\n    const navigate = useNavigate();\r\n    const handleLinkClick = (link) => {\r\n      navigate(link)\r\n    }\r\n    const [checkboxError, setCheckboxError] = useState(\"\")\r\n    const [nameError, setNameError] = useState(\"\");\r\n    const [emailError, setEmailError] = useState(\"\");\r\n    const [emailExists, setEmailExists] = useState(false);\r\n    const [acceptTerms, setAcceptTerms] = useState(false);\r\n    const [acceptTermsError, setAcceptTermsError] = useState(false);\r\n    const [showTermsError, setShowTermsError] = useState(false);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [submitError, setSubmitError] = useState(\"\");\r\n    const handleCloseModal = () => {\r\n        setName(\"\");\r\n        setEmail(\"\");\r\n        setShowModal(false);\r\n        setSubmitError(\"\");\r\n      }\r\n    \r\n      const validateInputs = () => {\r\n        let isValid = true;\r\n    \r\n        // Validate acceptance of terms\r\n        if (!acceptTerms) {\r\n          setCheckboxError(true);\r\n          isValid = false;\r\n        } else {\r\n          setCheckboxError(false);\r\n        }\r\n    \r\n        // Validate Name\r\n        if (!name.trim()) {\r\n          setNameError(true);\r\n          isValid = false;\r\n        } else {\r\n          setNameError(false);\r\n        }\r\n    \r\n        // Validate Email\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        if (!email.trim() || !emailRegex.test(email)) {\r\n          setEmailError(true);\r\n          isValid = false;\r\n        } else {\r\n          setEmailError(false);\r\n        }\r\n    \r\n        return isValid;\r\n      };\r\n    \r\n    \r\n      const handleSubmit = async () => {\r\n        try {\r\n          setSubmitError(\"\");\r\n          if (!validateInputs()) {\r\n            setShowTermsError(!acceptTerms);\r\n            return;\r\n          }\r\n          const paymentResponse = await axios.get(`http://localhost:7000/payment/createPaymentIntent/?email=${email}&name=${name}`)\r\n          window.location.href = paymentResponse?.data?.data?.url;\r\n        }\r\n        catch (error) {\r\n          console.log(error)\r\n          if (error.response.data.message)\r\n            setSubmitError(error.response.data.message);\r\n          else\r\n            setSubmitError(\"Error creating payment intent\")\r\n        }\r\n      };\r\n    const updateFormData = async (formData) => {\r\n        try {\r\n          const formDataResponse = await axios.post(\"http://localhost:7000/content/formData\", formData);\r\n          return formDataResponse.data;\r\n          console.log(formDataResponse);\r\n        } catch (error) {\r\n          console.error(\"Error updating form data:\", error);\r\n          throw error;\r\n        }\r\n      };\r\n\r\n    return (\r\n        <section id=\"refundd\" style={{ backgroundColor: '#f8f9fb', padding: '60px 0px' }}>\r\n            <div className='refund-space'>\r\n                <div className=\"margin\">\r\n                    <div className='btn-double-border-left border-gold bg-gold-on-hover color-gold'>\r\n                        <div className=\"authorv3__content--badge\">\r\n                           {refundData.heading}\r\n                        </div>\r\n                        <h3 className=\"display-5 mb-0\">{refundData.subHeading}</h3>\r\n                        <p className=\"m-30px-b text-muted fs-5\">{refundData.tagline}</p>\r\n                        <p>{refundData.description}</p>\r\n                        <div className=\"Refund-container\">\r\n                            <button className=\"glightbox3 btn__secondary\" onClick={() => setShowModal(true)}>{refundData.button}</button>\r\n                            {/* <div class=\"button__bottom\"></div>\r\n                        <div class=\"button__shadow\"></div> */}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <CustomModal\r\n        showModal={showModal}\r\n        handleCloseModal={handleCloseModal}\r\n        handleLinkClick={handleLinkClick}\r\n        heroData={heroData}\r\n      />\r\n        </section>\r\n\r\n    )\r\n}\r\n\r\nexport default RefundBanner"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}