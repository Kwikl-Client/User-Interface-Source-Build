{"ast":null,"code":"var _jsxFileName = \"/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/src/components/pages/refundBanner.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport CustomModal from '../cusComponents/modal/modal';\nimport \"./refundBanner.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RefundBanner = ({\n  refundData,\n  heroData = {}\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const handleLinkClick = link => {\n    navigate(link);\n  };\n  const [checkboxError, setCheckboxError] = useState(\"\");\n  const [nameError, setNameError] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [emailExists, setEmailExists] = useState(false);\n  const [acceptTerms, setAcceptTerms] = useState(false);\n  const [acceptTermsError, setAcceptTermsError] = useState(false);\n  const [showTermsError, setShowTermsError] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [submitError, setSubmitError] = useState(\"\");\n  const handleCloseModal = () => {\n    setName(\"\");\n    setEmail(\"\");\n    setShowModal(false);\n    setSubmitError(\"\");\n  };\n  const validateInputs = () => {\n    let isValid = true;\n\n    // Validate acceptance of terms\n    if (!acceptTerms) {\n      setCheckboxError(true);\n      isValid = false;\n    } else {\n      setCheckboxError(false);\n    }\n\n    // Validate Name\n    if (!name.trim()) {\n      setNameError(true);\n      isValid = false;\n    } else {\n      setNameError(false);\n    }\n\n    // Validate Email\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!email.trim() || !emailRegex.test(email)) {\n      setEmailError(true);\n      isValid = false;\n    } else {\n      setEmailError(false);\n    }\n    return isValid;\n  };\n  const handleSubmit = async () => {\n    try {\n      var _paymentResponse$data, _paymentResponse$data2;\n      setSubmitError(\"\");\n      if (!validateInputs()) {\n        setShowTermsError(!acceptTerms);\n        return;\n      }\n      const paymentResponse = await axios.get(`http://localhost:7000/payment/createPaymentIntent/?email=${email}&name=${name}`);\n      window.location.href = paymentResponse === null || paymentResponse === void 0 ? void 0 : (_paymentResponse$data = paymentResponse.data) === null || _paymentResponse$data === void 0 ? void 0 : (_paymentResponse$data2 = _paymentResponse$data.data) === null || _paymentResponse$data2 === void 0 ? void 0 : _paymentResponse$data2.url;\n    } catch (error) {\n      console.log(error);\n      if (error.response.data.message) setSubmitError(error.response.data.message);else setSubmitError(\"Error creating payment intent\");\n    }\n  };\n  const updateFormData = async formData => {\n    try {\n      const formDataResponse = await axios.post(\"http://localhost:7000/content/formData\", formData);\n      return formDataResponse.data;\n      console.log(formDataResponse);\n    } catch (error) {\n      console.error(\"Error updating form data:\", error);\n      throw error;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"refundd\",\n    style: {\n      backgroundColor: '#f8f9fb',\n      padding: '60px 0px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"refund-space\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"margin\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-double-border-left border-gold bg-gold-on-hover color-gold\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"authorv3__content--badge\",\n            children: refundData.heading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"display-5 mb-0\",\n            children: refundData.subHeading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"m-30px-b text-muted fs-5\",\n            children: refundData.tagline\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: refundData.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Refund-container\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"glightbox3 btn__secondary\",\n              onClick: () => setShowModal(true),\n              children: refundData.button\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CustomModal, {\n      showModal: showModal,\n      handleCloseModal: handleCloseModal,\n      handleLinkClick: handleLinkClick,\n      heroData: heroData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n};\n_s(RefundBanner, \"XXqR7AoHiW/B9ZReSnHVAEpeAtQ=\", false, function () {\n  return [useNavigate];\n});\n_c = RefundBanner;\nexport default RefundBanner;\nvar _c;\n$RefreshReg$(_c, \"RefundBanner\");","map":{"version":3,"names":["React","axios","useState","useNavigate","CustomModal","jsxDEV","_jsxDEV","RefundBanner","refundData","heroData","_s","navigate","handleLinkClick","link","checkboxError","setCheckboxError","nameError","setNameError","emailError","setEmailError","emailExists","setEmailExists","acceptTerms","setAcceptTerms","acceptTermsError","setAcceptTermsError","showTermsError","setShowTermsError","showModal","setShowModal","name","setName","email","setEmail","submitError","setSubmitError","handleCloseModal","validateInputs","isValid","trim","emailRegex","test","handleSubmit","_paymentResponse$data","_paymentResponse$data2","paymentResponse","get","window","location","href","data","url","error","console","log","response","message","updateFormData","formData","formDataResponse","post","id","style","backgroundColor","padding","children","className","heading","fileName","_jsxFileName","lineNumber","columnNumber","subHeading","tagline","description","onClick","button","_c","$RefreshReg$"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/src/components/pages/refundBanner.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CustomModal from '../cusComponents/modal/modal';\r\nimport \"./refundBanner.css\"\r\n\r\nconst RefundBanner = ({refundData, heroData = {} }) => {\r\n    const navigate = useNavigate();\r\n    const handleLinkClick = (link) => {\r\n      navigate(link)\r\n    }\r\n    const [checkboxError, setCheckboxError] = useState(\"\")\r\n    const [nameError, setNameError] = useState(\"\");\r\n    const [emailError, setEmailError] = useState(\"\");\r\n    const [emailExists, setEmailExists] = useState(false);\r\n    const [acceptTerms, setAcceptTerms] = useState(false);\r\n    const [acceptTermsError, setAcceptTermsError] = useState(false);\r\n    const [showTermsError, setShowTermsError] = useState(false);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [submitError, setSubmitError] = useState(\"\");\r\n    const handleCloseModal = () => {\r\n        setName(\"\");\r\n        setEmail(\"\");\r\n        setShowModal(false);\r\n        setSubmitError(\"\");\r\n      }\r\n    \r\n      const validateInputs = () => {\r\n        let isValid = true;\r\n    \r\n        // Validate acceptance of terms\r\n        if (!acceptTerms) {\r\n          setCheckboxError(true);\r\n          isValid = false;\r\n        } else {\r\n          setCheckboxError(false);\r\n        }\r\n    \r\n        // Validate Name\r\n        if (!name.trim()) {\r\n          setNameError(true);\r\n          isValid = false;\r\n        } else {\r\n          setNameError(false);\r\n        }\r\n    \r\n        // Validate Email\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        if (!email.trim() || !emailRegex.test(email)) {\r\n          setEmailError(true);\r\n          isValid = false;\r\n        } else {\r\n          setEmailError(false);\r\n        }\r\n    \r\n        return isValid;\r\n      };\r\n    \r\n    \r\n      const handleSubmit = async () => {\r\n        try {\r\n          setSubmitError(\"\");\r\n          if (!validateInputs()) {\r\n            setShowTermsError(!acceptTerms);\r\n            return;\r\n          }\r\n          const paymentResponse = await axios.get(`http://localhost:7000/payment/createPaymentIntent/?email=${email}&name=${name}`)\r\n          window.location.href = paymentResponse?.data?.data?.url;\r\n        }\r\n        catch (error) {\r\n          console.log(error)\r\n          if (error.response.data.message)\r\n            setSubmitError(error.response.data.message);\r\n          else\r\n            setSubmitError(\"Error creating payment intent\")\r\n        }\r\n      };\r\n    const updateFormData = async (formData) => {\r\n        try {\r\n          const formDataResponse = await axios.post(\"http://localhost:7000/content/formData\", formData);\r\n          return formDataResponse.data;\r\n          console.log(formDataResponse);\r\n        } catch (error) {\r\n          console.error(\"Error updating form data:\", error);\r\n          throw error;\r\n        }\r\n      };\r\n\r\n    return (\r\n        <section id=\"refundd\" style={{ backgroundColor: '#f8f9fb', padding: '60px 0px' }}>\r\n            <div className='refund-space'>\r\n                <div className=\"margin\">\r\n                    <div className='btn-double-border-left border-gold bg-gold-on-hover color-gold'>\r\n                        <div className=\"authorv3__content--badge\">\r\n                           {refundData.heading}\r\n                        </div>\r\n                        <h3 className=\"display-5 mb-0\">{refundData.subHeading}</h3>\r\n                        <p className=\"m-30px-b text-muted fs-5\">{refundData.tagline}</p>\r\n                        <p>{refundData.description}</p>\r\n                        <div className=\"Refund-container\">\r\n                            <button className=\"glightbox3 btn__secondary\" onClick={() => setShowModal(true)}>{refundData.button}</button>\r\n                            {/* <div class=\"button__bottom\"></div>\r\n                        <div class=\"button__shadow\"></div> */}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <CustomModal\r\n        showModal={showModal}\r\n        handleCloseModal={handleCloseModal}\r\n        handleLinkClick={handleLinkClick}\r\n        heroData={heroData}\r\n      />\r\n        </section>\r\n\r\n    )\r\n}\r\n\r\nexport default RefundBanner"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}