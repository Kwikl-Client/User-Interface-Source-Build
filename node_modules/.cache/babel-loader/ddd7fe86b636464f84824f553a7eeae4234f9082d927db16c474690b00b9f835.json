{"ast":null,"code":"import { Ajax, createElement, select, extend, Internationalization } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, setValue, getValue } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { createDialog, createExtDialog } from '../pop-up/dialog';\nimport { fileType, setNodeId, getLocaleText, setDateObject, doPasteUpdate, getPathObject } from '../common/utility';\nimport { generatePath } from '../common/utility';\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nexport function read(parent, event, path) {\n  // eslint-disable-next-line\n  var itemData = parent.itemData;\n  for (var i = 0; i < itemData.length; i++) {\n    if (isNOU(getValue('hasChild', itemData[i]))) {\n      setValue('hasChild', false, itemData[i]);\n    }\n  }\n  // eslint-disable-next-line\n  var data = {\n    action: 'read',\n    path: path,\n    showHiddenItems: parent.showHiddenItems,\n    data: itemData\n  };\n  createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nexport function createFolder(parent, itemName) {\n  // eslint-disable-next-line\n  var data = {\n    action: 'create',\n    path: parent.path,\n    name: itemName,\n    data: parent.itemData\n  };\n  createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\nexport function filter(parent, event) {\n  // eslint-disable-next-line\n  var data = {\n    action: 'filter',\n    path: parent.path,\n    showHiddenItems: parent.showHiddenItems,\n    data: [getPathObject(parent)]\n  };\n  // eslint-disable-next-line\n  var filterData;\n  // eslint-disable-next-line\n  var filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n  createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\nexport function rename(parent, path, itemNewName) {\n  var name;\n  var newName;\n  if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n    name = parent.currentItemText;\n    newName = itemNewName;\n  } else {\n    var fPath = parent.filterPath;\n    if (parent.hasId) {\n      name = parent.currentItemText;\n      newName = itemNewName;\n    } else {\n      fPath = fPath.replace(/\\\\/g, '/');\n      name = fPath.replace(path, '') + parent.currentItemText;\n      newName = fPath.replace(path, '') + itemNewName;\n    }\n  }\n  // eslint-disable-next-line\n  var data = {\n    action: 'rename',\n    path: path,\n    name: name,\n    newName: newName,\n    data: parent.itemData,\n    showFileExtension: parent.showFileExtension\n  };\n  createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\nexport function paste(parent, path, names, targetPath, pasteOperation,\n// eslint-disable-next-line\nrenameItems, actionRecords) {\n  // eslint-disable-next-line\n  var data = {\n    action: pasteOperation,\n    path: path,\n    targetData: parent.itemData[0],\n    targetPath: targetPath,\n    names: names,\n    renameFiles: renameItems,\n    data: actionRecords\n  };\n  parent.destinationPath = targetPath;\n  createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nexport function Delete(parent, items, path, operation) {\n  // eslint-disable-next-line\n  var data = {\n    action: operation,\n    path: path,\n    names: items,\n    data: parent.itemData\n  };\n  createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\nexport function GetDetails(parent, names, path, operation) {\n  // eslint-disable-next-line\n  var data = {\n    action: operation,\n    path: path,\n    names: names,\n    data: parent.itemData\n  };\n  createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\nfunction getDateFormat(parent) {\n  var columns = parent.detailsViewSettings.columns;\n  var dateFormat;\n  for (var i = 0; i < columns.length; i++) {\n    if (columns[i].field === '_fm_modified') {\n      if (!isNOU(columns[i].format)) {\n        dateFormat = columns[i].format.toString();\n      }\n      break;\n    }\n  }\n  return dateFormat;\n}\nfunction createAjax(\n// eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n  // eslint-disable-next-line\n  var ajaxSettings = {\n    url: parent.ajaxSettings.url,\n    type: 'POST',\n    mode: true,\n    dataType: 'json',\n    contentType: 'application/json',\n    data: JSON.stringify(data),\n    onSuccess: null,\n    onFailure: null,\n    beforeSend: null\n  };\n  var eventArgs = {\n    action: getValue('action', data),\n    ajaxSettings: ajaxSettings,\n    cancel: false\n  };\n  parent.trigger('beforeSend', eventArgs, function (beforeSendArgs) {\n    if (!beforeSendArgs.cancel) {\n      parent.notify(events.beforeRequest, {});\n      var ajax = new Ajax({\n        url: getValue('url', beforeSendArgs.ajaxSettings),\n        type: getValue('type', beforeSendArgs.ajaxSettings),\n        mode: getValue('mode', beforeSendArgs.ajaxSettings),\n        dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n        contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n        data: getValue('data', beforeSendArgs.ajaxSettings),\n        beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n        onSuccess: function (result) {\n          if (isNOU(result)) {\n            var result_1 = {\n              error: {\n                fileExists: null,\n                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                code: '406'\n              },\n              files: null\n            };\n            triggerAjaxFailure(parent, beforeSendArgs, fn, result_1, event, operation, targetPath);\n            return;\n          }\n          if (typeof result === 'string') {\n            result = JSON.parse(result);\n          }\n          parent.notify(events.afterRequest, {\n            action: 'success'\n          });\n          var id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n          if (!isNOU(result.cwd) && getValue('action', data) === 'read') {\n            result.cwd.name = parent.pathId.length === 1 ? parent.rootAliasName || result.cwd.name : result.cwd.name;\n            setValue('_fm_id', id, result.cwd);\n            setValue(id, result.cwd, parent.feParent);\n            if (!isNOU(result.files) || result.error.code === '401') {\n              if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                // eslint-disable-next-line\n                var root = getValue(parent.pathId[0], parent.feParent);\n                parent.pathNames[0] = getValue('name', root);\n                parent.hasId = !isNOU(getValue('id', root));\n              }\n              if (event === 'finalize-end') {\n                generatePath(parent);\n              }\n            }\n          }\n          var intl = new Internationalization(parent.locale);\n          if (!isNOU(result.files)) {\n            setDateObject(result.files, intl, getDateFormat(parent));\n            for (var i = 0, len = result.files.length; i < len; i++) {\n              // eslint-disable-next-line\n              var item = result.files[i];\n              setValue('_fm_iconClass', fileType(item), item);\n            }\n            if (getValue('action', data) === 'read') {\n              setNodeId(result, id);\n              setValue(id, result.files, parent.feFiles);\n            }\n          }\n          if (!isNOU(result.details) && !isNOU(parent.rootAliasName)) {\n            var rootName = parent.rootAliasName || getValue('name', result.details);\n            var location_1 = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n            if (getValue('path', data) === '/' || parent.hasId && getValue('path', data).match(/[/]/g).length === 1) {\n              if (getValue('names', data).length === 0) {\n                setValue('name', rootName, result.details);\n                location_1 = rootName;\n              } else {\n                location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n              }\n            } else {\n              location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n            }\n            setValue('location', location_1, result.details);\n          }\n          fn(parent, result, event, operation, targetPath);\n          if (!isNOU(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end' || event === 'drop-path')) {\n            parent.notify(events.searchTextChange, result);\n          }\n          if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n            getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n          }\n        },\n        onFailure: function () {\n          var result = {\n            files: null,\n            error: {\n              code: '404',\n              message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n              fileExists: null\n            }\n          };\n          triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n        }\n      });\n      ajax.send();\n    }\n  });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\nfunction triggerAjaxFailure(\n// eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n  parent.notify(events.afterRequest, {\n    action: 'failure'\n  });\n  fn(parent, result, event, operation, targetPath);\n  if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n    getValue('onFailure', beforeSendArgs.ajaxSettings)();\n  }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction readSuccess(parent, result, event) {\n  if (!isNOU(result.files)) {\n    parent.notify(event, result);\n    parent.notify(events.selectionChanged, {});\n    var args = {\n      action: 'read',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    if (result.error.code === '401') {\n      result.files = [];\n      parent.notify(event, result);\n      parent.notify(events.selectionChanged, {});\n    }\n    onFailure(parent, result, 'read');\n    parent.setProperties({\n      path: parent.oldPath\n    }, true);\n    parent.pathNames.pop();\n  }\n  if (parent.isDragDrop && parent.isDropEnd) {\n    if (parent.droppedObjects.length !== 0) {\n      var args = {\n        fileDetails: parent.droppedObjects\n      };\n      parent.trigger('fileDropped', args);\n    }\n    parent.isDropEnd = parent.isDragDrop = false;\n  }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction filterSuccess(parent, result, event, action) {\n  if (!isNOU(result.files)) {\n    parent.notify(event, result);\n    var args = {\n      action: action,\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, action);\n  }\n}\n/* istanbul ignore next */\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nfunction createSuccess(parent, result, itemName) {\n  if (!isNOU(result.files)) {\n    if (parent.dialogObj && parent.dialogObj.visible) {\n      parent.dialogObj.hide();\n    }\n    parent.createdItem = result.files[0];\n    parent.breadcrumbbarModule.searchObj.value = '';\n    var args = {\n      action: 'create',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, events.createEnd, parent.path);\n  } else {\n    if (result.error.code === '400') {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        var ele = select('#newname', parent.dialogObj.element);\n        var error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n        ele.parentElement.nextElementSibling.innerHTML = error;\n      } else {\n        var result_2 = {\n          files: null,\n          error: {\n            code: '400',\n            message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result_2);\n      }\n      var args = {\n        action: 'create',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        parent.dialogObj.hide();\n      }\n      onFailure(parent, result, 'create');\n    }\n  }\n}\n/* istanbul ignore next */\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\nfunction renameSuccess(parent, result, path) {\n  if (!isNOU(result.files)) {\n    if (!isNOU(parent.dialogObj)) {\n      parent.dialogObj.hide();\n    }\n    var args = {\n      action: 'rename',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.renamedItem = Array.isArray(result.files) ? result.files[0] : result.files;\n    if (parent.activeModule === 'navigationpane') {\n      parent.pathId.pop();\n      parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n      read(parent, events.renameEndParent, getValue('filterPath', parent.renamedItem).replace(/\\\\/g, '/'));\n      parent.itemData[0] = parent.renamedItem;\n      read(parent, events.pathChanged, parent.path === '/' ? parent.path : getValue('filterPath', parent.renamedItem).replace(/\\\\/g, '/') + parent.renamedItem.name + '/');\n      if (getValue('filterPath', parent.renamedItem) === getValue('filterPath', parent.itemData[0]) && parent.pathNames.length > 1) {\n        parent.pathNames[parent.pathNames.length - 1] = parent.renameText;\n      }\n    } else {\n      parent.itemData = [getPathObject(parent)];\n      if (parent.breadcrumbbarModule.searchObj.value !== '') {\n        Search(parent, events.renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n      } else {\n        if (parent.isFiltered) {\n          filter(parent, events.renameEnd);\n        } else {\n          read(parent, events.renameEnd, parent.path);\n        }\n      }\n    }\n  } else {\n    if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n      var ele = select('#rename', parent.dialogObj.element);\n      var error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n      error = error.replace('{1}', '\"' + ele.value + '\"');\n      ele.parentElement.nextElementSibling.innerHTML = error;\n      var args = {\n        action: 'rename',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (!isNOU(parent.dialogObj)) {\n        parent.dialogObj.hide();\n      }\n      onFailure(parent, result, 'rename');\n    }\n  }\n}\n/* istanbul ignore next */\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction pasteSuccess(parent, result, path, operation) {\n  if (result.error && result.error.fileExists) {\n    parent.fileLength = 0;\n    if (!isNOU(result.files)) {\n      parent.isPasteError = true;\n      doPasteUpdate(parent, operation, result);\n    }\n    createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n    if (result.error.code === '404') {\n      createDialog(parent, 'Error', result);\n    }\n  } else if (!result.error && !isNOU(result.files)) {\n    parent.isPasteError = false;\n    doPasteUpdate(parent, operation, result);\n  } else if (result.error && !isNOU(result.files)) {\n    parent.isPasteError = true;\n    doPasteUpdate(parent, operation, result);\n    createDialog(parent, 'Error', result);\n  } else {\n    onFailure(parent, result, operation);\n  }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction deleteSuccess(parent, result, path) {\n  if (!isNOU(result.files)) {\n    parent.setProperties({\n      path: path\n    }, true);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, events.deleteEnd, parent.path);\n    if (result.error) {\n      onFailure(parent, result, 'delete');\n    } else {\n      var args = {\n        action: 'delete',\n        result: result\n      };\n      parent.trigger('success', args);\n    }\n  } else {\n    onFailure(parent, result, 'delete');\n  }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction detailsSuccess(\n// eslint:disable-next-line\nparent, result, path, operation) {\n  if (!isNOU(result.details)) {\n    createDialog(parent, operation, null, result.details);\n    var args = {\n      action: 'details',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'details');\n  }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction onFailure(parent, result, action) {\n  createDialog(parent, 'Error', result);\n  var args = {\n    action: action,\n    error: result.error\n  };\n  parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\nexport function Search(\n// eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n  // eslint-disable-next-line\n  var data = {\n    action: 'search',\n    path: path,\n    searchString: searchString,\n    showHiddenItems: showHiddenItems,\n    caseSensitive: caseSensitive,\n    data: parent.itemData\n  };\n  createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction searchSuccess(parent, result, event) {\n  if (!isNOU(result.files)) {\n    parent.notify(event, result);\n    var args = {\n      action: 'search',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'search');\n  }\n}\n/* istanbul ignore next */\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\nexport function Download(parent, path, items) {\n  var downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url;\n  // eslint-disable-next-line\n  var data = {\n    'action': 'download',\n    'path': path,\n    'names': items,\n    'data': parent.itemData\n  };\n  var eventArgs = {\n    data: data,\n    cancel: false\n  };\n  parent.trigger('beforeDownload', eventArgs, function (downloadArgs) {\n    if (!downloadArgs.cancel) {\n      var form = createElement('form', {\n        id: parent.element.id + '_downloadForm',\n        attrs: {\n          action: downloadUrl,\n          method: 'post',\n          name: 'downloadForm',\n          'download': ''\n        }\n      });\n      var input = createElement('input', {\n        id: parent.element.id + '_hiddenForm',\n        attrs: {\n          name: 'downloadInput',\n          value: JSON.stringify(downloadArgs.data),\n          type: 'hidden'\n        }\n      });\n      form.appendChild(input);\n      parent.element.appendChild(form);\n      document.forms.namedItem('downloadForm').submit();\n      parent.element.removeChild(form);\n    }\n  });\n}","map":{"version":3,"names":["Ajax","createElement","select","extend","Internationalization","isNullOrUndefined","isNOU","setValue","getValue","events","createDialog","createExtDialog","fileType","setNodeId","getLocaleText","setDateObject","doPasteUpdate","getPathObject","generatePath","read","parent","event","path","itemData","i","length","data","action","showHiddenItems","createAjax","readSuccess","createFolder","itemName","name","createSuccess","filter","filterData","filterDataVal","filterSuccess","rename","itemNewName","newName","breadcrumbbarModule","searchObj","element","value","isFiltered","currentItemText","fPath","filterPath","hasId","replace","showFileExtension","renameSuccess","paste","names","targetPath","pasteOperation","renameItems","actionRecords","targetData","renameFiles","destinationPath","pasteSuccess","Delete","items","operation","deleteSuccess","GetDetails","detailsSuccess","getDateFormat","columns","detailsViewSettings","dateFormat","field","format","toString","fn","ajaxSettings","url","type","mode","dataType","contentType","JSON","stringify","onSuccess","onFailure","beforeSend","eventArgs","cancel","trigger","beforeSendArgs","notify","beforeRequest","ajax","result","result_1","error","fileExists","message","code","files","triggerAjaxFailure","parse","afterRequest","id","expandedId","pathId","cwd","rootAliasName","feParent","pathNames","root","intl","locale","len","item","feFiles","details","rootName","location_1","RegExp","match","substring","indexOf","searchTextChange","send","selectionChanged","args","setProperties","oldPath","pop","isDragDrop","isDropEnd","droppedObjects","fileDetails","dialogObj","visible","hide","createdItem","createEnd","ele","parentElement","nextElementSibling","innerHTML","result_2","renamedItem","Array","isArray","activeModule","renameEndParent","pathChanged","renameText","Search","renameEnd","searchWord","searchSettings","ignoreCase","fileLength","isPasteError","deleteEnd","searchString","caseSensitive","searchSuccess","Download","downloadUrl","downloadArgs","form","attrs","method","input","appendChild","document","forms","namedItem","submit","removeChild"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/node_modules/@syncfusion/ej2-filemanager/src/file-manager/common/operations.js"],"sourcesContent":["import { Ajax, createElement, select, extend, Internationalization } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, setValue, getValue } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { createDialog, createExtDialog } from '../pop-up/dialog';\nimport { fileType, setNodeId, getLocaleText, setDateObject, doPasteUpdate, getPathObject } from '../common/utility';\nimport { generatePath } from '../common/utility';\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nexport function read(parent, event, path) {\n    // eslint-disable-next-line\n    var itemData = parent.itemData;\n    for (var i = 0; i < itemData.length; i++) {\n        if (isNOU(getValue('hasChild', itemData[i]))) {\n            setValue('hasChild', false, itemData[i]);\n        }\n    }\n    // eslint-disable-next-line\n    var data = { action: 'read', path: path, showHiddenItems: parent.showHiddenItems, data: itemData };\n    createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nexport function createFolder(parent, itemName) {\n    // eslint-disable-next-line\n    var data = { action: 'create', path: parent.path, name: itemName, data: parent.itemData };\n    createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\nexport function filter(parent, event) {\n    // eslint-disable-next-line\n    var data = { action: 'filter', path: parent.path, showHiddenItems: parent.showHiddenItems, data: [getPathObject(parent)] };\n    // eslint-disable-next-line\n    var filterData;\n    // eslint-disable-next-line\n    var filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n    createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\nexport function rename(parent, path, itemNewName) {\n    var name;\n    var newName;\n    if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n        name = parent.currentItemText;\n        newName = itemNewName;\n    }\n    else {\n        var fPath = parent.filterPath;\n        if (parent.hasId) {\n            name = parent.currentItemText;\n            newName = itemNewName;\n        }\n        else {\n            fPath = fPath.replace(/\\\\/g, '/');\n            name = fPath.replace(path, '') + parent.currentItemText;\n            newName = fPath.replace(path, '') + itemNewName;\n        }\n    }\n    // eslint-disable-next-line\n    var data = {\n        action: 'rename', path: path, name: name, newName: newName, data: parent.itemData, showFileExtension: parent.showFileExtension\n    };\n    createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\nexport function paste(parent, path, names, targetPath, pasteOperation, \n// eslint-disable-next-line\nrenameItems, actionRecords) {\n    // eslint-disable-next-line\n    var data = {\n        action: pasteOperation, path: path, targetData: parent.itemData[0],\n        targetPath: targetPath, names: names, renameFiles: renameItems, data: actionRecords\n    };\n    parent.destinationPath = targetPath;\n    createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nexport function Delete(parent, items, path, operation) {\n    // eslint-disable-next-line\n    var data = { action: operation, path: path, names: items, data: parent.itemData };\n    createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\nexport function GetDetails(parent, names, path, operation) {\n    // eslint-disable-next-line\n    var data = { action: operation, path: path, names: names, data: parent.itemData };\n    createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\nfunction getDateFormat(parent) {\n    var columns = parent.detailsViewSettings.columns;\n    var dateFormat;\n    for (var i = 0; i < columns.length; i++) {\n        if (columns[i].field === '_fm_modified') {\n            if (!isNOU(columns[i].format)) {\n                dateFormat = columns[i].format.toString();\n            }\n            break;\n        }\n    }\n    return dateFormat;\n}\nfunction createAjax(\n// eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n    // eslint-disable-next-line\n    var ajaxSettings = {\n        url: parent.ajaxSettings.url,\n        type: 'POST',\n        mode: true,\n        dataType: 'json',\n        contentType: 'application/json',\n        data: JSON.stringify(data),\n        onSuccess: null,\n        onFailure: null,\n        beforeSend: null\n    };\n    var eventArgs = { action: getValue('action', data), ajaxSettings: ajaxSettings, cancel: false };\n    parent.trigger('beforeSend', eventArgs, function (beforeSendArgs) {\n        if (!beforeSendArgs.cancel) {\n            parent.notify(events.beforeRequest, {});\n            var ajax = new Ajax({\n                url: getValue('url', beforeSendArgs.ajaxSettings),\n                type: getValue('type', beforeSendArgs.ajaxSettings),\n                mode: getValue('mode', beforeSendArgs.ajaxSettings),\n                dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n                contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n                data: getValue('data', beforeSendArgs.ajaxSettings),\n                beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n                onSuccess: function (result) {\n                    if (isNOU(result)) {\n                        var result_1 = {\n                            error: {\n                                fileExists: null,\n                                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                                code: '406'\n                            },\n                            files: null\n                        };\n                        triggerAjaxFailure(parent, beforeSendArgs, fn, result_1, event, operation, targetPath);\n                        return;\n                    }\n                    if (typeof (result) === 'string') {\n                        result = JSON.parse(result);\n                    }\n                    parent.notify(events.afterRequest, { action: 'success' });\n                    var id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n                    if (!isNOU(result.cwd) && (getValue('action', data) === 'read')) {\n                        result.cwd.name = (parent.pathId.length === 1) ? (parent.rootAliasName || result.cwd.name) : result.cwd.name;\n                        setValue('_fm_id', id, result.cwd);\n                        setValue(id, result.cwd, parent.feParent);\n                        if (!isNOU(result.files) || result.error.code === '401') {\n                            if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                                // eslint-disable-next-line\n                                var root = getValue(parent.pathId[0], parent.feParent);\n                                parent.pathNames[0] = getValue('name', root);\n                                parent.hasId = !isNOU(getValue('id', root));\n                            }\n                            if (event === 'finalize-end') {\n                                generatePath(parent);\n                            }\n                        }\n                    }\n                    var intl = new Internationalization(parent.locale);\n                    if (!isNOU(result.files)) {\n                        setDateObject(result.files, intl, getDateFormat(parent));\n                        for (var i = 0, len = result.files.length; i < len; i++) {\n                            // eslint-disable-next-line\n                            var item = result.files[i];\n                            setValue('_fm_iconClass', fileType(item), item);\n                        }\n                        if (getValue('action', data) === 'read') {\n                            setNodeId(result, id);\n                            setValue(id, result.files, parent.feFiles);\n                        }\n                    }\n                    if (!isNOU(result.details) && !isNOU(parent.rootAliasName)) {\n                        var rootName = parent.rootAliasName || getValue('name', result.details);\n                        var location_1 = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n                        if ((getValue('path', data) === '/') || (parent.hasId && getValue('path', data).match(/[/]/g).length === 1)) {\n                            if (getValue('names', data).length === 0) {\n                                setValue('name', rootName, result.details);\n                                location_1 = rootName;\n                            }\n                            else {\n                                location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n                            }\n                        }\n                        else {\n                            location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n                        }\n                        setValue('location', location_1, result.details);\n                    }\n                    fn(parent, result, event, operation, targetPath);\n                    if (!isNOU(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end' || event === 'drop-path')) {\n                        parent.notify(events.searchTextChange, result);\n                    }\n                    if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n                        getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n                    }\n                },\n                onFailure: function () {\n                    var result = {\n                        files: null,\n                        error: {\n                            code: '404',\n                            message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n                            fileExists: null\n                        }\n                    };\n                    triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n                }\n            });\n            ajax.send();\n        }\n    });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\nfunction triggerAjaxFailure(\n// eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n    parent.notify(events.afterRequest, { action: 'failure' });\n    fn(parent, result, event, operation, targetPath);\n    if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n        getValue('onFailure', beforeSendArgs.ajaxSettings)();\n    }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction readSuccess(parent, result, event) {\n    if (!isNOU(result.files)) {\n        parent.notify(event, result);\n        parent.notify(events.selectionChanged, {});\n        var args = { action: 'read', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        if (result.error.code === '401') {\n            result.files = [];\n            parent.notify(event, result);\n            parent.notify(events.selectionChanged, {});\n        }\n        onFailure(parent, result, 'read');\n        parent.setProperties({ path: parent.oldPath }, true);\n        parent.pathNames.pop();\n    }\n    if (parent.isDragDrop && parent.isDropEnd) {\n        if (parent.droppedObjects.length !== 0) {\n            var args = { fileDetails: parent.droppedObjects };\n            parent.trigger('fileDropped', args);\n        }\n        parent.isDropEnd = parent.isDragDrop = false;\n    }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction filterSuccess(parent, result, event, action) {\n    if (!isNOU(result.files)) {\n        parent.notify(event, result);\n        var args = { action: action, result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, action);\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nfunction createSuccess(parent, result, itemName) {\n    if (!isNOU(result.files)) {\n        if (parent.dialogObj && parent.dialogObj.visible) {\n            parent.dialogObj.hide();\n        }\n        parent.createdItem = result.files[0];\n        parent.breadcrumbbarModule.searchObj.value = '';\n        var args = { action: 'create', result: result };\n        parent.trigger('success', args);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, events.createEnd, parent.path);\n    }\n    else {\n        if (result.error.code === '400') {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                var ele = select('#newname', parent.dialogObj.element);\n                var error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n                ele.parentElement.nextElementSibling.innerHTML = error;\n            }\n            else {\n                var result_2 = {\n                    files: null,\n                    error: {\n                        code: '400',\n                        message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result_2);\n            }\n            var args = { action: 'create', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'create');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\nfunction renameSuccess(parent, result, path) {\n    if (!isNOU(result.files)) {\n        if (!isNOU(parent.dialogObj)) {\n            parent.dialogObj.hide();\n        }\n        var args = { action: 'rename', result: result };\n        parent.trigger('success', args);\n        parent.renamedItem = Array.isArray(result.files) ? result.files[0] : result.files;\n        if (parent.activeModule === 'navigationpane') {\n            parent.pathId.pop();\n            parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n            read(parent, events.renameEndParent, getValue('filterPath', parent.renamedItem).replace(/\\\\/g, '/'));\n            parent.itemData[0] = parent.renamedItem;\n            read(parent, events.pathChanged, parent.path === '/' ? parent.path : getValue('filterPath', parent.renamedItem).replace(/\\\\/g, '/') + parent.renamedItem.name + '/');\n            if (getValue('filterPath', parent.renamedItem) === getValue('filterPath', parent.itemData[0]) && parent.pathNames.length > 1) {\n                parent.pathNames[parent.pathNames.length - 1] = parent.renameText;\n            }\n        }\n        else {\n            parent.itemData = [getPathObject(parent)];\n            if (parent.breadcrumbbarModule.searchObj.value !== '') {\n                Search(parent, events.renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n            }\n            else {\n                if (parent.isFiltered) {\n                    filter(parent, events.renameEnd);\n                }\n                else {\n                    read(parent, events.renameEnd, parent.path);\n                }\n            }\n        }\n    }\n    else {\n        if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n            var ele = select('#rename', parent.dialogObj.element);\n            var error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n            error = error.replace('{1}', '\"' + ele.value + '\"');\n            ele.parentElement.nextElementSibling.innerHTML = error;\n            var args = { action: 'rename', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (!isNOU(parent.dialogObj)) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'rename');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction pasteSuccess(parent, result, path, operation) {\n    if (result.error && result.error.fileExists) {\n        parent.fileLength = 0;\n        if (!isNOU(result.files)) {\n            parent.isPasteError = true;\n            doPasteUpdate(parent, operation, result);\n        }\n        createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n        if (result.error.code === '404') {\n            createDialog(parent, 'Error', result);\n        }\n    }\n    else if (!result.error && !isNOU(result.files)) {\n        parent.isPasteError = false;\n        doPasteUpdate(parent, operation, result);\n    }\n    else if (result.error && !isNOU(result.files)) {\n        parent.isPasteError = true;\n        doPasteUpdate(parent, operation, result);\n        createDialog(parent, 'Error', result);\n    }\n    else {\n        onFailure(parent, result, operation);\n    }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction deleteSuccess(parent, result, path) {\n    if (!isNOU(result.files)) {\n        parent.setProperties({ path: path }, true);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, events.deleteEnd, parent.path);\n        if (result.error) {\n            onFailure(parent, result, 'delete');\n        }\n        else {\n            var args = { action: 'delete', result: result };\n            parent.trigger('success', args);\n        }\n    }\n    else {\n        onFailure(parent, result, 'delete');\n    }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction detailsSuccess(\n// eslint:disable-next-line\nparent, result, path, operation) {\n    if (!isNOU(result.details)) {\n        createDialog(parent, operation, null, result.details);\n        var args = { action: 'details', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'details');\n    }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction onFailure(parent, result, action) {\n    createDialog(parent, 'Error', result);\n    var args = { action: action, error: result.error };\n    parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\nexport function Search(\n// eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n    // eslint-disable-next-line\n    var data = {\n        action: 'search', path: path, searchString: searchString, showHiddenItems: showHiddenItems, caseSensitive: caseSensitive,\n        data: parent.itemData\n    };\n    createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction searchSuccess(parent, result, event) {\n    if (!isNOU(result.files)) {\n        parent.notify(event, result);\n        var args = { action: 'search', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'search');\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\nexport function Download(parent, path, items) {\n    var downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url;\n    // eslint-disable-next-line\n    var data = { 'action': 'download', 'path': path, 'names': items, 'data': parent.itemData };\n    var eventArgs = { data: data, cancel: false };\n    parent.trigger('beforeDownload', eventArgs, function (downloadArgs) {\n        if (!downloadArgs.cancel) {\n            var form = createElement('form', {\n                id: parent.element.id + '_downloadForm',\n                attrs: { action: downloadUrl, method: 'post', name: 'downloadForm', 'download': '' }\n            });\n            var input = createElement('input', {\n                id: parent.element.id + '_hiddenForm',\n                attrs: { name: 'downloadInput', value: JSON.stringify(downloadArgs.data), type: 'hidden' }\n            });\n            form.appendChild(input);\n            parent.element.appendChild(form);\n            document.forms.namedItem('downloadForm').submit();\n            parent.element.removeChild(form);\n        }\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}