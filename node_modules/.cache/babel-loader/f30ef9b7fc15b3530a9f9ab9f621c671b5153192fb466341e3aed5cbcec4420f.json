{"ast":null,"code":"import { initialLoad } from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { VirtualContentRenderer, VirtualHeaderRenderer } from '../renderer/virtual-content-renderer';\nimport * as events from '../base/constant';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { extend, getValue, isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nimport { setComplexFieldID, setValidationRuels, getColumnModelByUid } from '../base/util';\n/**\n * Virtual Scrolling class\n */\nvar VirtualScroll = /** @class */function () {\n  function VirtualScroll(parent, locator) {\n    this.parent = parent;\n    this.locator = locator;\n    this.addEventListener();\n  }\n  VirtualScroll.prototype.getModuleName = function () {\n    return 'virtualscroll';\n  };\n  VirtualScroll.prototype.instantiateRenderer = function () {\n    this.parent.log(['limitation', 'virtual_height'], 'virtualization');\n    var renderer = this.locator.getService('rendererFactory');\n    if (this.parent.enableColumnVirtualization) {\n      renderer.addRenderer(RenderType.Header, new VirtualHeaderRenderer(this.parent, this.locator));\n    }\n    renderer.addRenderer(RenderType.Content, new VirtualContentRenderer(this.parent, this.locator));\n    if (!(!this.parent.enableVirtualization && this.parent.enableColumnVirtualization)) {\n      this.ensurePageSize();\n    }\n  };\n  VirtualScroll.prototype.ensurePageSize = function () {\n    var rowHeight = this.parent.getRowHeight();\n    var vHeight = this.parent.height.toString().indexOf('%') < 0 ? this.parent.height : this.parent.element.getBoundingClientRect().height;\n    this.blockSize = ~~(vHeight / rowHeight);\n    var height = this.blockSize * 2;\n    var size = this.parent.pageSettings.pageSize;\n    this.parent.setProperties({\n      pageSettings: {\n        pageSize: size < height ? height : size\n      }\n    }, true);\n  };\n  VirtualScroll.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(initialLoad, this.instantiateRenderer, this);\n    this.parent.on(events.columnWidthChanged, this.refreshVirtualElement, this);\n    this.parent.on(events.createVirtualValidationForm, this.createVirtualValidationForm, this);\n    this.parent.on(events.validateVirtualForm, this.virtualEditFormValidation, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  };\n  VirtualScroll.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(initialLoad, this.instantiateRenderer);\n    this.parent.off(events.columnWidthChanged, this.refreshVirtualElement);\n    this.parent.off(events.createVirtualValidationForm, this.createVirtualValidationForm);\n    this.parent.off(events.validateVirtualForm, this.virtualEditFormValidation);\n    this.parent.off(events.destroy, this.destroy);\n  };\n  VirtualScroll.prototype.getCurrentEditedData = function (prevData) {\n    var data = {\n      virtualData: extend({}, {}, prevData, true),\n      isAdd: false,\n      isScroll: false,\n      endEdit: true\n    };\n    this.parent.notify(events.getVirtualData, data);\n    return data.virtualData;\n  };\n  VirtualScroll.prototype.createVirtualValidationForm = function (e) {\n    var gObj = this.parent;\n    if (gObj.enableVirtualization && gObj.editSettings.mode === 'Normal') {\n      var cols = gObj.columns;\n      var rowRenderer = new RowRenderer(this.locator, null, this.parent);\n      var rowObj = extend({}, {}, gObj.getRowObjectFromUID(e.uid), true);\n      gObj.notify(events.refreshVirtualEditFormCells, rowObj);\n      var args = e.argsCreator(this.getCurrentEditedData(e.prevData), {}, false);\n      args.isCustomFormValidation = true;\n      args.row = rowRenderer.render(rowObj, cols);\n      e.renderer.update(args);\n      var rules = {};\n      for (var i = 0; i < cols.length; i++) {\n        if (!cols[parseInt(i.toString(), 10)].visible) {\n          continue;\n        }\n        if (cols[parseInt(i.toString(), 10)].validationRules) {\n          setValidationRuels(cols[parseInt(i.toString(), 10)], 0, rules, {}, {}, cols.length, true);\n        }\n      }\n      args.form.classList.add('e-virtual-validation');\n      gObj.editModule.virtualFormObj = gObj.editModule.createFormObj(args.form, rules);\n    }\n  };\n  VirtualScroll.prototype.virtualEditFormValidation = function (args) {\n    var gObj = this.parent;\n    var error = gObj.element.querySelector('.e-griderror:not([style*=\"display: none\"])');\n    if (gObj.editModule.virtualFormObj) {\n      if (error && error.style.display !== 'none') {\n        var errorDomRect = error.getBoundingClientRect();\n        var forms = gObj.element.querySelectorAll('.e-gridform');\n        var form = forms[0];\n        var contentLeft = gObj.getContent().getBoundingClientRect().left;\n        if (forms.length > 1) {\n          form = forms[1];\n        }\n        if (errorDomRect.left < contentLeft || errorDomRect.right > gObj.element.offsetWidth) {\n          var tooltip = form.querySelector('.e-tooltip-wrap:not([style*=\"display: none\"])');\n          this.scrollToEdit(tooltip, {\n            editIdx: args.editIdx,\n            addIdx: args.addIdx\n          }, true);\n        }\n      } else if (gObj.editModule.virtualFormObj && (!error || error.style.display === 'none')) {\n        var existingErrors = gObj.editModule.virtualFormObj.element.querySelectorAll('.e-tooltip-wrap:not([style*=\"display: none\"])');\n        for (var i = 0; i < existingErrors.length; i++) {\n          remove(existingErrors[parseInt(i.toString(), 10)]);\n        }\n        this.setEditedDataToValidationForm(gObj.editModule.virtualFormObj.element, this.getCurrentEditedData(args.prevData));\n        args.isValid = gObj.editModule.virtualFormObj.validate();\n        if (!args.isValid) {\n          var tooltip = gObj.editModule.virtualFormObj.element.querySelector('.e-tooltip-wrap:not([style*=\"display: none\"])');\n          this.scrollToEdit(tooltip, {\n            editIdx: args.editIdx,\n            addIdx: args.addIdx\n          });\n        }\n      }\n    }\n  };\n  VirtualScroll.prototype.scrollToEdit = function (tooltip, args, isRenderer) {\n    var gObj = this.parent;\n    if (tooltip) {\n      var cols = gObj.columnModel;\n      var field = setComplexFieldID(tooltip.id).split('_')[0];\n      var col = gObj.getColumnByField(field);\n      var scrollTop = this.parent.getContent().firstElementChild.scrollTop;\n      var row = gObj.getRowByIndex(args.editIdx);\n      if (isRenderer || !col || !isNullOrUndefined(args.addIdx) && scrollTop > 0 || !isNullOrUndefined(args.editIdx) && !row) {\n        var validationCol = void 0;\n        for (var i = 0; i < cols.length && !col; i++) {\n          if (cols[parseInt(i.toString(), 10)].field === field) {\n            validationCol = cols[parseInt(i.toString(), 10)];\n            break;\n          }\n        }\n        if (isRenderer) {\n          validationCol = col;\n        }\n        this.parent.notify(events.scrollToEdit, validationCol);\n      }\n    }\n  };\n  VirtualScroll.prototype.setEditedDataToValidationForm = function (form, editedData) {\n    var inputs = [].slice.call(form.getElementsByClassName('e-field'));\n    for (var i = 0, len = inputs.length; i < len; i++) {\n      var col = getColumnModelByUid(this.parent, inputs[parseInt(i.toString(), 10)].getAttribute('e-mappinguid'));\n      var value = getValue(col.field, editedData);\n      value = isNullOrUndefined(value) ? '' : value;\n      inputs[parseInt(i.toString(), 10)].value = value;\n    }\n  };\n  VirtualScroll.prototype.refreshVirtualElement = function (args) {\n    if (this.parent.enableColumnVirtualization && args.module === 'resize') {\n      var renderer = this.locator.getService('rendererFactory');\n      renderer.getRenderer(RenderType.Content).refreshVirtualElement();\n    }\n  };\n  VirtualScroll.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return VirtualScroll;\n}();\nexport { VirtualScroll };","map":{"version":3,"names":["initialLoad","RenderType","VirtualContentRenderer","VirtualHeaderRenderer","events","RowRenderer","extend","getValue","isNullOrUndefined","remove","setComplexFieldID","setValidationRuels","getColumnModelByUid","VirtualScroll","parent","locator","addEventListener","prototype","getModuleName","instantiateRenderer","log","renderer","getService","enableColumnVirtualization","addRenderer","Header","Content","enableVirtualization","ensurePageSize","rowHeight","getRowHeight","vHeight","height","toString","indexOf","element","getBoundingClientRect","blockSize","size","pageSettings","pageSize","setProperties","isDestroyed","on","columnWidthChanged","refreshVirtualElement","createVirtualValidationForm","validateVirtualForm","virtualEditFormValidation","destroy","removeEventListener","off","getCurrentEditedData","prevData","data","virtualData","isAdd","isScroll","endEdit","notify","getVirtualData","e","gObj","editSettings","mode","cols","columns","rowRenderer","rowObj","getRowObjectFromUID","uid","refreshVirtualEditFormCells","args","argsCreator","isCustomFormValidation","row","render","update","rules","i","length","parseInt","visible","validationRules","form","classList","add","editModule","virtualFormObj","createFormObj","error","querySelector","style","display","errorDomRect","forms","querySelectorAll","contentLeft","getContent","left","right","offsetWidth","tooltip","scrollToEdit","editIdx","addIdx","existingErrors","setEditedDataToValidationForm","isValid","validate","isRenderer","columnModel","field","id","split","col","getColumnByField","scrollTop","firstElementChild","getRowByIndex","validationCol","editedData","inputs","slice","call","getElementsByClassName","len","getAttribute","value","module","getRenderer"],"sources":["/Users/saleem/Desktop/KClient/Web App/Ver_3.6/User Interface/website_Source files/node_modules/@syncfusion/ej2-grids/src/grid/actions/virtual-scroll.js"],"sourcesContent":["import { initialLoad } from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { VirtualContentRenderer, VirtualHeaderRenderer } from '../renderer/virtual-content-renderer';\nimport * as events from '../base/constant';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { extend, getValue, isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nimport { setComplexFieldID, setValidationRuels, getColumnModelByUid } from '../base/util';\n/**\n * Virtual Scrolling class\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.addEventListener();\n    }\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualscroll';\n    };\n    VirtualScroll.prototype.instantiateRenderer = function () {\n        this.parent.log(['limitation', 'virtual_height'], 'virtualization');\n        var renderer = this.locator.getService('rendererFactory');\n        if (this.parent.enableColumnVirtualization) {\n            renderer.addRenderer(RenderType.Header, new VirtualHeaderRenderer(this.parent, this.locator));\n        }\n        renderer.addRenderer(RenderType.Content, new VirtualContentRenderer(this.parent, this.locator));\n        if (!(!this.parent.enableVirtualization && this.parent.enableColumnVirtualization)) {\n            this.ensurePageSize();\n        }\n    };\n    VirtualScroll.prototype.ensurePageSize = function () {\n        var rowHeight = this.parent.getRowHeight();\n        var vHeight = this.parent.height.toString().indexOf('%') < 0 ? this.parent.height :\n            this.parent.element.getBoundingClientRect().height;\n        this.blockSize = ~~(vHeight / rowHeight);\n        var height = this.blockSize * 2;\n        var size = this.parent.pageSettings.pageSize;\n        this.parent.setProperties({ pageSettings: { pageSize: size < height ? height : size } }, true);\n    };\n    VirtualScroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(initialLoad, this.instantiateRenderer, this);\n        this.parent.on(events.columnWidthChanged, this.refreshVirtualElement, this);\n        this.parent.on(events.createVirtualValidationForm, this.createVirtualValidationForm, this);\n        this.parent.on(events.validateVirtualForm, this.virtualEditFormValidation, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    VirtualScroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(initialLoad, this.instantiateRenderer);\n        this.parent.off(events.columnWidthChanged, this.refreshVirtualElement);\n        this.parent.off(events.createVirtualValidationForm, this.createVirtualValidationForm);\n        this.parent.off(events.validateVirtualForm, this.virtualEditFormValidation);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    VirtualScroll.prototype.getCurrentEditedData = function (prevData) {\n        var data = {\n            virtualData: extend({}, {}, prevData, true), isAdd: false, isScroll: false, endEdit: true\n        };\n        this.parent.notify(events.getVirtualData, data);\n        return data.virtualData;\n    };\n    VirtualScroll.prototype.createVirtualValidationForm = function (e) {\n        var gObj = this.parent;\n        if (gObj.enableVirtualization && gObj.editSettings.mode === 'Normal') {\n            var cols = gObj.columns;\n            var rowRenderer = new RowRenderer(this.locator, null, this.parent);\n            var rowObj = extend({}, {}, gObj.getRowObjectFromUID(e.uid), true);\n            gObj.notify(events.refreshVirtualEditFormCells, rowObj);\n            var args = e.argsCreator(this.getCurrentEditedData(e.prevData), {}, false);\n            args.isCustomFormValidation = true;\n            args.row = rowRenderer.render(rowObj, cols);\n            e.renderer.update(args);\n            var rules = {};\n            for (var i = 0; i < cols.length; i++) {\n                if (!cols[parseInt(i.toString(), 10)].visible) {\n                    continue;\n                }\n                if (cols[parseInt(i.toString(), 10)].validationRules) {\n                    setValidationRuels(cols[parseInt(i.toString(), 10)], 0, rules, {}, {}, cols.length, true);\n                }\n            }\n            args.form.classList.add('e-virtual-validation');\n            gObj.editModule.virtualFormObj = gObj.editModule.createFormObj(args.form, rules);\n        }\n    };\n    VirtualScroll.prototype.virtualEditFormValidation = function (args) {\n        var gObj = this.parent;\n        var error = gObj.element.querySelector('.e-griderror:not([style*=\"display: none\"])');\n        if (gObj.editModule.virtualFormObj) {\n            if (error && error.style.display !== 'none') {\n                var errorDomRect = error.getBoundingClientRect();\n                var forms = gObj.element.querySelectorAll('.e-gridform');\n                var form = forms[0];\n                var contentLeft = gObj.getContent().getBoundingClientRect().left;\n                if (forms.length > 1) {\n                    form = forms[1];\n                }\n                if (errorDomRect.left < contentLeft || errorDomRect.right > gObj.element.offsetWidth) {\n                    var tooltip = form.querySelector('.e-tooltip-wrap:not([style*=\"display: none\"])');\n                    this.scrollToEdit(tooltip, { editIdx: args.editIdx, addIdx: args.addIdx }, true);\n                }\n            }\n            else if (gObj.editModule.virtualFormObj && (!error || error.style.display === 'none')) {\n                var existingErrors = gObj.editModule.virtualFormObj.element.querySelectorAll('.e-tooltip-wrap:not([style*=\"display: none\"])');\n                for (var i = 0; i < existingErrors.length; i++) {\n                    remove(existingErrors[parseInt(i.toString(), 10)]);\n                }\n                this.setEditedDataToValidationForm(gObj.editModule.virtualFormObj.element, this.getCurrentEditedData(args.prevData));\n                args.isValid = gObj.editModule.virtualFormObj.validate();\n                if (!args.isValid) {\n                    var tooltip = gObj.editModule.virtualFormObj.element.querySelector('.e-tooltip-wrap:not([style*=\"display: none\"])');\n                    this.scrollToEdit(tooltip, { editIdx: args.editIdx, addIdx: args.addIdx });\n                }\n            }\n        }\n    };\n    VirtualScroll.prototype.scrollToEdit = function (tooltip, args, isRenderer) {\n        var gObj = this.parent;\n        if (tooltip) {\n            var cols = gObj.columnModel;\n            var field = setComplexFieldID(tooltip.id).split('_')[0];\n            var col = gObj.getColumnByField(field);\n            var scrollTop = this.parent.getContent().firstElementChild.scrollTop;\n            var row = gObj.getRowByIndex(args.editIdx);\n            if (isRenderer || !col || (!isNullOrUndefined(args.addIdx) && scrollTop > 0) || (!isNullOrUndefined(args.editIdx) && !row)) {\n                var validationCol = void 0;\n                for (var i = 0; i < cols.length && !col; i++) {\n                    if (cols[parseInt(i.toString(), 10)].field === field) {\n                        validationCol = cols[parseInt(i.toString(), 10)];\n                        break;\n                    }\n                }\n                if (isRenderer) {\n                    validationCol = col;\n                }\n                this.parent.notify(events.scrollToEdit, validationCol);\n            }\n        }\n    };\n    VirtualScroll.prototype.setEditedDataToValidationForm = function (form, editedData) {\n        var inputs = [].slice.call(form.getElementsByClassName('e-field'));\n        for (var i = 0, len = inputs.length; i < len; i++) {\n            var col = getColumnModelByUid(this.parent, inputs[parseInt(i.toString(), 10)].getAttribute('e-mappinguid'));\n            var value = getValue(col.field, editedData);\n            value = isNullOrUndefined(value) ? '' : value;\n            inputs[parseInt(i.toString(), 10)].value = value;\n        }\n    };\n    VirtualScroll.prototype.refreshVirtualElement = function (args) {\n        if (this.parent.enableColumnVirtualization && args.module === 'resize') {\n            var renderer = this.locator.getService('rendererFactory');\n            renderer.getRenderer(RenderType.Content).refreshVirtualElement();\n        }\n    };\n    VirtualScroll.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,UAAU,QAAQ,cAAc;AACzC,SAASC,sBAAsB,EAAEC,qBAAqB,QAAQ,sCAAsC;AACpG,OAAO,KAAKC,MAAM,MAAM,kBAAkB;AAC1C,SAASC,WAAW,QAAQ,0BAA0B;AACtD,SAASC,MAAM,EAAEC,QAAQ,EAAEC,iBAAiB,EAAEC,MAAM,QAAQ,sBAAsB;AAClF,SAASC,iBAAiB,EAAEC,kBAAkB,EAAEC,mBAAmB,QAAQ,cAAc;AACzF;AACA;AACA;AACA,IAAIC,aAAa,GAAG,aAAe,YAAY;EAC3C,SAASA,aAAaA,CAACC,MAAM,EAAEC,OAAO,EAAE;IACpC,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,gBAAgB,CAAC,CAAC;EAC3B;EACAH,aAAa,CAACI,SAAS,CAACC,aAAa,GAAG,YAAY;IAChD,OAAO,eAAe;EAC1B,CAAC;EACDL,aAAa,CAACI,SAAS,CAACE,mBAAmB,GAAG,YAAY;IACtD,IAAI,CAACL,MAAM,CAACM,GAAG,CAAC,CAAC,YAAY,EAAE,gBAAgB,CAAC,EAAE,gBAAgB,CAAC;IACnE,IAAIC,QAAQ,GAAG,IAAI,CAACN,OAAO,CAACO,UAAU,CAAC,iBAAiB,CAAC;IACzD,IAAI,IAAI,CAACR,MAAM,CAACS,0BAA0B,EAAE;MACxCF,QAAQ,CAACG,WAAW,CAACvB,UAAU,CAACwB,MAAM,EAAE,IAAItB,qBAAqB,CAAC,IAAI,CAACW,MAAM,EAAE,IAAI,CAACC,OAAO,CAAC,CAAC;IACjG;IACAM,QAAQ,CAACG,WAAW,CAACvB,UAAU,CAACyB,OAAO,EAAE,IAAIxB,sBAAsB,CAAC,IAAI,CAACY,MAAM,EAAE,IAAI,CAACC,OAAO,CAAC,CAAC;IAC/F,IAAI,EAAE,CAAC,IAAI,CAACD,MAAM,CAACa,oBAAoB,IAAI,IAAI,CAACb,MAAM,CAACS,0BAA0B,CAAC,EAAE;MAChF,IAAI,CAACK,cAAc,CAAC,CAAC;IACzB;EACJ,CAAC;EACDf,aAAa,CAACI,SAAS,CAACW,cAAc,GAAG,YAAY;IACjD,IAAIC,SAAS,GAAG,IAAI,CAACf,MAAM,CAACgB,YAAY,CAAC,CAAC;IAC1C,IAAIC,OAAO,GAAG,IAAI,CAACjB,MAAM,CAACkB,MAAM,CAACC,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAACpB,MAAM,CAACkB,MAAM,GAC7E,IAAI,CAAClB,MAAM,CAACqB,OAAO,CAACC,qBAAqB,CAAC,CAAC,CAACJ,MAAM;IACtD,IAAI,CAACK,SAAS,GAAG,CAAC,EAAEN,OAAO,GAAGF,SAAS,CAAC;IACxC,IAAIG,MAAM,GAAG,IAAI,CAACK,SAAS,GAAG,CAAC;IAC/B,IAAIC,IAAI,GAAG,IAAI,CAACxB,MAAM,CAACyB,YAAY,CAACC,QAAQ;IAC5C,IAAI,CAAC1B,MAAM,CAAC2B,aAAa,CAAC;MAAEF,YAAY,EAAE;QAAEC,QAAQ,EAAEF,IAAI,GAAGN,MAAM,GAAGA,MAAM,GAAGM;MAAK;IAAE,CAAC,EAAE,IAAI,CAAC;EAClG,CAAC;EACDzB,aAAa,CAACI,SAAS,CAACD,gBAAgB,GAAG,YAAY;IACnD,IAAI,IAAI,CAACF,MAAM,CAAC4B,WAAW,EAAE;MACzB;IACJ;IACA,IAAI,CAAC5B,MAAM,CAAC6B,EAAE,CAAC3C,WAAW,EAAE,IAAI,CAACmB,mBAAmB,EAAE,IAAI,CAAC;IAC3D,IAAI,CAACL,MAAM,CAAC6B,EAAE,CAACvC,MAAM,CAACwC,kBAAkB,EAAE,IAAI,CAACC,qBAAqB,EAAE,IAAI,CAAC;IAC3E,IAAI,CAAC/B,MAAM,CAAC6B,EAAE,CAACvC,MAAM,CAAC0C,2BAA2B,EAAE,IAAI,CAACA,2BAA2B,EAAE,IAAI,CAAC;IAC1F,IAAI,CAAChC,MAAM,CAAC6B,EAAE,CAACvC,MAAM,CAAC2C,mBAAmB,EAAE,IAAI,CAACC,yBAAyB,EAAE,IAAI,CAAC;IAChF,IAAI,CAAClC,MAAM,CAAC6B,EAAE,CAACvC,MAAM,CAAC6C,OAAO,EAAE,IAAI,CAACA,OAAO,EAAE,IAAI,CAAC;EACtD,CAAC;EACDpC,aAAa,CAACI,SAAS,CAACiC,mBAAmB,GAAG,YAAY;IACtD,IAAI,IAAI,CAACpC,MAAM,CAAC4B,WAAW,EAAE;MACzB;IACJ;IACA,IAAI,CAAC5B,MAAM,CAACqC,GAAG,CAACnD,WAAW,EAAE,IAAI,CAACmB,mBAAmB,CAAC;IACtD,IAAI,CAACL,MAAM,CAACqC,GAAG,CAAC/C,MAAM,CAACwC,kBAAkB,EAAE,IAAI,CAACC,qBAAqB,CAAC;IACtE,IAAI,CAAC/B,MAAM,CAACqC,GAAG,CAAC/C,MAAM,CAAC0C,2BAA2B,EAAE,IAAI,CAACA,2BAA2B,CAAC;IACrF,IAAI,CAAChC,MAAM,CAACqC,GAAG,CAAC/C,MAAM,CAAC2C,mBAAmB,EAAE,IAAI,CAACC,yBAAyB,CAAC;IAC3E,IAAI,CAAClC,MAAM,CAACqC,GAAG,CAAC/C,MAAM,CAAC6C,OAAO,EAAE,IAAI,CAACA,OAAO,CAAC;EACjD,CAAC;EACDpC,aAAa,CAACI,SAAS,CAACmC,oBAAoB,GAAG,UAAUC,QAAQ,EAAE;IAC/D,IAAIC,IAAI,GAAG;MACPC,WAAW,EAAEjD,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE+C,QAAQ,EAAE,IAAI,CAAC;MAAEG,KAAK,EAAE,KAAK;MAAEC,QAAQ,EAAE,KAAK;MAAEC,OAAO,EAAE;IACzF,CAAC;IACD,IAAI,CAAC5C,MAAM,CAAC6C,MAAM,CAACvD,MAAM,CAACwD,cAAc,EAAEN,IAAI,CAAC;IAC/C,OAAOA,IAAI,CAACC,WAAW;EAC3B,CAAC;EACD1C,aAAa,CAACI,SAAS,CAAC6B,2BAA2B,GAAG,UAAUe,CAAC,EAAE;IAC/D,IAAIC,IAAI,GAAG,IAAI,CAAChD,MAAM;IACtB,IAAIgD,IAAI,CAACnC,oBAAoB,IAAImC,IAAI,CAACC,YAAY,CAACC,IAAI,KAAK,QAAQ,EAAE;MAClE,IAAIC,IAAI,GAAGH,IAAI,CAACI,OAAO;MACvB,IAAIC,WAAW,GAAG,IAAI9D,WAAW,CAAC,IAAI,CAACU,OAAO,EAAE,IAAI,EAAE,IAAI,CAACD,MAAM,CAAC;MAClE,IAAIsD,MAAM,GAAG9D,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEwD,IAAI,CAACO,mBAAmB,CAACR,CAAC,CAACS,GAAG,CAAC,EAAE,IAAI,CAAC;MAClER,IAAI,CAACH,MAAM,CAACvD,MAAM,CAACmE,2BAA2B,EAAEH,MAAM,CAAC;MACvD,IAAII,IAAI,GAAGX,CAAC,CAACY,WAAW,CAAC,IAAI,CAACrB,oBAAoB,CAACS,CAAC,CAACR,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC;MAC1EmB,IAAI,CAACE,sBAAsB,GAAG,IAAI;MAClCF,IAAI,CAACG,GAAG,GAAGR,WAAW,CAACS,MAAM,CAACR,MAAM,EAAEH,IAAI,CAAC;MAC3CJ,CAAC,CAACxC,QAAQ,CAACwD,MAAM,CAACL,IAAI,CAAC;MACvB,IAAIM,KAAK,GAAG,CAAC,CAAC;MACd,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGd,IAAI,CAACe,MAAM,EAAED,CAAC,EAAE,EAAE;QAClC,IAAI,CAACd,IAAI,CAACgB,QAAQ,CAACF,CAAC,CAAC9C,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACiD,OAAO,EAAE;UAC3C;QACJ;QACA,IAAIjB,IAAI,CAACgB,QAAQ,CAACF,CAAC,CAAC9C,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACkD,eAAe,EAAE;UAClDxE,kBAAkB,CAACsD,IAAI,CAACgB,QAAQ,CAACF,CAAC,CAAC9C,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE6C,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEb,IAAI,CAACe,MAAM,EAAE,IAAI,CAAC;QAC7F;MACJ;MACAR,IAAI,CAACY,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC;MAC/CxB,IAAI,CAACyB,UAAU,CAACC,cAAc,GAAG1B,IAAI,CAACyB,UAAU,CAACE,aAAa,CAACjB,IAAI,CAACY,IAAI,EAAEN,KAAK,CAAC;IACpF;EACJ,CAAC;EACDjE,aAAa,CAACI,SAAS,CAAC+B,yBAAyB,GAAG,UAAUwB,IAAI,EAAE;IAChE,IAAIV,IAAI,GAAG,IAAI,CAAChD,MAAM;IACtB,IAAI4E,KAAK,GAAG5B,IAAI,CAAC3B,OAAO,CAACwD,aAAa,CAAC,4CAA4C,CAAC;IACpF,IAAI7B,IAAI,CAACyB,UAAU,CAACC,cAAc,EAAE;MAChC,IAAIE,KAAK,IAAIA,KAAK,CAACE,KAAK,CAACC,OAAO,KAAK,MAAM,EAAE;QACzC,IAAIC,YAAY,GAAGJ,KAAK,CAACtD,qBAAqB,CAAC,CAAC;QAChD,IAAI2D,KAAK,GAAGjC,IAAI,CAAC3B,OAAO,CAAC6D,gBAAgB,CAAC,aAAa,CAAC;QACxD,IAAIZ,IAAI,GAAGW,KAAK,CAAC,CAAC,CAAC;QACnB,IAAIE,WAAW,GAAGnC,IAAI,CAACoC,UAAU,CAAC,CAAC,CAAC9D,qBAAqB,CAAC,CAAC,CAAC+D,IAAI;QAChE,IAAIJ,KAAK,CAACf,MAAM,GAAG,CAAC,EAAE;UAClBI,IAAI,GAAGW,KAAK,CAAC,CAAC,CAAC;QACnB;QACA,IAAID,YAAY,CAACK,IAAI,GAAGF,WAAW,IAAIH,YAAY,CAACM,KAAK,GAAGtC,IAAI,CAAC3B,OAAO,CAACkE,WAAW,EAAE;UAClF,IAAIC,OAAO,GAAGlB,IAAI,CAACO,aAAa,CAAC,+CAA+C,CAAC;UACjF,IAAI,CAACY,YAAY,CAACD,OAAO,EAAE;YAAEE,OAAO,EAAEhC,IAAI,CAACgC,OAAO;YAAEC,MAAM,EAAEjC,IAAI,CAACiC;UAAO,CAAC,EAAE,IAAI,CAAC;QACpF;MACJ,CAAC,MACI,IAAI3C,IAAI,CAACyB,UAAU,CAACC,cAAc,KAAK,CAACE,KAAK,IAAIA,KAAK,CAACE,KAAK,CAACC,OAAO,KAAK,MAAM,CAAC,EAAE;QACnF,IAAIa,cAAc,GAAG5C,IAAI,CAACyB,UAAU,CAACC,cAAc,CAACrD,OAAO,CAAC6D,gBAAgB,CAAC,+CAA+C,CAAC;QAC7H,KAAK,IAAIjB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2B,cAAc,CAAC1B,MAAM,EAAED,CAAC,EAAE,EAAE;UAC5CtE,MAAM,CAACiG,cAAc,CAACzB,QAAQ,CAACF,CAAC,CAAC9C,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACtD;QACA,IAAI,CAAC0E,6BAA6B,CAAC7C,IAAI,CAACyB,UAAU,CAACC,cAAc,CAACrD,OAAO,EAAE,IAAI,CAACiB,oBAAoB,CAACoB,IAAI,CAACnB,QAAQ,CAAC,CAAC;QACpHmB,IAAI,CAACoC,OAAO,GAAG9C,IAAI,CAACyB,UAAU,CAACC,cAAc,CAACqB,QAAQ,CAAC,CAAC;QACxD,IAAI,CAACrC,IAAI,CAACoC,OAAO,EAAE;UACf,IAAIN,OAAO,GAAGxC,IAAI,CAACyB,UAAU,CAACC,cAAc,CAACrD,OAAO,CAACwD,aAAa,CAAC,+CAA+C,CAAC;UACnH,IAAI,CAACY,YAAY,CAACD,OAAO,EAAE;YAAEE,OAAO,EAAEhC,IAAI,CAACgC,OAAO;YAAEC,MAAM,EAAEjC,IAAI,CAACiC;UAAO,CAAC,CAAC;QAC9E;MACJ;IACJ;EACJ,CAAC;EACD5F,aAAa,CAACI,SAAS,CAACsF,YAAY,GAAG,UAAUD,OAAO,EAAE9B,IAAI,EAAEsC,UAAU,EAAE;IACxE,IAAIhD,IAAI,GAAG,IAAI,CAAChD,MAAM;IACtB,IAAIwF,OAAO,EAAE;MACT,IAAIrC,IAAI,GAAGH,IAAI,CAACiD,WAAW;MAC3B,IAAIC,KAAK,GAAGtG,iBAAiB,CAAC4F,OAAO,CAACW,EAAE,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACvD,IAAIC,GAAG,GAAGrD,IAAI,CAACsD,gBAAgB,CAACJ,KAAK,CAAC;MACtC,IAAIK,SAAS,GAAG,IAAI,CAACvG,MAAM,CAACoF,UAAU,CAAC,CAAC,CAACoB,iBAAiB,CAACD,SAAS;MACpE,IAAI1C,GAAG,GAAGb,IAAI,CAACyD,aAAa,CAAC/C,IAAI,CAACgC,OAAO,CAAC;MAC1C,IAAIM,UAAU,IAAI,CAACK,GAAG,IAAK,CAAC3G,iBAAiB,CAACgE,IAAI,CAACiC,MAAM,CAAC,IAAIY,SAAS,GAAG,CAAE,IAAK,CAAC7G,iBAAiB,CAACgE,IAAI,CAACgC,OAAO,CAAC,IAAI,CAAC7B,GAAI,EAAE;QACxH,IAAI6C,aAAa,GAAG,KAAK,CAAC;QAC1B,KAAK,IAAIzC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGd,IAAI,CAACe,MAAM,IAAI,CAACmC,GAAG,EAAEpC,CAAC,EAAE,EAAE;UAC1C,IAAId,IAAI,CAACgB,QAAQ,CAACF,CAAC,CAAC9C,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC+E,KAAK,KAAKA,KAAK,EAAE;YAClDQ,aAAa,GAAGvD,IAAI,CAACgB,QAAQ,CAACF,CAAC,CAAC9C,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAChD;UACJ;QACJ;QACA,IAAI6E,UAAU,EAAE;UACZU,aAAa,GAAGL,GAAG;QACvB;QACA,IAAI,CAACrG,MAAM,CAAC6C,MAAM,CAACvD,MAAM,CAACmG,YAAY,EAAEiB,aAAa,CAAC;MAC1D;IACJ;EACJ,CAAC;EACD3G,aAAa,CAACI,SAAS,CAAC0F,6BAA6B,GAAG,UAAUvB,IAAI,EAAEqC,UAAU,EAAE;IAChF,IAAIC,MAAM,GAAG,EAAE,CAACC,KAAK,CAACC,IAAI,CAACxC,IAAI,CAACyC,sBAAsB,CAAC,SAAS,CAAC,CAAC;IAClE,KAAK,IAAI9C,CAAC,GAAG,CAAC,EAAE+C,GAAG,GAAGJ,MAAM,CAAC1C,MAAM,EAAED,CAAC,GAAG+C,GAAG,EAAE/C,CAAC,EAAE,EAAE;MAC/C,IAAIoC,GAAG,GAAGvG,mBAAmB,CAAC,IAAI,CAACE,MAAM,EAAE4G,MAAM,CAACzC,QAAQ,CAACF,CAAC,CAAC9C,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC8F,YAAY,CAAC,cAAc,CAAC,CAAC;MAC3G,IAAIC,KAAK,GAAGzH,QAAQ,CAAC4G,GAAG,CAACH,KAAK,EAAES,UAAU,CAAC;MAC3CO,KAAK,GAAGxH,iBAAiB,CAACwH,KAAK,CAAC,GAAG,EAAE,GAAGA,KAAK;MAC7CN,MAAM,CAACzC,QAAQ,CAACF,CAAC,CAAC9C,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC+F,KAAK,GAAGA,KAAK;IACpD;EACJ,CAAC;EACDnH,aAAa,CAACI,SAAS,CAAC4B,qBAAqB,GAAG,UAAU2B,IAAI,EAAE;IAC5D,IAAI,IAAI,CAAC1D,MAAM,CAACS,0BAA0B,IAAIiD,IAAI,CAACyD,MAAM,KAAK,QAAQ,EAAE;MACpE,IAAI5G,QAAQ,GAAG,IAAI,CAACN,OAAO,CAACO,UAAU,CAAC,iBAAiB,CAAC;MACzDD,QAAQ,CAAC6G,WAAW,CAACjI,UAAU,CAACyB,OAAO,CAAC,CAACmB,qBAAqB,CAAC,CAAC;IACpE;EACJ,CAAC;EACDhC,aAAa,CAACI,SAAS,CAACgC,OAAO,GAAG,YAAY;IAC1C,IAAI,CAACC,mBAAmB,CAAC,CAAC;EAC9B,CAAC;EACD,OAAOrC,aAAa;AACxB,CAAC,CAAC,CAAE;AACJ,SAASA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}